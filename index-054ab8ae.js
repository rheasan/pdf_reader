var WP=Object.defineProperty;var $P=(c,d,b)=>d in c?WP(c,d,{enumerable:!0,configurable:!0,writable:!0,value:b}):c[d]=b;var Fo=(c,d,b)=>($P(c,typeof d!="symbol"?d+"":d,b),b),r_=(c,d,b)=>{if(!d.has(c))throw TypeError("Cannot "+b)};var Ut=(c,d,b)=>(r_(c,d,"read from private field"),b?b.call(c):d.get(c)),An=(c,d,b)=>{if(d.has(c))throw TypeError("Cannot add the same private member more than once");d instanceof WeakSet?d.add(c):d.set(c,b)},Nn=(c,d,b,j)=>(r_(c,d,"write to private field"),j?j.call(c,b):d.set(c,b),b),s_=(c,d,b,j)=>({set _(_e){Nn(c,d,_e,b)},get _(){return Ut(c,d,j)}}),Sn=(c,d,b)=>(r_(c,d,"access private method"),b);(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const _e of document.querySelectorAll('link[rel="modulepreload"]'))j(_e);new MutationObserver(_e=>{for(const nt of _e)if(nt.type==="childList")for(const rt of nt.addedNodes)rt.tagName==="LINK"&&rt.rel==="modulepreload"&&j(rt)}).observe(document,{childList:!0,subtree:!0});function b(_e){const nt={};return _e.integrity&&(nt.integrity=_e.integrity),_e.referrerpolicy&&(nt.referrerPolicy=_e.referrerpolicy),_e.crossorigin==="use-credentials"?nt.credentials="include":_e.crossorigin==="anonymous"?nt.credentials="omit":nt.credentials="same-origin",nt}function j(_e){if(_e.ep)return;_e.ep=!0;const nt=b(_e);fetch(_e.href,nt)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}function getAugmentedNamespace(c){if(c.__esModule)return c;var d=c.default;if(typeof d=="function"){var b=function j(){if(this instanceof j){var _e=[null];_e.push.apply(_e,arguments);var nt=Function.bind.apply(d,_e);return new nt}return d.apply(this,arguments)};b.prototype=d.prototype}else b={};return Object.defineProperty(b,"__esModule",{value:!0}),Object.keys(c).forEach(function(j){var _e=Object.getOwnPropertyDescriptor(c,j);Object.defineProperty(b,j,_e.get?_e:{enumerable:!0,get:function(){return c[j]}})}),b}var jsxRuntimeExports={},jsxRuntime={get exports(){return jsxRuntimeExports},set exports(c){jsxRuntimeExports=c}},reactJsxRuntime_production_min={},reactExports={},react={get exports(){return reactExports},set exports(c){reactExports=c}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$1=Symbol.for("react.element"),n$1=Symbol.for("react.portal"),p$2=Symbol.for("react.fragment"),q$1=Symbol.for("react.strict_mode"),r$1=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),u=Symbol.for("react.context"),v$1=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),z$1=Symbol.iterator;function A$1(c){return c===null||typeof c!="object"?null:(c=z$1&&c[z$1]||c["@@iterator"],typeof c=="function"?c:null)}var B$1={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$1=Object.assign,D$1={};function E$1(c,d,b){this.props=c,this.context=d,this.refs=D$1,this.updater=b||B$1}E$1.prototype.isReactComponent={};E$1.prototype.setState=function(c,d){if(typeof c!="object"&&typeof c!="function"&&c!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,c,d,"setState")};E$1.prototype.forceUpdate=function(c){this.updater.enqueueForceUpdate(this,c,"forceUpdate")};function F(){}F.prototype=E$1.prototype;function G$1(c,d,b){this.props=c,this.context=d,this.refs=D$1,this.updater=b||B$1}var H$1=G$1.prototype=new F;H$1.constructor=G$1;C$1(H$1,E$1.prototype);H$1.isPureReactComponent=!0;var I$1=Array.isArray,J=Object.prototype.hasOwnProperty,K$1={current:null},L$1={key:!0,ref:!0,__self:!0,__source:!0};function M$1(c,d,b){var j,_e={},nt=null,rt=null;if(d!=null)for(j in d.ref!==void 0&&(rt=d.ref),d.key!==void 0&&(nt=""+d.key),d)J.call(d,j)&&!L$1.hasOwnProperty(j)&&(_e[j]=d[j]);var st=arguments.length-2;if(st===1)_e.children=b;else if(1<st){for(var it=Array(st),ct=0;ct<st;ct++)it[ct]=arguments[ct+2];_e.children=it}if(c&&c.defaultProps)for(j in st=c.defaultProps,st)_e[j]===void 0&&(_e[j]=st[j]);return{$$typeof:l$1,type:c,key:nt,ref:rt,props:_e,_owner:K$1.current}}function N$1(c,d){return{$$typeof:l$1,type:c.type,key:d,ref:c.ref,props:c.props,_owner:c._owner}}function O$1(c){return typeof c=="object"&&c!==null&&c.$$typeof===l$1}function escape$1(c){var d={"=":"=0",":":"=2"};return"$"+c.replace(/[=:]/g,function(b){return d[b]})}var P$1=/\/+/g;function Q$1(c,d){return typeof c=="object"&&c!==null&&c.key!=null?escape$1(""+c.key):d.toString(36)}function R$1(c,d,b,j,_e){var nt=typeof c;(nt==="undefined"||nt==="boolean")&&(c=null);var rt=!1;if(c===null)rt=!0;else switch(nt){case"string":case"number":rt=!0;break;case"object":switch(c.$$typeof){case l$1:case n$1:rt=!0}}if(rt)return rt=c,_e=_e(rt),c=j===""?"."+Q$1(rt,0):j,I$1(_e)?(b="",c!=null&&(b=c.replace(P$1,"$&/")+"/"),R$1(_e,d,b,"",function(ct){return ct})):_e!=null&&(O$1(_e)&&(_e=N$1(_e,b+(!_e.key||rt&&rt.key===_e.key?"":(""+_e.key).replace(P$1,"$&/")+"/")+c)),d.push(_e)),1;if(rt=0,j=j===""?".":j+":",I$1(c))for(var st=0;st<c.length;st++){nt=c[st];var it=j+Q$1(nt,st);rt+=R$1(nt,d,b,it,_e)}else if(it=A$1(c),typeof it=="function")for(c=it.call(c),st=0;!(nt=c.next()).done;)nt=nt.value,it=j+Q$1(nt,st++),rt+=R$1(nt,d,b,it,_e);else if(nt==="object")throw d=String(c),Error("Objects are not valid as a React child (found: "+(d==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":d)+"). If you meant to render a collection of children, use an array instead.");return rt}function S$1(c,d,b){if(c==null)return c;var j=[],_e=0;return R$1(c,j,"","",function(nt){return d.call(b,nt,_e++)}),j}function T$1(c){if(c._status===-1){var d=c._result;d=d(),d.then(function(b){(c._status===0||c._status===-1)&&(c._status=1,c._result=b)},function(b){(c._status===0||c._status===-1)&&(c._status=2,c._result=b)}),c._status===-1&&(c._status=0,c._result=d)}if(c._status===1)return c._result.default;throw c._result}var U$1={current:null},V$1={transition:null},W$1={ReactCurrentDispatcher:U$1,ReactCurrentBatchConfig:V$1,ReactCurrentOwner:K$1};react_production_min.Children={map:S$1,forEach:function(c,d,b){S$1(c,function(){d.apply(this,arguments)},b)},count:function(c){var d=0;return S$1(c,function(){d++}),d},toArray:function(c){return S$1(c,function(d){return d})||[]},only:function(c){if(!O$1(c))throw Error("React.Children.only expected to receive a single React element child.");return c}};react_production_min.Component=E$1;react_production_min.Fragment=p$2;react_production_min.Profiler=r$1;react_production_min.PureComponent=G$1;react_production_min.StrictMode=q$1;react_production_min.Suspense=w;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$1;react_production_min.cloneElement=function(c,d,b){if(c==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+c+".");var j=C$1({},c.props),_e=c.key,nt=c.ref,rt=c._owner;if(d!=null){if(d.ref!==void 0&&(nt=d.ref,rt=K$1.current),d.key!==void 0&&(_e=""+d.key),c.type&&c.type.defaultProps)var st=c.type.defaultProps;for(it in d)J.call(d,it)&&!L$1.hasOwnProperty(it)&&(j[it]=d[it]===void 0&&st!==void 0?st[it]:d[it])}var it=arguments.length-2;if(it===1)j.children=b;else if(1<it){st=Array(it);for(var ct=0;ct<it;ct++)st[ct]=arguments[ct+2];j.children=st}return{$$typeof:l$1,type:c.type,key:_e,ref:nt,props:j,_owner:rt}};react_production_min.createContext=function(c){return c={$$typeof:u,_currentValue:c,_currentValue2:c,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},c.Provider={$$typeof:t,_context:c},c.Consumer=c};react_production_min.createElement=M$1;react_production_min.createFactory=function(c){var d=M$1.bind(null,c);return d.type=c,d};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(c){return{$$typeof:v$1,render:c}};react_production_min.isValidElement=O$1;react_production_min.lazy=function(c){return{$$typeof:y,_payload:{_status:-1,_result:c},_init:T$1}};react_production_min.memo=function(c,d){return{$$typeof:x,type:c,compare:d===void 0?null:d}};react_production_min.startTransition=function(c){var d=V$1.transition;V$1.transition={};try{c()}finally{V$1.transition=d}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(c,d){return U$1.current.useCallback(c,d)};react_production_min.useContext=function(c){return U$1.current.useContext(c)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(c){return U$1.current.useDeferredValue(c)};react_production_min.useEffect=function(c,d){return U$1.current.useEffect(c,d)};react_production_min.useId=function(){return U$1.current.useId()};react_production_min.useImperativeHandle=function(c,d,b){return U$1.current.useImperativeHandle(c,d,b)};react_production_min.useInsertionEffect=function(c,d){return U$1.current.useInsertionEffect(c,d)};react_production_min.useLayoutEffect=function(c,d){return U$1.current.useLayoutEffect(c,d)};react_production_min.useMemo=function(c,d){return U$1.current.useMemo(c,d)};react_production_min.useReducer=function(c,d,b){return U$1.current.useReducer(c,d,b)};react_production_min.useRef=function(c){return U$1.current.useRef(c)};react_production_min.useState=function(c){return U$1.current.useState(c)};react_production_min.useSyncExternalStore=function(c,d,b){return U$1.current.useSyncExternalStore(c,d,b)};react_production_min.useTransition=function(){return U$1.current.useTransition()};react_production_min.version="18.2.0";(function(c){c.exports=react_production_min})(react);const React=getDefaultExportFromCjs(reactExports);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f=reactExports,k=Symbol.for("react.element"),l=Symbol.for("react.fragment"),m$1=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$1={key:!0,ref:!0,__self:!0,__source:!0};function q(c,d,b){var j,_e={},nt=null,rt=null;b!==void 0&&(nt=""+b),d.key!==void 0&&(nt=""+d.key),d.ref!==void 0&&(rt=d.ref);for(j in d)m$1.call(d,j)&&!p$1.hasOwnProperty(j)&&(_e[j]=d[j]);if(c&&c.defaultProps)for(j in d=c.defaultProps,d)_e[j]===void 0&&(_e[j]=d[j]);return{$$typeof:k,type:c,key:nt,ref:rt,props:_e,_owner:n.current}}reactJsxRuntime_production_min.Fragment=l;reactJsxRuntime_production_min.jsx=q;reactJsxRuntime_production_min.jsxs=q;(function(c){c.exports=reactJsxRuntime_production_min})(jsxRuntime);const jsx=jsxRuntimeExports.jsx,jsxs=jsxRuntimeExports.jsxs;var client={},reactDomExports={},reactDom={get exports(){return reactDomExports},set exports(c){reactDomExports=c}},reactDom_production_min={},schedulerExports={},scheduler={get exports(){return schedulerExports},set exports(c){schedulerExports=c}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(c){function d(Kt,tn){var hn=Kt.length;Kt.push(tn);e:for(;0<hn;){var fn=hn-1>>>1,Wt=Kt[fn];if(0<_e(Wt,tn))Kt[fn]=tn,Kt[hn]=Wt,hn=fn;else break e}}function b(Kt){return Kt.length===0?null:Kt[0]}function j(Kt){if(Kt.length===0)return null;var tn=Kt[0],hn=Kt.pop();if(hn!==tn){Kt[0]=hn;e:for(var fn=0,Wt=Kt.length,xt=Wt>>>1;fn<xt;){var Et=2*(fn+1)-1,jt=Kt[Et],Gt=Et+1,Ht=Kt[Gt];if(0>_e(jt,hn))Gt<Wt&&0>_e(Ht,jt)?(Kt[fn]=Ht,Kt[Gt]=hn,fn=Gt):(Kt[fn]=jt,Kt[Et]=hn,fn=Et);else if(Gt<Wt&&0>_e(Ht,hn))Kt[fn]=Ht,Kt[Gt]=hn,fn=Gt;else break e}}return tn}function _e(Kt,tn){var hn=Kt.sortIndex-tn.sortIndex;return hn!==0?hn:Kt.id-tn.id}if(typeof performance=="object"&&typeof performance.now=="function"){var nt=performance;c.unstable_now=function(){return nt.now()}}else{var rt=Date,st=rt.now();c.unstable_now=function(){return rt.now()-st}}var it=[],ct=[],gt=1,ft=null,ht=3,bt=!1,wt=!1,lt=!1,_t=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,kt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function pt(Kt){for(var tn=b(ct);tn!==null;){if(tn.callback===null)j(ct);else if(tn.startTime<=Kt)j(ct),tn.sortIndex=tn.expirationTime,d(it,tn);else break;tn=b(ct)}}function mt(Kt){if(lt=!1,pt(Kt),!wt)if(b(it)!==null)wt=!0,an(Pt);else{var tn=b(ct);tn!==null&&Jt(mt,tn.startTime-Kt)}}function Pt(Kt,tn){wt=!1,lt&&(lt=!1,ut(at),at=-1),bt=!0;var hn=ht;try{for(pt(tn),ft=b(it);ft!==null&&(!(ft.expirationTime>tn)||Kt&&!Bt());){var fn=ft.callback;if(typeof fn=="function"){ft.callback=null,ht=ft.priorityLevel;var Wt=fn(ft.expirationTime<=tn);tn=c.unstable_now(),typeof Wt=="function"?ft.callback=Wt:ft===b(it)&&j(it),pt(tn)}else j(it);ft=b(it)}if(ft!==null)var xt=!0;else{var Et=b(ct);Et!==null&&Jt(mt,Et.startTime-tn),xt=!1}return xt}finally{ft=null,ht=hn,bt=!1}}var It=!1,Ot=null,at=-1,yt=5,Ct=-1;function Bt(){return!(c.unstable_now()-Ct<yt)}function Vt(){if(Ot!==null){var Kt=c.unstable_now();Ct=Kt;var tn=!0;try{tn=Ot(!0,Kt)}finally{tn?en():(It=!1,Ot=null)}}else It=!1}var en;if(typeof kt=="function")en=function(){kt(Vt)};else if(typeof MessageChannel<"u"){var Xt=new MessageChannel,dn=Xt.port2;Xt.port1.onmessage=Vt,en=function(){dn.postMessage(null)}}else en=function(){_t(Vt,0)};function an(Kt){Ot=Kt,It||(It=!0,en())}function Jt(Kt,tn){at=_t(function(){Kt(c.unstable_now())},tn)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(Kt){Kt.callback=null},c.unstable_continueExecution=function(){wt||bt||(wt=!0,an(Pt))},c.unstable_forceFrameRate=function(Kt){0>Kt||125<Kt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):yt=0<Kt?Math.floor(1e3/Kt):5},c.unstable_getCurrentPriorityLevel=function(){return ht},c.unstable_getFirstCallbackNode=function(){return b(it)},c.unstable_next=function(Kt){switch(ht){case 1:case 2:case 3:var tn=3;break;default:tn=ht}var hn=ht;ht=tn;try{return Kt()}finally{ht=hn}},c.unstable_pauseExecution=function(){},c.unstable_requestPaint=function(){},c.unstable_runWithPriority=function(Kt,tn){switch(Kt){case 1:case 2:case 3:case 4:case 5:break;default:Kt=3}var hn=ht;ht=Kt;try{return tn()}finally{ht=hn}},c.unstable_scheduleCallback=function(Kt,tn,hn){var fn=c.unstable_now();switch(typeof hn=="object"&&hn!==null?(hn=hn.delay,hn=typeof hn=="number"&&0<hn?fn+hn:fn):hn=fn,Kt){case 1:var Wt=-1;break;case 2:Wt=250;break;case 5:Wt=1073741823;break;case 4:Wt=1e4;break;default:Wt=5e3}return Wt=hn+Wt,Kt={id:gt++,callback:tn,priorityLevel:Kt,startTime:hn,expirationTime:Wt,sortIndex:-1},hn>fn?(Kt.sortIndex=hn,d(ct,Kt),b(it)===null&&Kt===b(ct)&&(lt?(ut(at),at=-1):lt=!0,Jt(mt,hn-fn))):(Kt.sortIndex=Wt,d(it,Kt),wt||bt||(wt=!0,an(Pt))),Kt},c.unstable_shouldYield=Bt,c.unstable_wrapCallback=function(Kt){var tn=ht;return function(){var hn=ht;ht=tn;try{return Kt.apply(this,arguments)}finally{ht=hn}}}})(scheduler_production_min);(function(c){c.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports;function p(c){for(var d="https://reactjs.org/docs/error-decoder.html?invariant="+c,b=1;b<arguments.length;b++)d+="&args[]="+encodeURIComponent(arguments[b]);return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(c,d){ha(c,d),ha(c+"Capture",d)}function ha(c,d){for(ea[c]=d,c=0;c<d.length;c++)da.add(d[c])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(c){return ja.call(ma,c)?!0:ja.call(la,c)?!1:ka.test(c)?ma[c]=!0:(la[c]=!0,!1)}function pa(c,d,b,j){if(b!==null&&b.type===0)return!1;switch(typeof d){case"function":case"symbol":return!0;case"boolean":return j?!1:b!==null?!b.acceptsBooleans:(c=c.toLowerCase().slice(0,5),c!=="data-"&&c!=="aria-");default:return!1}}function qa(c,d,b,j){if(d===null||typeof d>"u"||pa(c,d,b,j))return!0;if(j)return!1;if(b!==null)switch(b.type){case 3:return!d;case 4:return d===!1;case 5:return isNaN(d);case 6:return isNaN(d)||1>d}return!1}function v(c,d,b,j,_e,nt,rt){this.acceptsBooleans=d===2||d===3||d===4,this.attributeName=j,this.attributeNamespace=_e,this.mustUseProperty=b,this.propertyName=c,this.type=d,this.sanitizeURL=nt,this.removeEmptyString=rt}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(c){z[c]=new v(c,0,!1,c,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(c){var d=c[0];z[d]=new v(d,1,!1,c[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(c){z[c]=new v(c,2,!1,c.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(c){z[c]=new v(c,2,!1,c,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(c){z[c]=new v(c,3,!1,c.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(c){z[c]=new v(c,3,!0,c,null,!1,!1)});["capture","download"].forEach(function(c){z[c]=new v(c,4,!1,c,null,!1,!1)});["cols","rows","size","span"].forEach(function(c){z[c]=new v(c,6,!1,c,null,!1,!1)});["rowSpan","start"].forEach(function(c){z[c]=new v(c,5,!1,c.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(c){return c[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(c){var d=c.replace(ra,sa);z[d]=new v(d,1,!1,c,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(c){var d=c.replace(ra,sa);z[d]=new v(d,1,!1,c,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(c){var d=c.replace(ra,sa);z[d]=new v(d,1,!1,c,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(c){z[c]=new v(c,1,!1,c.toLowerCase(),null,!1,!1)});z.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(c){z[c]=new v(c,1,!1,c.toLowerCase(),null,!0,!0)});function ta(c,d,b,j){var _e=z.hasOwnProperty(d)?z[d]:null;(_e!==null?_e.type!==0:j||!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(qa(d,b,_e,j)&&(b=null),j||_e===null?oa(d)&&(b===null?c.removeAttribute(d):c.setAttribute(d,""+b)):_e.mustUseProperty?c[_e.propertyName]=b===null?_e.type===3?!1:"":b:(d=_e.attributeName,j=_e.attributeNamespace,b===null?c.removeAttribute(d):(_e=_e.type,b=_e===3||_e===4&&b===!0?"":""+b,j?c.setAttributeNS(j,d,b):c.setAttribute(d,b))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(c){return c===null||typeof c!="object"?null:(c=Ja&&c[Ja]||c["@@iterator"],typeof c=="function"?c:null)}var A=Object.assign,La;function Ma(c){if(La===void 0)try{throw Error()}catch(b){var d=b.stack.trim().match(/\n( *(at )?)/);La=d&&d[1]||""}return`
`+La+c}var Na=!1;function Oa(c,d){if(!c||Na)return"";Na=!0;var b=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(d)if(d=function(){throw Error()},Object.defineProperty(d.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(d,[])}catch(ct){var j=ct}Reflect.construct(c,[],d)}else{try{d.call()}catch(ct){j=ct}c.call(d.prototype)}else{try{throw Error()}catch(ct){j=ct}c()}}catch(ct){if(ct&&j&&typeof ct.stack=="string"){for(var _e=ct.stack.split(`
`),nt=j.stack.split(`
`),rt=_e.length-1,st=nt.length-1;1<=rt&&0<=st&&_e[rt]!==nt[st];)st--;for(;1<=rt&&0<=st;rt--,st--)if(_e[rt]!==nt[st]){if(rt!==1||st!==1)do if(rt--,st--,0>st||_e[rt]!==nt[st]){var it=`
`+_e[rt].replace(" at new "," at ");return c.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",c.displayName)),it}while(1<=rt&&0<=st);break}}}finally{Na=!1,Error.prepareStackTrace=b}return(c=c?c.displayName||c.name:"")?Ma(c):""}function Pa(c){switch(c.tag){case 5:return Ma(c.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return c=Oa(c.type,!1),c;case 11:return c=Oa(c.type.render,!1),c;case 1:return c=Oa(c.type,!0),c;default:return""}}function Qa(c){if(c==null)return null;if(typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case Ca:return(c.displayName||"Context")+".Consumer";case Ba:return(c._context.displayName||"Context")+".Provider";case Da:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case Ga:return d=c.displayName||null,d!==null?d:Qa(c.type)||"Memo";case Ha:d=c._payload,c=c._init;try{return Qa(c(d))}catch{}}return null}function Ra(c){var d=c.type;switch(c.tag){case 24:return"Cache";case 9:return(d.displayName||"Context")+".Consumer";case 10:return(d._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return c=d.render,c=c.displayName||c.name||"",d.displayName||(c!==""?"ForwardRef("+c+")":"ForwardRef");case 7:return"Fragment";case 5:return d;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(d);case 8:return d===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d}return null}function Sa(c){switch(typeof c){case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Ta(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Ua(c){var d=Ta(c)?"checked":"value",b=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),j=""+c[d];if(!c.hasOwnProperty(d)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var _e=b.get,nt=b.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return _e.call(this)},set:function(rt){j=""+rt,nt.call(this,rt)}}),Object.defineProperty(c,d,{enumerable:b.enumerable}),{getValue:function(){return j},setValue:function(rt){j=""+rt},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function Va(c){c._valueTracker||(c._valueTracker=Ua(c))}function Wa(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var b=d.getValue(),j="";return c&&(j=Ta(c)?c.checked?"true":"false":c.value),c=j,c!==b?(d.setValue(c),!0):!1}function Xa(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}function Ya(c,d){var b=d.checked;return A({},d,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:b??c._wrapperState.initialChecked})}function Za(c,d){var b=d.defaultValue==null?"":d.defaultValue,j=d.checked!=null?d.checked:d.defaultChecked;b=Sa(d.value!=null?d.value:b),c._wrapperState={initialChecked:j,initialValue:b,controlled:d.type==="checkbox"||d.type==="radio"?d.checked!=null:d.value!=null}}function ab(c,d){d=d.checked,d!=null&&ta(c,"checked",d,!1)}function bb(c,d){ab(c,d);var b=Sa(d.value),j=d.type;if(b!=null)j==="number"?(b===0&&c.value===""||c.value!=b)&&(c.value=""+b):c.value!==""+b&&(c.value=""+b);else if(j==="submit"||j==="reset"){c.removeAttribute("value");return}d.hasOwnProperty("value")?cb(c,d.type,b):d.hasOwnProperty("defaultValue")&&cb(c,d.type,Sa(d.defaultValue)),d.checked==null&&d.defaultChecked!=null&&(c.defaultChecked=!!d.defaultChecked)}function db(c,d,b){if(d.hasOwnProperty("value")||d.hasOwnProperty("defaultValue")){var j=d.type;if(!(j!=="submit"&&j!=="reset"||d.value!==void 0&&d.value!==null))return;d=""+c._wrapperState.initialValue,b||d===c.value||(c.value=d),c.defaultValue=d}b=c.name,b!==""&&(c.name=""),c.defaultChecked=!!c._wrapperState.initialChecked,b!==""&&(c.name=b)}function cb(c,d,b){(d!=="number"||Xa(c.ownerDocument)!==c)&&(b==null?c.defaultValue=""+c._wrapperState.initialValue:c.defaultValue!==""+b&&(c.defaultValue=""+b))}var eb=Array.isArray;function fb(c,d,b,j){if(c=c.options,d){d={};for(var _e=0;_e<b.length;_e++)d["$"+b[_e]]=!0;for(b=0;b<c.length;b++)_e=d.hasOwnProperty("$"+c[b].value),c[b].selected!==_e&&(c[b].selected=_e),_e&&j&&(c[b].defaultSelected=!0)}else{for(b=""+Sa(b),d=null,_e=0;_e<c.length;_e++){if(c[_e].value===b){c[_e].selected=!0,j&&(c[_e].defaultSelected=!0);return}d!==null||c[_e].disabled||(d=c[_e])}d!==null&&(d.selected=!0)}}function gb(c,d){if(d.dangerouslySetInnerHTML!=null)throw Error(p(91));return A({},d,{value:void 0,defaultValue:void 0,children:""+c._wrapperState.initialValue})}function hb(c,d){var b=d.value;if(b==null){if(b=d.children,d=d.defaultValue,b!=null){if(d!=null)throw Error(p(92));if(eb(b)){if(1<b.length)throw Error(p(93));b=b[0]}d=b}d==null&&(d=""),b=d}c._wrapperState={initialValue:Sa(b)}}function ib(c,d){var b=Sa(d.value),j=Sa(d.defaultValue);b!=null&&(b=""+b,b!==c.value&&(c.value=b),d.defaultValue==null&&c.defaultValue!==b&&(c.defaultValue=b)),j!=null&&(c.defaultValue=""+j)}function jb(c){var d=c.textContent;d===c._wrapperState.initialValue&&d!==""&&d!==null&&(c.value=d)}function kb(c){switch(c){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(c,d){return c==null||c==="http://www.w3.org/1999/xhtml"?kb(d):c==="http://www.w3.org/2000/svg"&&d==="foreignObject"?"http://www.w3.org/1999/xhtml":c}var mb,nb=function(c){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(d,b,j,_e){MSApp.execUnsafeLocalFunction(function(){return c(d,b,j,_e)})}:c}(function(c,d){if(c.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in c)c.innerHTML=d;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+d.valueOf().toString()+"</svg>",d=mb.firstChild;c.firstChild;)c.removeChild(c.firstChild);for(;d.firstChild;)c.appendChild(d.firstChild)}});function ob(c,d){if(d){var b=c.firstChild;if(b&&b===c.lastChild&&b.nodeType===3){b.nodeValue=d;return}}c.textContent=d}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(c){qb.forEach(function(d){d=d+c.charAt(0).toUpperCase()+c.substring(1),pb[d]=pb[c]})});function rb(c,d,b){return d==null||typeof d=="boolean"||d===""?"":b||typeof d!="number"||d===0||pb.hasOwnProperty(c)&&pb[c]?(""+d).trim():d+"px"}function sb(c,d){c=c.style;for(var b in d)if(d.hasOwnProperty(b)){var j=b.indexOf("--")===0,_e=rb(b,d[b],j);b==="float"&&(b="cssFloat"),j?c.setProperty(b,_e):c[b]=_e}}var tb=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(c,d){if(d){if(tb[c]&&(d.children!=null||d.dangerouslySetInnerHTML!=null))throw Error(p(137,c));if(d.dangerouslySetInnerHTML!=null){if(d.children!=null)throw Error(p(60));if(typeof d.dangerouslySetInnerHTML!="object"||!("__html"in d.dangerouslySetInnerHTML))throw Error(p(61))}if(d.style!=null&&typeof d.style!="object")throw Error(p(62))}}function vb(c,d){if(c.indexOf("-")===-1)return typeof d.is=="string";switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var yb=null,zb=null,Ab=null;function Bb(c){if(c=Cb(c)){if(typeof yb!="function")throw Error(p(280));var d=c.stateNode;d&&(d=Db(d),yb(c.stateNode,c.type,d))}}function Eb(c){zb?Ab?Ab.push(c):Ab=[c]:zb=c}function Fb(){if(zb){var c=zb,d=Ab;if(Ab=zb=null,Bb(c),d)for(c=0;c<d.length;c++)Bb(d[c])}}function Gb(c,d){return c(d)}function Hb(){}var Ib=!1;function Jb(c,d,b){if(Ib)return c(d,b);Ib=!0;try{return Gb(c,d,b)}finally{Ib=!1,(zb!==null||Ab!==null)&&(Hb(),Fb())}}function Kb(c,d){var b=c.stateNode;if(b===null)return null;var j=Db(b);if(j===null)return null;b=j[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(c=c.type,j=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!j;break e;default:c=!1}if(c)return null;if(b&&typeof b!="function")throw Error(p(231,d,typeof b));return b}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(c,d,b,j,_e,nt,rt,st,it){var ct=Array.prototype.slice.call(arguments,3);try{d.apply(b,ct)}catch(gt){this.onError(gt)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(c){Ob=!0,Pb=c}};function Tb(c,d,b,j,_e,nt,rt,st,it){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(c,d,b,j,_e,nt,rt,st,it){if(Tb.apply(this,arguments),Ob){if(Ob){var ct=Pb;Ob=!1,Pb=null}else throw Error(p(198));Qb||(Qb=!0,Rb=ct)}}function Vb(c){var d=c,b=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,d.flags&4098&&(b=d.return),c=d.return;while(c)}return d.tag===3?b:null}function Wb(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function Xb(c){if(Vb(c)!==c)throw Error(p(188))}function Yb(c){var d=c.alternate;if(!d){if(d=Vb(c),d===null)throw Error(p(188));return d!==c?null:c}for(var b=c,j=d;;){var _e=b.return;if(_e===null)break;var nt=_e.alternate;if(nt===null){if(j=_e.return,j!==null){b=j;continue}break}if(_e.child===nt.child){for(nt=_e.child;nt;){if(nt===b)return Xb(_e),c;if(nt===j)return Xb(_e),d;nt=nt.sibling}throw Error(p(188))}if(b.return!==j.return)b=_e,j=nt;else{for(var rt=!1,st=_e.child;st;){if(st===b){rt=!0,b=_e,j=nt;break}if(st===j){rt=!0,j=_e,b=nt;break}st=st.sibling}if(!rt){for(st=nt.child;st;){if(st===b){rt=!0,b=nt,j=_e;break}if(st===j){rt=!0,j=nt,b=_e;break}st=st.sibling}if(!rt)throw Error(p(189))}}if(b.alternate!==j)throw Error(p(190))}if(b.tag!==3)throw Error(p(188));return b.stateNode.current===b?c:d}function Zb(c){return c=Yb(c),c!==null?$b(c):null}function $b(c){if(c.tag===5||c.tag===6)return c;for(c=c.child;c!==null;){var d=$b(c);if(d!==null)return d;c=c.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(c){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,c,void 0,(c.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(c){return c>>>=0,c===0?32:31-(pc(c)/qc|0)|0}var rc=64,sc=4194304;function tc(c){switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return c&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return c}}function uc(c,d){var b=c.pendingLanes;if(b===0)return 0;var j=0,_e=c.suspendedLanes,nt=c.pingedLanes,rt=b&268435455;if(rt!==0){var st=rt&~_e;st!==0?j=tc(st):(nt&=rt,nt!==0&&(j=tc(nt)))}else rt=b&~_e,rt!==0?j=tc(rt):nt!==0&&(j=tc(nt));if(j===0)return 0;if(d!==0&&d!==j&&!(d&_e)&&(_e=j&-j,nt=d&-d,_e>=nt||_e===16&&(nt&4194240)!==0))return d;if(j&4&&(j|=b&16),d=c.entangledLanes,d!==0)for(c=c.entanglements,d&=j;0<d;)b=31-oc(d),_e=1<<b,j|=c[b],d&=~_e;return j}function vc(c,d){switch(c){case 1:case 2:case 4:return d+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(c,d){for(var b=c.suspendedLanes,j=c.pingedLanes,_e=c.expirationTimes,nt=c.pendingLanes;0<nt;){var rt=31-oc(nt),st=1<<rt,it=_e[rt];it===-1?(!(st&b)||st&j)&&(_e[rt]=vc(st,d)):it<=d&&(c.expiredLanes|=st),nt&=~st}}function xc(c){return c=c.pendingLanes&-1073741825,c!==0?c:c&1073741824?1073741824:0}function yc(){var c=rc;return rc<<=1,!(rc&4194240)&&(rc=64),c}function zc(c){for(var d=[],b=0;31>b;b++)d.push(c);return d}function Ac(c,d,b){c.pendingLanes|=d,d!==536870912&&(c.suspendedLanes=0,c.pingedLanes=0),c=c.eventTimes,d=31-oc(d),c[d]=b}function Bc(c,d){var b=c.pendingLanes&~d;c.pendingLanes=d,c.suspendedLanes=0,c.pingedLanes=0,c.expiredLanes&=d,c.mutableReadLanes&=d,c.entangledLanes&=d,d=c.entanglements;var j=c.eventTimes;for(c=c.expirationTimes;0<b;){var _e=31-oc(b),nt=1<<_e;d[_e]=0,j[_e]=-1,c[_e]=-1,b&=~nt}}function Cc(c,d){var b=c.entangledLanes|=d;for(c=c.entanglements;b;){var j=31-oc(b),_e=1<<j;_e&d|c[j]&d&&(c[j]|=d),b&=~_e}}var C=0;function Dc(c){return c&=-c,1<c?4<c?c&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(c,d){switch(c){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(d.pointerId)}}function Tc(c,d,b,j,_e,nt){return c===null||c.nativeEvent!==nt?(c={blockedOn:d,domEventName:b,eventSystemFlags:j,nativeEvent:nt,targetContainers:[_e]},d!==null&&(d=Cb(d),d!==null&&Fc(d)),c):(c.eventSystemFlags|=j,d=c.targetContainers,_e!==null&&d.indexOf(_e)===-1&&d.push(_e),c)}function Uc(c,d,b,j,_e){switch(d){case"focusin":return Lc=Tc(Lc,c,d,b,j,_e),!0;case"dragenter":return Mc=Tc(Mc,c,d,b,j,_e),!0;case"mouseover":return Nc=Tc(Nc,c,d,b,j,_e),!0;case"pointerover":var nt=_e.pointerId;return Oc.set(nt,Tc(Oc.get(nt)||null,c,d,b,j,_e)),!0;case"gotpointercapture":return nt=_e.pointerId,Pc.set(nt,Tc(Pc.get(nt)||null,c,d,b,j,_e)),!0}return!1}function Vc(c){var d=Wc(c.target);if(d!==null){var b=Vb(d);if(b!==null){if(d=b.tag,d===13){if(d=Wb(b),d!==null){c.blockedOn=d,Ic(c.priority,function(){Gc(b)});return}}else if(d===3&&b.stateNode.current.memoizedState.isDehydrated){c.blockedOn=b.tag===3?b.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Xc(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var b=Yc(c.domEventName,c.eventSystemFlags,d[0],c.nativeEvent);if(b===null){b=c.nativeEvent;var j=new b.constructor(b.type,b);wb=j,b.target.dispatchEvent(j),wb=null}else return d=Cb(b),d!==null&&Fc(d),c.blockedOn=b,!1;d.shift()}return!0}function Zc(c,d,b){Xc(c)&&b.delete(d)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(c,d){c.blockedOn===d&&(c.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(c){function d(_e){return ad(_e,c)}if(0<Kc.length){ad(Kc[0],c);for(var b=1;b<Kc.length;b++){var j=Kc[b];j.blockedOn===c&&(j.blockedOn=null)}}for(Lc!==null&&ad(Lc,c),Mc!==null&&ad(Mc,c),Nc!==null&&ad(Nc,c),Oc.forEach(d),Pc.forEach(d),b=0;b<Qc.length;b++)j=Qc[b],j.blockedOn===c&&(j.blockedOn=null);for(;0<Qc.length&&(b=Qc[0],b.blockedOn===null);)Vc(b),b.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(c,d,b,j){var _e=C,nt=cd.transition;cd.transition=null;try{C=1,fd(c,d,b,j)}finally{C=_e,cd.transition=nt}}function gd(c,d,b,j){var _e=C,nt=cd.transition;cd.transition=null;try{C=4,fd(c,d,b,j)}finally{C=_e,cd.transition=nt}}function fd(c,d,b,j){if(dd){var _e=Yc(c,d,b,j);if(_e===null)hd(c,d,j,id,b),Sc(c,j);else if(Uc(_e,c,d,b,j))j.stopPropagation();else if(Sc(c,j),d&4&&-1<Rc.indexOf(c)){for(;_e!==null;){var nt=Cb(_e);if(nt!==null&&Ec(nt),nt=Yc(c,d,b,j),nt===null&&hd(c,d,j,id,b),nt===_e)break;_e=nt}_e!==null&&j.stopPropagation()}else hd(c,d,j,null,b)}}var id=null;function Yc(c,d,b,j){if(id=null,c=xb(j),c=Wc(c),c!==null)if(d=Vb(c),d===null)c=null;else if(b=d.tag,b===13){if(c=Wb(d),c!==null)return c;c=null}else if(b===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null);return id=c,null}function jd(c){switch(c){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var c,d=ld,b=d.length,j,_e="value"in kd?kd.value:kd.textContent,nt=_e.length;for(c=0;c<b&&d[c]===_e[c];c++);var rt=b-c;for(j=1;j<=rt&&d[b-j]===_e[nt-j];j++);return md=_e.slice(c,1<j?1-j:void 0)}function od(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function pd(){return!0}function qd(){return!1}function rd(c){function d(b,j,_e,nt,rt){this._reactName=b,this._targetInst=_e,this.type=j,this.nativeEvent=nt,this.target=rt,this.currentTarget=null;for(var st in c)c.hasOwnProperty(st)&&(b=c[st],this[st]=b?b(nt):nt[st]);return this.isDefaultPrevented=(nt.defaultPrevented!=null?nt.defaultPrevented:nt.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var b=this.nativeEvent;b&&(b.preventDefault?b.preventDefault():typeof b.returnValue!="unknown"&&(b.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var b=this.nativeEvent;b&&(b.stopPropagation?b.stopPropagation():typeof b.cancelBubble!="unknown"&&(b.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),d}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==yd&&(yd&&c.type==="mousemove"?(wd=c.screenX-yd.screenX,xd=c.screenY-yd.screenY):xd=wd=0,yd=c),wd)},movementY:function(c){return"movementY"in c?c.movementY:xd}}),Bd=rd(Ad),Cd=A({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A({},sd,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=Od[c])?!!d[c]:!1}function zd(){return Pd}var Qd=A({},ud,{key:function(c){if(c.key){var d=Md[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=od(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Nd[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(c){return c.type==="keypress"?od(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?od(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Rd=rd(Qd),Sd=A({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A({},Ad,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae=ia&&"CompositionEvent"in window,be=null;ia&&"documentMode"in document&&(be=document.documentMode);var ce=ia&&"TextEvent"in window&&!be,de=ia&&(!ae||be&&8<be&&11>=be),ee=String.fromCharCode(32),fe=!1;function ge(c,d){switch(c){case"keyup":return $d.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var ie=!1;function je(c,d){switch(c){case"compositionend":return he(d);case"keypress":return d.which!==32?null:(fe=!0,ee);case"textInput":return c=d.data,c===ee&&fe?null:c;default:return null}}function ke(c,d){if(ie)return c==="compositionend"||!ae&&ge(c,d)?(c=nd(),md=ld=kd=null,ie=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return de&&d.locale!=="ko"?null:d.data;default:return null}}var le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!le[c.type]:d==="textarea"}function ne(c,d,b,j){Eb(j),d=oe(d,"onChange"),0<d.length&&(b=new td("onChange","change",null,b,j),c.push({event:b,listeners:d}))}var pe=null,qe=null;function re(c){se(c,0)}function te(c){var d=ue(c);if(Wa(d))return c}function ve(c,d){if(c==="change")return d}var we=!1;if(ia){var xe;if(ia){var ye="oninput"in document;if(!ye){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye=typeof ze.oninput=="function"}xe=ye}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe&&(pe.detachEvent("onpropertychange",Be),qe=pe=null)}function Be(c){if(c.propertyName==="value"&&te(qe)){var d=[];ne(d,qe,c,xb(c)),Jb(re,d)}}function Ce(c,d,b){c==="focusin"?(Ae(),pe=d,qe=b,pe.attachEvent("onpropertychange",Be)):c==="focusout"&&Ae()}function De(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return te(qe)}function Ee(c,d){if(c==="click")return te(d)}function Fe(c,d){if(c==="input"||c==="change")return te(d)}function Ge(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var He=typeof Object.is=="function"?Object.is:Ge;function Ie(c,d){if(He(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var b=Object.keys(c),j=Object.keys(d);if(b.length!==j.length)return!1;for(j=0;j<b.length;j++){var _e=b[j];if(!ja.call(d,_e)||!He(c[_e],d[_e]))return!1}return!0}function Je(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function Ke(c,d){var b=Je(c);c=0;for(var j;b;){if(b.nodeType===3){if(j=c+b.textContent.length,c<=d&&j>=d)return{node:b,offset:d-c};c=j}e:{for(;b;){if(b.nextSibling){b=b.nextSibling;break e}b=b.parentNode}b=void 0}b=Je(b)}}function Le(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?Le(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function Me(){for(var c=window,d=Xa();d instanceof c.HTMLIFrameElement;){try{var b=typeof d.contentWindow.location.href=="string"}catch{b=!1}if(b)c=d.contentWindow;else break;d=Xa(c.document)}return d}function Ne(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}function Oe(c){var d=Me(),b=c.focusedElem,j=c.selectionRange;if(d!==b&&b&&b.ownerDocument&&Le(b.ownerDocument.documentElement,b)){if(j!==null&&Ne(b)){if(d=j.start,c=j.end,c===void 0&&(c=d),"selectionStart"in b)b.selectionStart=d,b.selectionEnd=Math.min(c,b.value.length);else if(c=(d=b.ownerDocument||document)&&d.defaultView||window,c.getSelection){c=c.getSelection();var _e=b.textContent.length,nt=Math.min(j.start,_e);j=j.end===void 0?nt:Math.min(j.end,_e),!c.extend&&nt>j&&(_e=j,j=nt,nt=_e),_e=Ke(b,nt);var rt=Ke(b,j);_e&&rt&&(c.rangeCount!==1||c.anchorNode!==_e.node||c.anchorOffset!==_e.offset||c.focusNode!==rt.node||c.focusOffset!==rt.offset)&&(d=d.createRange(),d.setStart(_e.node,_e.offset),c.removeAllRanges(),nt>j?(c.addRange(d),c.extend(rt.node,rt.offset)):(d.setEnd(rt.node,rt.offset),c.addRange(d)))}}for(d=[],c=b;c=c.parentNode;)c.nodeType===1&&d.push({element:c,left:c.scrollLeft,top:c.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<d.length;b++)c=d[b],c.element.scrollLeft=c.left,c.element.scrollTop=c.top}}var Pe=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se=null,Te=!1;function Ue(c,d,b){var j=b.window===b?b.document:b.nodeType===9?b:b.ownerDocument;Te||Qe==null||Qe!==Xa(j)||(j=Qe,"selectionStart"in j&&Ne(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),Se&&Ie(Se,j)||(Se=j,j=oe(Re,"onSelect"),0<j.length&&(d=new td("onSelect","select",null,d,b),c.push({event:d,listeners:j}),d.target=Qe)))}function Ve(c,d){var b={};return b[c.toLowerCase()]=d.toLowerCase(),b["Webkit"+c]="webkit"+d,b["Moz"+c]="moz"+d,b}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(c){if(Xe[c])return Xe[c];if(!We[c])return c;var d=We[c],b;for(b in d)if(d.hasOwnProperty(b)&&b in Ye)return Xe[c]=d[b];return c}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(c,d){df.set(c,d),fa(d,[c])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(c,d,b){var j=c.type||"unknown-event";c.currentTarget=b,Ub(j,d,void 0,c),c.currentTarget=null}function se(c,d){d=(d&4)!==0;for(var b=0;b<c.length;b++){var j=c[b],_e=j.event;j=j.listeners;e:{var nt=void 0;if(d)for(var rt=j.length-1;0<=rt;rt--){var st=j[rt],it=st.instance,ct=st.currentTarget;if(st=st.listener,it!==nt&&_e.isPropagationStopped())break e;nf(_e,st,ct),nt=it}else for(rt=0;rt<j.length;rt++){if(st=j[rt],it=st.instance,ct=st.currentTarget,st=st.listener,it!==nt&&_e.isPropagationStopped())break e;nf(_e,st,ct),nt=it}}}if(Qb)throw c=Rb,Qb=!1,Rb=null,c}function D(c,d){var b=d[of];b===void 0&&(b=d[of]=new Set);var j=c+"__bubble";b.has(j)||(pf(d,c,2,!1),b.add(j))}function qf(c,d,b){var j=0;d&&(j|=4),pf(b,c,j,d)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(c){if(!c[rf]){c[rf]=!0,da.forEach(function(b){b!=="selectionchange"&&(mf.has(b)||qf(b,!1,c),qf(b,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[rf]||(d[rf]=!0,qf("selectionchange",!1,d))}}function pf(c,d,b,j){switch(jd(d)){case 1:var _e=ed;break;case 4:_e=gd;break;default:_e=fd}b=_e.bind(null,d,b,c),_e=void 0,!Lb||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(_e=!0),j?_e!==void 0?c.addEventListener(d,b,{capture:!0,passive:_e}):c.addEventListener(d,b,!0):_e!==void 0?c.addEventListener(d,b,{passive:_e}):c.addEventListener(d,b,!1)}function hd(c,d,b,j,_e){var nt=j;if(!(d&1)&&!(d&2)&&j!==null)e:for(;;){if(j===null)return;var rt=j.tag;if(rt===3||rt===4){var st=j.stateNode.containerInfo;if(st===_e||st.nodeType===8&&st.parentNode===_e)break;if(rt===4)for(rt=j.return;rt!==null;){var it=rt.tag;if((it===3||it===4)&&(it=rt.stateNode.containerInfo,it===_e||it.nodeType===8&&it.parentNode===_e))return;rt=rt.return}for(;st!==null;){if(rt=Wc(st),rt===null)return;if(it=rt.tag,it===5||it===6){j=nt=rt;continue e}st=st.parentNode}}j=j.return}Jb(function(){var ct=nt,gt=xb(b),ft=[];e:{var ht=df.get(c);if(ht!==void 0){var bt=td,wt=c;switch(c){case"keypress":if(od(b)===0)break e;case"keydown":case"keyup":bt=Rd;break;case"focusin":wt="focus",bt=Fd;break;case"focusout":wt="blur",bt=Fd;break;case"beforeblur":case"afterblur":bt=Fd;break;case"click":if(b.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":bt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":bt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":bt=Vd;break;case $e:case af:case bf:bt=Hd;break;case cf:bt=Xd;break;case"scroll":bt=vd;break;case"wheel":bt=Zd;break;case"copy":case"cut":case"paste":bt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":bt=Td}var lt=(d&4)!==0,_t=!lt&&c==="scroll",ut=lt?ht!==null?ht+"Capture":null:ht;lt=[];for(var kt=ct,pt;kt!==null;){pt=kt;var mt=pt.stateNode;if(pt.tag===5&&mt!==null&&(pt=mt,ut!==null&&(mt=Kb(kt,ut),mt!=null&&lt.push(tf(kt,mt,pt)))),_t)break;kt=kt.return}0<lt.length&&(ht=new bt(ht,wt,null,b,gt),ft.push({event:ht,listeners:lt}))}}if(!(d&7)){e:{if(ht=c==="mouseover"||c==="pointerover",bt=c==="mouseout"||c==="pointerout",ht&&b!==wb&&(wt=b.relatedTarget||b.fromElement)&&(Wc(wt)||wt[uf]))break e;if((bt||ht)&&(ht=gt.window===gt?gt:(ht=gt.ownerDocument)?ht.defaultView||ht.parentWindow:window,bt?(wt=b.relatedTarget||b.toElement,bt=ct,wt=wt?Wc(wt):null,wt!==null&&(_t=Vb(wt),wt!==_t||wt.tag!==5&&wt.tag!==6)&&(wt=null)):(bt=null,wt=ct),bt!==wt)){if(lt=Bd,mt="onMouseLeave",ut="onMouseEnter",kt="mouse",(c==="pointerout"||c==="pointerover")&&(lt=Td,mt="onPointerLeave",ut="onPointerEnter",kt="pointer"),_t=bt==null?ht:ue(bt),pt=wt==null?ht:ue(wt),ht=new lt(mt,kt+"leave",bt,b,gt),ht.target=_t,ht.relatedTarget=pt,mt=null,Wc(gt)===ct&&(lt=new lt(ut,kt+"enter",wt,b,gt),lt.target=pt,lt.relatedTarget=_t,mt=lt),_t=mt,bt&&wt)t:{for(lt=bt,ut=wt,kt=0,pt=lt;pt;pt=vf(pt))kt++;for(pt=0,mt=ut;mt;mt=vf(mt))pt++;for(;0<kt-pt;)lt=vf(lt),kt--;for(;0<pt-kt;)ut=vf(ut),pt--;for(;kt--;){if(lt===ut||ut!==null&&lt===ut.alternate)break t;lt=vf(lt),ut=vf(ut)}lt=null}else lt=null;bt!==null&&wf(ft,ht,bt,lt,!1),wt!==null&&_t!==null&&wf(ft,_t,wt,lt,!0)}}e:{if(ht=ct?ue(ct):window,bt=ht.nodeName&&ht.nodeName.toLowerCase(),bt==="select"||bt==="input"&&ht.type==="file")var Pt=ve;else if(me(ht))if(we)Pt=Fe;else{Pt=De;var It=Ce}else(bt=ht.nodeName)&&bt.toLowerCase()==="input"&&(ht.type==="checkbox"||ht.type==="radio")&&(Pt=Ee);if(Pt&&(Pt=Pt(c,ct))){ne(ft,Pt,b,gt);break e}It&&It(c,ht,ct),c==="focusout"&&(It=ht._wrapperState)&&It.controlled&&ht.type==="number"&&cb(ht,"number",ht.value)}switch(It=ct?ue(ct):window,c){case"focusin":(me(It)||It.contentEditable==="true")&&(Qe=It,Re=ct,Se=null);break;case"focusout":Se=Re=Qe=null;break;case"mousedown":Te=!0;break;case"contextmenu":case"mouseup":case"dragend":Te=!1,Ue(ft,b,gt);break;case"selectionchange":if(Pe)break;case"keydown":case"keyup":Ue(ft,b,gt)}var Ot;if(ae)e:{switch(c){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else ie?ge(c,b)&&(at="onCompositionEnd"):c==="keydown"&&b.keyCode===229&&(at="onCompositionStart");at&&(de&&b.locale!=="ko"&&(ie||at!=="onCompositionStart"?at==="onCompositionEnd"&&ie&&(Ot=nd()):(kd=gt,ld="value"in kd?kd.value:kd.textContent,ie=!0)),It=oe(ct,at),0<It.length&&(at=new Ld(at,c,null,b,gt),ft.push({event:at,listeners:It}),Ot?at.data=Ot:(Ot=he(b),Ot!==null&&(at.data=Ot)))),(Ot=ce?je(c,b):ke(c,b))&&(ct=oe(ct,"onBeforeInput"),0<ct.length&&(gt=new Ld("onBeforeInput","beforeinput",null,b,gt),ft.push({event:gt,listeners:ct}),gt.data=Ot))}se(ft,d)})}function tf(c,d,b){return{instance:c,listener:d,currentTarget:b}}function oe(c,d){for(var b=d+"Capture",j=[];c!==null;){var _e=c,nt=_e.stateNode;_e.tag===5&&nt!==null&&(_e=nt,nt=Kb(c,b),nt!=null&&j.unshift(tf(c,nt,_e)),nt=Kb(c,d),nt!=null&&j.push(tf(c,nt,_e))),c=c.return}return j}function vf(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5);return c||null}function wf(c,d,b,j,_e){for(var nt=d._reactName,rt=[];b!==null&&b!==j;){var st=b,it=st.alternate,ct=st.stateNode;if(it!==null&&it===j)break;st.tag===5&&ct!==null&&(st=ct,_e?(it=Kb(b,nt),it!=null&&rt.unshift(tf(b,it,st))):_e||(it=Kb(b,nt),it!=null&&rt.push(tf(b,it,st)))),b=b.return}rt.length!==0&&c.push({event:d,listeners:rt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(c){return(typeof c=="string"?c:""+c).replace(xf,`
`).replace(yf,"")}function Af(c,d,b){if(d=zf(d),zf(c)!==d&&b)throw Error(p(425))}function Bf(){}var Cf=null,Df=null;function Ef(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(c){return Hf.resolve(null).then(c).catch(If)}:Ff;function If(c){setTimeout(function(){throw c})}function Kf(c,d){var b=d,j=0;do{var _e=b.nextSibling;if(c.removeChild(b),_e&&_e.nodeType===8)if(b=_e.data,b==="/$"){if(j===0){c.removeChild(_e),bd(d);return}j--}else b!=="$"&&b!=="$?"&&b!=="$!"||j++;b=_e}while(b);bd(d)}function Lf(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?")break;if(d==="/$")return null}}return c}function Mf(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var b=c.data;if(b==="$"||b==="$!"||b==="$?"){if(d===0)return c;d--}else b==="/$"&&d++}c=c.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(c){var d=c[Of];if(d)return d;for(var b=c.parentNode;b;){if(d=b[uf]||b[Of]){if(b=d.alternate,d.child!==null||b!==null&&b.child!==null)for(c=Mf(c);c!==null;){if(b=c[Of])return b;c=Mf(c)}return d}c=b,b=c.parentNode}return null}function Cb(c){return c=c[Of]||c[uf],!c||c.tag!==5&&c.tag!==6&&c.tag!==13&&c.tag!==3?null:c}function ue(c){if(c.tag===5||c.tag===6)return c.stateNode;throw Error(p(33))}function Db(c){return c[Pf]||null}var Sf=[],Tf=-1;function Uf(c){return{current:c}}function E(c){0>Tf||(c.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G(c,d){Tf++,Sf[Tf]=c.current,c.current=d}var Vf={},H=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(c,d){var b=c.type.contextTypes;if(!b)return Vf;var j=c.stateNode;if(j&&j.__reactInternalMemoizedUnmaskedChildContext===d)return j.__reactInternalMemoizedMaskedChildContext;var _e={},nt;for(nt in b)_e[nt]=d[nt];return j&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=d,c.__reactInternalMemoizedMaskedChildContext=_e),_e}function Zf(c){return c=c.childContextTypes,c!=null}function $f(){E(Wf),E(H)}function ag(c,d,b){if(H.current!==Vf)throw Error(p(168));G(H,d),G(Wf,b)}function bg(c,d,b){var j=c.stateNode;if(d=d.childContextTypes,typeof j.getChildContext!="function")return b;j=j.getChildContext();for(var _e in j)if(!(_e in d))throw Error(p(108,Ra(c)||"Unknown",_e));return A({},b,j)}function cg(c){return c=(c=c.stateNode)&&c.__reactInternalMemoizedMergedChildContext||Vf,Xf=H.current,G(H,c),G(Wf,Wf.current),!0}function dg(c,d,b){var j=c.stateNode;if(!j)throw Error(p(169));b?(c=bg(c,d,Xf),j.__reactInternalMemoizedMergedChildContext=c,E(Wf),E(H),G(H,c)):E(Wf),G(Wf,b)}var eg=null,fg=!1,gg=!1;function hg(c){eg===null?eg=[c]:eg.push(c)}function ig(c){fg=!0,hg(c)}function jg(){if(!gg&&eg!==null){gg=!0;var c=0,d=C;try{var b=eg;for(C=1;c<b.length;c++){var j=b[c];do j=j(!0);while(j!==null)}eg=null,fg=!1}catch(_e){throw eg!==null&&(eg=eg.slice(c+1)),ac(fc,jg),_e}finally{C=d,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(c,d){kg[lg++]=ng,kg[lg++]=mg,mg=c,ng=d}function ug(c,d,b){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=c;var j=rg;c=sg;var _e=32-oc(j)-1;j&=~(1<<_e),b+=1;var nt=32-oc(d)+_e;if(30<nt){var rt=_e-_e%5;nt=(j&(1<<rt)-1).toString(32),j>>=rt,_e-=rt,rg=1<<32-oc(d)+_e|b<<_e|j,sg=nt+c}else rg=1<<nt|b<<_e|j,sg=c}function vg(c){c.return!==null&&(tg(c,1),ug(c,1,0))}function wg(c){for(;c===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;c===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I=!1,zg=null;function Ag(c,d){var b=Bg(5,null,null,0);b.elementType="DELETED",b.stateNode=d,b.return=c,d=c.deletions,d===null?(c.deletions=[b],c.flags|=16):d.push(b)}function Cg(c,d){switch(c.tag){case 5:var b=c.type;return d=d.nodeType!==1||b.toLowerCase()!==d.nodeName.toLowerCase()?null:d,d!==null?(c.stateNode=d,xg=c,yg=Lf(d.firstChild),!0):!1;case 6:return d=c.pendingProps===""||d.nodeType!==3?null:d,d!==null?(c.stateNode=d,xg=c,yg=null,!0):!1;case 13:return d=d.nodeType!==8?null:d,d!==null?(b=qg!==null?{id:rg,overflow:sg}:null,c.memoizedState={dehydrated:d,treeContext:b,retryLane:1073741824},b=Bg(18,null,null,0),b.stateNode=d,b.return=c,c.child=b,xg=c,yg=null,!0):!1;default:return!1}}function Dg(c){return(c.mode&1)!==0&&(c.flags&128)===0}function Eg(c){if(I){var d=yg;if(d){var b=d;if(!Cg(c,d)){if(Dg(c))throw Error(p(418));d=Lf(b.nextSibling);var j=xg;d&&Cg(c,d)?Ag(j,b):(c.flags=c.flags&-4097|2,I=!1,xg=c)}}else{if(Dg(c))throw Error(p(418));c.flags=c.flags&-4097|2,I=!1,xg=c}}}function Fg(c){for(c=c.return;c!==null&&c.tag!==5&&c.tag!==3&&c.tag!==13;)c=c.return;xg=c}function Gg(c){if(c!==xg)return!1;if(!I)return Fg(c),I=!0,!1;var d;if((d=c.tag!==3)&&!(d=c.tag!==5)&&(d=c.type,d=d!=="head"&&d!=="body"&&!Ef(c.type,c.memoizedProps)),d&&(d=yg)){if(Dg(c))throw Hg(),Error(p(418));for(;d;)Ag(c,d),d=Lf(d.nextSibling)}if(Fg(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(p(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8){var b=c.data;if(b==="/$"){if(d===0){yg=Lf(c.nextSibling);break e}d--}else b!=="$"&&b!=="$!"&&b!=="$?"||d++}c=c.nextSibling}yg=null}}else yg=xg?Lf(c.stateNode.nextSibling):null;return!0}function Hg(){for(var c=yg;c;)c=Lf(c.nextSibling)}function Ig(){yg=xg=null,I=!1}function Jg(c){zg===null?zg=[c]:zg.push(c)}var Kg=ua.ReactCurrentBatchConfig;function Lg(c,d){if(c&&c.defaultProps){d=A({},d),c=c.defaultProps;for(var b in c)d[b]===void 0&&(d[b]=c[b]);return d}return d}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(c){var d=Mg.current;E(Mg),c._currentValue=d}function Sg(c,d,b){for(;c!==null;){var j=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,j!==null&&(j.childLanes|=d)):j!==null&&(j.childLanes&d)!==d&&(j.childLanes|=d),c===b)break;c=c.return}}function Tg(c,d){Ng=c,Pg=Og=null,c=c.dependencies,c!==null&&c.firstContext!==null&&(c.lanes&d&&(Ug=!0),c.firstContext=null)}function Vg(c){var d=c._currentValue;if(Pg!==c)if(c={context:c,memoizedValue:d,next:null},Og===null){if(Ng===null)throw Error(p(308));Og=c,Ng.dependencies={lanes:0,firstContext:c}}else Og=Og.next=c;return d}var Wg=null;function Xg(c){Wg===null?Wg=[c]:Wg.push(c)}function Yg(c,d,b,j){var _e=d.interleaved;return _e===null?(b.next=b,Xg(d)):(b.next=_e.next,_e.next=b),d.interleaved=b,Zg(c,j)}function Zg(c,d){c.lanes|=d;var b=c.alternate;for(b!==null&&(b.lanes|=d),b=c,c=c.return;c!==null;)c.childLanes|=d,b=c.alternate,b!==null&&(b.childLanes|=d),b=c,c=c.return;return b.tag===3?b.stateNode:null}var $g=!1;function ah(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,effects:c.effects})}function ch(c,d){return{eventTime:c,lane:d,tag:0,payload:null,callback:null,next:null}}function dh(c,d,b){var j=c.updateQueue;if(j===null)return null;if(j=j.shared,K&2){var _e=j.pending;return _e===null?d.next=d:(d.next=_e.next,_e.next=d),j.pending=d,Zg(c,b)}return _e=j.interleaved,_e===null?(d.next=d,Xg(j)):(d.next=_e.next,_e.next=d),j.interleaved=d,Zg(c,b)}function eh(c,d,b){if(d=d.updateQueue,d!==null&&(d=d.shared,(b&4194240)!==0)){var j=d.lanes;j&=c.pendingLanes,b|=j,d.lanes=b,Cc(c,b)}}function fh(c,d){var b=c.updateQueue,j=c.alternate;if(j!==null&&(j=j.updateQueue,b===j)){var _e=null,nt=null;if(b=b.firstBaseUpdate,b!==null){do{var rt={eventTime:b.eventTime,lane:b.lane,tag:b.tag,payload:b.payload,callback:b.callback,next:null};nt===null?_e=nt=rt:nt=nt.next=rt,b=b.next}while(b!==null);nt===null?_e=nt=d:nt=nt.next=d}else _e=nt=d;b={baseState:j.baseState,firstBaseUpdate:_e,lastBaseUpdate:nt,shared:j.shared,effects:j.effects},c.updateQueue=b;return}c=b.lastBaseUpdate,c===null?b.firstBaseUpdate=d:c.next=d,b.lastBaseUpdate=d}function gh(c,d,b,j){var _e=c.updateQueue;$g=!1;var nt=_e.firstBaseUpdate,rt=_e.lastBaseUpdate,st=_e.shared.pending;if(st!==null){_e.shared.pending=null;var it=st,ct=it.next;it.next=null,rt===null?nt=ct:rt.next=ct,rt=it;var gt=c.alternate;gt!==null&&(gt=gt.updateQueue,st=gt.lastBaseUpdate,st!==rt&&(st===null?gt.firstBaseUpdate=ct:st.next=ct,gt.lastBaseUpdate=it))}if(nt!==null){var ft=_e.baseState;rt=0,gt=ct=it=null,st=nt;do{var ht=st.lane,bt=st.eventTime;if((j&ht)===ht){gt!==null&&(gt=gt.next={eventTime:bt,lane:0,tag:st.tag,payload:st.payload,callback:st.callback,next:null});e:{var wt=c,lt=st;switch(ht=d,bt=b,lt.tag){case 1:if(wt=lt.payload,typeof wt=="function"){ft=wt.call(bt,ft,ht);break e}ft=wt;break e;case 3:wt.flags=wt.flags&-65537|128;case 0:if(wt=lt.payload,ht=typeof wt=="function"?wt.call(bt,ft,ht):wt,ht==null)break e;ft=A({},ft,ht);break e;case 2:$g=!0}}st.callback!==null&&st.lane!==0&&(c.flags|=64,ht=_e.effects,ht===null?_e.effects=[st]:ht.push(st))}else bt={eventTime:bt,lane:ht,tag:st.tag,payload:st.payload,callback:st.callback,next:null},gt===null?(ct=gt=bt,it=ft):gt=gt.next=bt,rt|=ht;if(st=st.next,st===null){if(st=_e.shared.pending,st===null)break;ht=st,st=ht.next,ht.next=null,_e.lastBaseUpdate=ht,_e.shared.pending=null}}while(1);if(gt===null&&(it=ft),_e.baseState=it,_e.firstBaseUpdate=ct,_e.lastBaseUpdate=gt,d=_e.shared.interleaved,d!==null){_e=d;do rt|=_e.lane,_e=_e.next;while(_e!==d)}else nt===null&&(_e.shared.lanes=0);hh|=rt,c.lanes=rt,c.memoizedState=ft}}function ih(c,d,b){if(c=d.effects,d.effects=null,c!==null)for(d=0;d<c.length;d++){var j=c[d],_e=j.callback;if(_e!==null){if(j.callback=null,j=b,typeof _e!="function")throw Error(p(191,_e));_e.call(j)}}}var jh=new aa.Component().refs;function kh(c,d,b,j){d=c.memoizedState,b=b(j,d),b=b==null?d:A({},d,b),c.memoizedState=b,c.lanes===0&&(c.updateQueue.baseState=b)}var nh={isMounted:function(c){return(c=c._reactInternals)?Vb(c)===c:!1},enqueueSetState:function(c,d,b){c=c._reactInternals;var j=L(),_e=lh(c),nt=ch(j,_e);nt.payload=d,b!=null&&(nt.callback=b),d=dh(c,nt,_e),d!==null&&(mh(d,c,_e,j),eh(d,c,_e))},enqueueReplaceState:function(c,d,b){c=c._reactInternals;var j=L(),_e=lh(c),nt=ch(j,_e);nt.tag=1,nt.payload=d,b!=null&&(nt.callback=b),d=dh(c,nt,_e),d!==null&&(mh(d,c,_e,j),eh(d,c,_e))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var b=L(),j=lh(c),_e=ch(b,j);_e.tag=2,d!=null&&(_e.callback=d),d=dh(c,_e,j),d!==null&&(mh(d,c,j,b),eh(d,c,j))}};function oh(c,d,b,j,_e,nt,rt){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(j,nt,rt):d.prototype&&d.prototype.isPureReactComponent?!Ie(b,j)||!Ie(_e,nt):!0}function ph(c,d,b){var j=!1,_e=Vf,nt=d.contextType;return typeof nt=="object"&&nt!==null?nt=Vg(nt):(_e=Zf(d)?Xf:H.current,j=d.contextTypes,nt=(j=j!=null)?Yf(c,_e):Vf),d=new d(b,nt),c.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=nh,c.stateNode=d,d._reactInternals=c,j&&(c=c.stateNode,c.__reactInternalMemoizedUnmaskedChildContext=_e,c.__reactInternalMemoizedMaskedChildContext=nt),d}function qh(c,d,b,j){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(b,j),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(b,j),d.state!==c&&nh.enqueueReplaceState(d,d.state,null)}function rh(c,d,b,j){var _e=c.stateNode;_e.props=b,_e.state=c.memoizedState,_e.refs=jh,ah(c);var nt=d.contextType;typeof nt=="object"&&nt!==null?_e.context=Vg(nt):(nt=Zf(d)?Xf:H.current,_e.context=Yf(c,nt)),_e.state=c.memoizedState,nt=d.getDerivedStateFromProps,typeof nt=="function"&&(kh(c,d,nt,b),_e.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof _e.getSnapshotBeforeUpdate=="function"||typeof _e.UNSAFE_componentWillMount!="function"&&typeof _e.componentWillMount!="function"||(d=_e.state,typeof _e.componentWillMount=="function"&&_e.componentWillMount(),typeof _e.UNSAFE_componentWillMount=="function"&&_e.UNSAFE_componentWillMount(),d!==_e.state&&nh.enqueueReplaceState(_e,_e.state,null),gh(c,b,_e,j),_e.state=c.memoizedState),typeof _e.componentDidMount=="function"&&(c.flags|=4194308)}function sh(c,d,b){if(c=b.ref,c!==null&&typeof c!="function"&&typeof c!="object"){if(b._owner){if(b=b._owner,b){if(b.tag!==1)throw Error(p(309));var j=b.stateNode}if(!j)throw Error(p(147,c));var _e=j,nt=""+c;return d!==null&&d.ref!==null&&typeof d.ref=="function"&&d.ref._stringRef===nt?d.ref:(d=function(rt){var st=_e.refs;st===jh&&(st=_e.refs={}),rt===null?delete st[nt]:st[nt]=rt},d._stringRef=nt,d)}if(typeof c!="string")throw Error(p(284));if(!b._owner)throw Error(p(290,c))}return c}function th(c,d){throw c=Object.prototype.toString.call(d),Error(p(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c))}function uh(c){var d=c._init;return d(c._payload)}function vh(c){function d(ut,kt){if(c){var pt=ut.deletions;pt===null?(ut.deletions=[kt],ut.flags|=16):pt.push(kt)}}function b(ut,kt){if(!c)return null;for(;kt!==null;)d(ut,kt),kt=kt.sibling;return null}function j(ut,kt){for(ut=new Map;kt!==null;)kt.key!==null?ut.set(kt.key,kt):ut.set(kt.index,kt),kt=kt.sibling;return ut}function _e(ut,kt){return ut=wh(ut,kt),ut.index=0,ut.sibling=null,ut}function nt(ut,kt,pt){return ut.index=pt,c?(pt=ut.alternate,pt!==null?(pt=pt.index,pt<kt?(ut.flags|=2,kt):pt):(ut.flags|=2,kt)):(ut.flags|=1048576,kt)}function rt(ut){return c&&ut.alternate===null&&(ut.flags|=2),ut}function st(ut,kt,pt,mt){return kt===null||kt.tag!==6?(kt=xh(pt,ut.mode,mt),kt.return=ut,kt):(kt=_e(kt,pt),kt.return=ut,kt)}function it(ut,kt,pt,mt){var Pt=pt.type;return Pt===ya?gt(ut,kt,pt.props.children,mt,pt.key):kt!==null&&(kt.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===Ha&&uh(Pt)===kt.type)?(mt=_e(kt,pt.props),mt.ref=sh(ut,kt,pt),mt.return=ut,mt):(mt=yh(pt.type,pt.key,pt.props,null,ut.mode,mt),mt.ref=sh(ut,kt,pt),mt.return=ut,mt)}function ct(ut,kt,pt,mt){return kt===null||kt.tag!==4||kt.stateNode.containerInfo!==pt.containerInfo||kt.stateNode.implementation!==pt.implementation?(kt=zh(pt,ut.mode,mt),kt.return=ut,kt):(kt=_e(kt,pt.children||[]),kt.return=ut,kt)}function gt(ut,kt,pt,mt,Pt){return kt===null||kt.tag!==7?(kt=Ah(pt,ut.mode,mt,Pt),kt.return=ut,kt):(kt=_e(kt,pt),kt.return=ut,kt)}function ft(ut,kt,pt){if(typeof kt=="string"&&kt!==""||typeof kt=="number")return kt=xh(""+kt,ut.mode,pt),kt.return=ut,kt;if(typeof kt=="object"&&kt!==null){switch(kt.$$typeof){case va:return pt=yh(kt.type,kt.key,kt.props,null,ut.mode,pt),pt.ref=sh(ut,null,kt),pt.return=ut,pt;case wa:return kt=zh(kt,ut.mode,pt),kt.return=ut,kt;case Ha:var mt=kt._init;return ft(ut,mt(kt._payload),pt)}if(eb(kt)||Ka(kt))return kt=Ah(kt,ut.mode,pt,null),kt.return=ut,kt;th(ut,kt)}return null}function ht(ut,kt,pt,mt){var Pt=kt!==null?kt.key:null;if(typeof pt=="string"&&pt!==""||typeof pt=="number")return Pt!==null?null:st(ut,kt,""+pt,mt);if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:return pt.key===Pt?it(ut,kt,pt,mt):null;case wa:return pt.key===Pt?ct(ut,kt,pt,mt):null;case Ha:return Pt=pt._init,ht(ut,kt,Pt(pt._payload),mt)}if(eb(pt)||Ka(pt))return Pt!==null?null:gt(ut,kt,pt,mt,null);th(ut,pt)}return null}function bt(ut,kt,pt,mt,Pt){if(typeof mt=="string"&&mt!==""||typeof mt=="number")return ut=ut.get(pt)||null,st(kt,ut,""+mt,Pt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case va:return ut=ut.get(mt.key===null?pt:mt.key)||null,it(kt,ut,mt,Pt);case wa:return ut=ut.get(mt.key===null?pt:mt.key)||null,ct(kt,ut,mt,Pt);case Ha:var It=mt._init;return bt(ut,kt,pt,It(mt._payload),Pt)}if(eb(mt)||Ka(mt))return ut=ut.get(pt)||null,gt(kt,ut,mt,Pt,null);th(kt,mt)}return null}function wt(ut,kt,pt,mt){for(var Pt=null,It=null,Ot=kt,at=kt=0,yt=null;Ot!==null&&at<pt.length;at++){Ot.index>at?(yt=Ot,Ot=null):yt=Ot.sibling;var Ct=ht(ut,Ot,pt[at],mt);if(Ct===null){Ot===null&&(Ot=yt);break}c&&Ot&&Ct.alternate===null&&d(ut,Ot),kt=nt(Ct,kt,at),It===null?Pt=Ct:It.sibling=Ct,It=Ct,Ot=yt}if(at===pt.length)return b(ut,Ot),I&&tg(ut,at),Pt;if(Ot===null){for(;at<pt.length;at++)Ot=ft(ut,pt[at],mt),Ot!==null&&(kt=nt(Ot,kt,at),It===null?Pt=Ot:It.sibling=Ot,It=Ot);return I&&tg(ut,at),Pt}for(Ot=j(ut,Ot);at<pt.length;at++)yt=bt(Ot,ut,at,pt[at],mt),yt!==null&&(c&&yt.alternate!==null&&Ot.delete(yt.key===null?at:yt.key),kt=nt(yt,kt,at),It===null?Pt=yt:It.sibling=yt,It=yt);return c&&Ot.forEach(function(Bt){return d(ut,Bt)}),I&&tg(ut,at),Pt}function lt(ut,kt,pt,mt){var Pt=Ka(pt);if(typeof Pt!="function")throw Error(p(150));if(pt=Pt.call(pt),pt==null)throw Error(p(151));for(var It=Pt=null,Ot=kt,at=kt=0,yt=null,Ct=pt.next();Ot!==null&&!Ct.done;at++,Ct=pt.next()){Ot.index>at?(yt=Ot,Ot=null):yt=Ot.sibling;var Bt=ht(ut,Ot,Ct.value,mt);if(Bt===null){Ot===null&&(Ot=yt);break}c&&Ot&&Bt.alternate===null&&d(ut,Ot),kt=nt(Bt,kt,at),It===null?Pt=Bt:It.sibling=Bt,It=Bt,Ot=yt}if(Ct.done)return b(ut,Ot),I&&tg(ut,at),Pt;if(Ot===null){for(;!Ct.done;at++,Ct=pt.next())Ct=ft(ut,Ct.value,mt),Ct!==null&&(kt=nt(Ct,kt,at),It===null?Pt=Ct:It.sibling=Ct,It=Ct);return I&&tg(ut,at),Pt}for(Ot=j(ut,Ot);!Ct.done;at++,Ct=pt.next())Ct=bt(Ot,ut,at,Ct.value,mt),Ct!==null&&(c&&Ct.alternate!==null&&Ot.delete(Ct.key===null?at:Ct.key),kt=nt(Ct,kt,at),It===null?Pt=Ct:It.sibling=Ct,It=Ct);return c&&Ot.forEach(function(Vt){return d(ut,Vt)}),I&&tg(ut,at),Pt}function _t(ut,kt,pt,mt){if(typeof pt=="object"&&pt!==null&&pt.type===ya&&pt.key===null&&(pt=pt.props.children),typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va:e:{for(var Pt=pt.key,It=kt;It!==null;){if(It.key===Pt){if(Pt=pt.type,Pt===ya){if(It.tag===7){b(ut,It.sibling),kt=_e(It,pt.props.children),kt.return=ut,ut=kt;break e}}else if(It.elementType===Pt||typeof Pt=="object"&&Pt!==null&&Pt.$$typeof===Ha&&uh(Pt)===It.type){b(ut,It.sibling),kt=_e(It,pt.props),kt.ref=sh(ut,It,pt),kt.return=ut,ut=kt;break e}b(ut,It);break}else d(ut,It);It=It.sibling}pt.type===ya?(kt=Ah(pt.props.children,ut.mode,mt,pt.key),kt.return=ut,ut=kt):(mt=yh(pt.type,pt.key,pt.props,null,ut.mode,mt),mt.ref=sh(ut,kt,pt),mt.return=ut,ut=mt)}return rt(ut);case wa:e:{for(It=pt.key;kt!==null;){if(kt.key===It)if(kt.tag===4&&kt.stateNode.containerInfo===pt.containerInfo&&kt.stateNode.implementation===pt.implementation){b(ut,kt.sibling),kt=_e(kt,pt.children||[]),kt.return=ut,ut=kt;break e}else{b(ut,kt);break}else d(ut,kt);kt=kt.sibling}kt=zh(pt,ut.mode,mt),kt.return=ut,ut=kt}return rt(ut);case Ha:return It=pt._init,_t(ut,kt,It(pt._payload),mt)}if(eb(pt))return wt(ut,kt,pt,mt);if(Ka(pt))return lt(ut,kt,pt,mt);th(ut,pt)}return typeof pt=="string"&&pt!==""||typeof pt=="number"?(pt=""+pt,kt!==null&&kt.tag===6?(b(ut,kt.sibling),kt=_e(kt,pt),kt.return=ut,ut=kt):(b(ut,kt),kt=xh(pt,ut.mode,mt),kt.return=ut,ut=kt),rt(ut)):b(ut,kt)}return _t}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(c){if(c===Dh)throw Error(p(174));return c}function Ih(c,d){switch(G(Gh,d),G(Fh,c),G(Eh,Dh),c=d.nodeType,c){case 9:case 11:d=(d=d.documentElement)?d.namespaceURI:lb(null,"");break;default:c=c===8?d.parentNode:d,d=c.namespaceURI||null,c=c.tagName,d=lb(d,c)}E(Eh),G(Eh,d)}function Jh(){E(Eh),E(Fh),E(Gh)}function Kh(c){Hh(Gh.current);var d=Hh(Eh.current),b=lb(d,c.type);d!==b&&(G(Fh,c),G(Eh,b))}function Lh(c){Fh.current===c&&(E(Eh),E(Fh))}var M=Uf(0);function Mh(c){for(var d=c;d!==null;){if(d.tag===13){var b=d.memoizedState;if(b!==null&&(b=b.dehydrated,b===null||b.data==="$?"||b.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Nh=[];function Oh(){for(var c=0;c<Nh.length;c++)Nh[c]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N=null,O=null,P=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q(){throw Error(p(321))}function Wh(c,d){if(d===null)return!1;for(var b=0;b<d.length&&b<c.length;b++)if(!He(c[b],d[b]))return!1;return!0}function Xh(c,d,b,j,_e,nt){if(Rh=nt,N=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,Ph.current=c===null||c.memoizedState===null?Yh:Zh,c=b(j,_e),Th){nt=0;do{if(Th=!1,Uh=0,25<=nt)throw Error(p(301));nt+=1,P=O=null,d.updateQueue=null,Ph.current=$h,c=b(j,_e)}while(Th)}if(Ph.current=ai,d=O!==null&&O.next!==null,Rh=0,P=O=N=null,Sh=!1,d)throw Error(p(300));return c}function bi(){var c=Uh!==0;return Uh=0,c}function ci(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P===null?N.memoizedState=P=c:P=P.next=c,P}function di(){if(O===null){var c=N.alternate;c=c!==null?c.memoizedState:null}else c=O.next;var d=P===null?N.memoizedState:P.next;if(d!==null)P=d,O=c;else{if(c===null)throw Error(p(310));O=c,c={memoizedState:O.memoizedState,baseState:O.baseState,baseQueue:O.baseQueue,queue:O.queue,next:null},P===null?N.memoizedState=P=c:P=P.next=c}return P}function ei(c,d){return typeof d=="function"?d(c):d}function fi(c){var d=di(),b=d.queue;if(b===null)throw Error(p(311));b.lastRenderedReducer=c;var j=O,_e=j.baseQueue,nt=b.pending;if(nt!==null){if(_e!==null){var rt=_e.next;_e.next=nt.next,nt.next=rt}j.baseQueue=_e=nt,b.pending=null}if(_e!==null){nt=_e.next,j=j.baseState;var st=rt=null,it=null,ct=nt;do{var gt=ct.lane;if((Rh&gt)===gt)it!==null&&(it=it.next={lane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),j=ct.hasEagerState?ct.eagerState:c(j,ct.action);else{var ft={lane:gt,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null};it===null?(st=it=ft,rt=j):it=it.next=ft,N.lanes|=gt,hh|=gt}ct=ct.next}while(ct!==null&&ct!==nt);it===null?rt=j:it.next=st,He(j,d.memoizedState)||(Ug=!0),d.memoizedState=j,d.baseState=rt,d.baseQueue=it,b.lastRenderedState=j}if(c=b.interleaved,c!==null){_e=c;do nt=_e.lane,N.lanes|=nt,hh|=nt,_e=_e.next;while(_e!==c)}else _e===null&&(b.lanes=0);return[d.memoizedState,b.dispatch]}function gi(c){var d=di(),b=d.queue;if(b===null)throw Error(p(311));b.lastRenderedReducer=c;var j=b.dispatch,_e=b.pending,nt=d.memoizedState;if(_e!==null){b.pending=null;var rt=_e=_e.next;do nt=c(nt,rt.action),rt=rt.next;while(rt!==_e);He(nt,d.memoizedState)||(Ug=!0),d.memoizedState=nt,d.baseQueue===null&&(d.baseState=nt),b.lastRenderedState=nt}return[nt,j]}function hi(){}function ii(c,d){var b=N,j=di(),_e=d(),nt=!He(j.memoizedState,_e);if(nt&&(j.memoizedState=_e,Ug=!0),j=j.queue,ji(ki.bind(null,b,j,c),[c]),j.getSnapshot!==d||nt||P!==null&&P.memoizedState.tag&1){if(b.flags|=2048,li(9,mi.bind(null,b,j,_e,d),void 0,null),R===null)throw Error(p(349));Rh&30||ni(b,d,_e)}return _e}function ni(c,d,b){c.flags|=16384,c={getSnapshot:d,value:b},d=N.updateQueue,d===null?(d={lastEffect:null,stores:null},N.updateQueue=d,d.stores=[c]):(b=d.stores,b===null?d.stores=[c]:b.push(c))}function mi(c,d,b,j){d.value=b,d.getSnapshot=j,oi(d)&&pi(c)}function ki(c,d,b){return b(function(){oi(d)&&pi(c)})}function oi(c){var d=c.getSnapshot;c=c.value;try{var b=d();return!He(c,b)}catch{return!0}}function pi(c){var d=Zg(c,1);d!==null&&mh(d,c,1,-1)}function qi(c){var d=ci();return typeof c=="function"&&(c=c()),d.memoizedState=d.baseState=c,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:c},d.queue=c,c=c.dispatch=ri.bind(null,N,c),[d.memoizedState,c]}function li(c,d,b,j){return c={tag:c,create:d,destroy:b,deps:j,next:null},d=N.updateQueue,d===null?(d={lastEffect:null,stores:null},N.updateQueue=d,d.lastEffect=c.next=c):(b=d.lastEffect,b===null?d.lastEffect=c.next=c:(j=b.next,b.next=c,c.next=j,d.lastEffect=c)),c}function si(){return di().memoizedState}function ti(c,d,b,j){var _e=ci();N.flags|=c,_e.memoizedState=li(1|d,b,void 0,j===void 0?null:j)}function ui(c,d,b,j){var _e=di();j=j===void 0?null:j;var nt=void 0;if(O!==null){var rt=O.memoizedState;if(nt=rt.destroy,j!==null&&Wh(j,rt.deps)){_e.memoizedState=li(d,b,nt,j);return}}N.flags|=c,_e.memoizedState=li(1|d,b,nt,j)}function vi(c,d){return ti(8390656,8,c,d)}function ji(c,d){return ui(2048,8,c,d)}function wi(c,d){return ui(4,2,c,d)}function xi(c,d){return ui(4,4,c,d)}function yi(c,d){if(typeof d=="function")return c=c(),d(c),function(){d(null)};if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function zi(c,d,b){return b=b!=null?b.concat([c]):null,ui(4,4,yi.bind(null,d,c),b)}function Ai(){}function Bi(c,d){var b=di();d=d===void 0?null:d;var j=b.memoizedState;return j!==null&&d!==null&&Wh(d,j[1])?j[0]:(b.memoizedState=[c,d],c)}function Ci(c,d){var b=di();d=d===void 0?null:d;var j=b.memoizedState;return j!==null&&d!==null&&Wh(d,j[1])?j[0]:(c=c(),b.memoizedState=[c,d],c)}function Di(c,d,b){return Rh&21?(He(b,d)||(b=yc(),N.lanes|=b,hh|=b,c.baseState=!0),d):(c.baseState&&(c.baseState=!1,Ug=!0),c.memoizedState=b)}function Ei(c,d){var b=C;C=b!==0&&4>b?b:4,c(!0);var j=Qh.transition;Qh.transition={};try{c(!1),d()}finally{C=b,Qh.transition=j}}function Fi(){return di().memoizedState}function Gi(c,d,b){var j=lh(c);if(b={lane:j,action:b,hasEagerState:!1,eagerState:null,next:null},Hi(c))Ii(d,b);else if(b=Yg(c,d,b,j),b!==null){var _e=L();mh(b,c,j,_e),Ji(b,d,j)}}function ri(c,d,b){var j=lh(c),_e={lane:j,action:b,hasEagerState:!1,eagerState:null,next:null};if(Hi(c))Ii(d,_e);else{var nt=c.alternate;if(c.lanes===0&&(nt===null||nt.lanes===0)&&(nt=d.lastRenderedReducer,nt!==null))try{var rt=d.lastRenderedState,st=nt(rt,b);if(_e.hasEagerState=!0,_e.eagerState=st,He(st,rt)){var it=d.interleaved;it===null?(_e.next=_e,Xg(d)):(_e.next=it.next,it.next=_e),d.interleaved=_e;return}}catch{}finally{}b=Yg(c,d,_e,j),b!==null&&(_e=L(),mh(b,c,j,_e),Ji(b,d,j))}}function Hi(c){var d=c.alternate;return c===N||d!==null&&d===N}function Ii(c,d){Th=Sh=!0;var b=c.pending;b===null?d.next=d:(d.next=b.next,b.next=d),c.pending=d}function Ji(c,d,b){if(b&4194240){var j=d.lanes;j&=c.pendingLanes,b|=j,d.lanes=b,Cc(c,b)}}var ai={readContext:Vg,useCallback:Q,useContext:Q,useEffect:Q,useImperativeHandle:Q,useInsertionEffect:Q,useLayoutEffect:Q,useMemo:Q,useReducer:Q,useRef:Q,useState:Q,useDebugValue:Q,useDeferredValue:Q,useTransition:Q,useMutableSource:Q,useSyncExternalStore:Q,useId:Q,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(c,d){return ci().memoizedState=[c,d===void 0?null:d],c},useContext:Vg,useEffect:vi,useImperativeHandle:function(c,d,b){return b=b!=null?b.concat([c]):null,ti(4194308,4,yi.bind(null,d,c),b)},useLayoutEffect:function(c,d){return ti(4194308,4,c,d)},useInsertionEffect:function(c,d){return ti(4,2,c,d)},useMemo:function(c,d){var b=ci();return d=d===void 0?null:d,c=c(),b.memoizedState=[c,d],c},useReducer:function(c,d,b){var j=ci();return d=b!==void 0?b(d):d,j.memoizedState=j.baseState=d,c={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:d},j.queue=c,c=c.dispatch=Gi.bind(null,N,c),[j.memoizedState,c]},useRef:function(c){var d=ci();return c={current:c},d.memoizedState=c},useState:qi,useDebugValue:Ai,useDeferredValue:function(c){return ci().memoizedState=c},useTransition:function(){var c=qi(!1),d=c[0];return c=Ei.bind(null,c[1]),ci().memoizedState=c,[d,c]},useMutableSource:function(){},useSyncExternalStore:function(c,d,b){var j=N,_e=ci();if(I){if(b===void 0)throw Error(p(407));b=b()}else{if(b=d(),R===null)throw Error(p(349));Rh&30||ni(j,d,b)}_e.memoizedState=b;var nt={value:b,getSnapshot:d};return _e.queue=nt,vi(ki.bind(null,j,nt,c),[c]),j.flags|=2048,li(9,mi.bind(null,j,nt,b,d),void 0,null),b},useId:function(){var c=ci(),d=R.identifierPrefix;if(I){var b=sg,j=rg;b=(j&~(1<<32-oc(j)-1)).toString(32)+b,d=":"+d+"R"+b,b=Uh++,0<b&&(d+="H"+b.toString(32)),d+=":"}else b=Vh++,d=":"+d+"r"+b.toString(32)+":";return c.memoizedState=d},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(c){var d=di();return Di(d,O.memoizedState,c)},useTransition:function(){var c=fi(ei)[0],d=di().memoizedState;return[c,d]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(c){var d=di();return O===null?d.memoizedState=c:Di(d,O.memoizedState,c)},useTransition:function(){var c=gi(ei)[0],d=di().memoizedState;return[c,d]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(c,d){try{var b="",j=d;do b+=Pa(j),j=j.return;while(j);var _e=b}catch(nt){_e=`
Error generating stack: `+nt.message+`
`+nt.stack}return{value:c,source:d,stack:_e,digest:null}}function Li(c,d,b){return{value:c,source:null,stack:b??null,digest:d??null}}function Mi(c,d){try{console.error(d.value)}catch(b){setTimeout(function(){throw b})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(c,d,b){b=ch(-1,b),b.tag=3,b.payload={element:null};var j=d.value;return b.callback=function(){Pi||(Pi=!0,Qi=j),Mi(c,d)},b}function Ri(c,d,b){b=ch(-1,b),b.tag=3;var j=c.type.getDerivedStateFromError;if(typeof j=="function"){var _e=d.value;b.payload=function(){return j(_e)},b.callback=function(){Mi(c,d)}}var nt=c.stateNode;return nt!==null&&typeof nt.componentDidCatch=="function"&&(b.callback=function(){Mi(c,d),typeof j!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var rt=d.stack;this.componentDidCatch(d.value,{componentStack:rt!==null?rt:""})}),b}function Ti(c,d,b){var j=c.pingCache;if(j===null){j=c.pingCache=new Ni;var _e=new Set;j.set(d,_e)}else _e=j.get(d),_e===void 0&&(_e=new Set,j.set(d,_e));_e.has(b)||(_e.add(b),c=Ui.bind(null,c,d,b),d.then(c,c))}function Vi(c){do{var d;if((d=c.tag===13)&&(d=c.memoizedState,d=d!==null?d.dehydrated!==null:!0),d)return c;c=c.return}while(c!==null);return null}function Wi(c,d,b,j,_e){return c.mode&1?(c.flags|=65536,c.lanes=_e,c):(c===d?c.flags|=65536:(c.flags|=128,b.flags|=131072,b.flags&=-52805,b.tag===1&&(b.alternate===null?b.tag=17:(d=ch(-1,1),d.tag=2,dh(b,d,1))),b.lanes|=1),c)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(c,d,b,j){d.child=c===null?Ch(d,null,b,j):Bh(d,c.child,b,j)}function Zi(c,d,b,j,_e){b=b.render;var nt=d.ref;return Tg(d,_e),j=Xh(c,d,b,j,nt,_e),b=bi(),c!==null&&!Ug?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~_e,$i(c,d,_e)):(I&&b&&vg(d),d.flags|=1,Yi(c,d,j,_e),d.child)}function aj(c,d,b,j,_e){if(c===null){var nt=b.type;return typeof nt=="function"&&!bj(nt)&&nt.defaultProps===void 0&&b.compare===null&&b.defaultProps===void 0?(d.tag=15,d.type=nt,cj(c,d,nt,j,_e)):(c=yh(b.type,null,j,d,d.mode,_e),c.ref=d.ref,c.return=d,d.child=c)}if(nt=c.child,!(c.lanes&_e)){var rt=nt.memoizedProps;if(b=b.compare,b=b!==null?b:Ie,b(rt,j)&&c.ref===d.ref)return $i(c,d,_e)}return d.flags|=1,c=wh(nt,j),c.ref=d.ref,c.return=d,d.child=c}function cj(c,d,b,j,_e){if(c!==null){var nt=c.memoizedProps;if(Ie(nt,j)&&c.ref===d.ref)if(Ug=!1,d.pendingProps=j=nt,(c.lanes&_e)!==0)c.flags&131072&&(Ug=!0);else return d.lanes=c.lanes,$i(c,d,_e)}return dj(c,d,b,j,_e)}function ej(c,d,b){var j=d.pendingProps,_e=j.children,nt=c!==null?c.memoizedState:null;if(j.mode==="hidden")if(!(d.mode&1))d.memoizedState={baseLanes:0,cachePool:null,transitions:null},G(fj,gj),gj|=b;else{if(!(b&1073741824))return c=nt!==null?nt.baseLanes|b:b,d.lanes=d.childLanes=1073741824,d.memoizedState={baseLanes:c,cachePool:null,transitions:null},d.updateQueue=null,G(fj,gj),gj|=c,null;d.memoizedState={baseLanes:0,cachePool:null,transitions:null},j=nt!==null?nt.baseLanes:b,G(fj,gj),gj|=j}else nt!==null?(j=nt.baseLanes|b,d.memoizedState=null):j=b,G(fj,gj),gj|=j;return Yi(c,d,_e,b),d.child}function hj(c,d){var b=d.ref;(c===null&&b!==null||c!==null&&c.ref!==b)&&(d.flags|=512,d.flags|=2097152)}function dj(c,d,b,j,_e){var nt=Zf(b)?Xf:H.current;return nt=Yf(d,nt),Tg(d,_e),b=Xh(c,d,b,j,nt,_e),j=bi(),c!==null&&!Ug?(d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~_e,$i(c,d,_e)):(I&&j&&vg(d),d.flags|=1,Yi(c,d,b,_e),d.child)}function ij(c,d,b,j,_e){if(Zf(b)){var nt=!0;cg(d)}else nt=!1;if(Tg(d,_e),d.stateNode===null)jj(c,d),ph(d,b,j),rh(d,b,j,_e),j=!0;else if(c===null){var rt=d.stateNode,st=d.memoizedProps;rt.props=st;var it=rt.context,ct=b.contextType;typeof ct=="object"&&ct!==null?ct=Vg(ct):(ct=Zf(b)?Xf:H.current,ct=Yf(d,ct));var gt=b.getDerivedStateFromProps,ft=typeof gt=="function"||typeof rt.getSnapshotBeforeUpdate=="function";ft||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(st!==j||it!==ct)&&qh(d,rt,j,ct),$g=!1;var ht=d.memoizedState;rt.state=ht,gh(d,j,rt,_e),it=d.memoizedState,st!==j||ht!==it||Wf.current||$g?(typeof gt=="function"&&(kh(d,b,gt,j),it=d.memoizedState),(st=$g||oh(d,b,st,j,ht,it,ct))?(ft||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount()),typeof rt.componentDidMount=="function"&&(d.flags|=4194308)):(typeof rt.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=j,d.memoizedState=it),rt.props=j,rt.state=it,rt.context=ct,j=st):(typeof rt.componentDidMount=="function"&&(d.flags|=4194308),j=!1)}else{rt=d.stateNode,bh(c,d),st=d.memoizedProps,ct=d.type===d.elementType?st:Lg(d.type,st),rt.props=ct,ft=d.pendingProps,ht=rt.context,it=b.contextType,typeof it=="object"&&it!==null?it=Vg(it):(it=Zf(b)?Xf:H.current,it=Yf(d,it));var bt=b.getDerivedStateFromProps;(gt=typeof bt=="function"||typeof rt.getSnapshotBeforeUpdate=="function")||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(st!==ft||ht!==it)&&qh(d,rt,j,it),$g=!1,ht=d.memoizedState,rt.state=ht,gh(d,j,rt,_e);var wt=d.memoizedState;st!==ft||ht!==wt||Wf.current||$g?(typeof bt=="function"&&(kh(d,b,bt,j),wt=d.memoizedState),(ct=$g||oh(d,b,ct,j,ht,wt,it)||!1)?(gt||typeof rt.UNSAFE_componentWillUpdate!="function"&&typeof rt.componentWillUpdate!="function"||(typeof rt.componentWillUpdate=="function"&&rt.componentWillUpdate(j,wt,it),typeof rt.UNSAFE_componentWillUpdate=="function"&&rt.UNSAFE_componentWillUpdate(j,wt,it)),typeof rt.componentDidUpdate=="function"&&(d.flags|=4),typeof rt.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof rt.componentDidUpdate!="function"||st===c.memoizedProps&&ht===c.memoizedState||(d.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||st===c.memoizedProps&&ht===c.memoizedState||(d.flags|=1024),d.memoizedProps=j,d.memoizedState=wt),rt.props=j,rt.state=wt,rt.context=it,j=ct):(typeof rt.componentDidUpdate!="function"||st===c.memoizedProps&&ht===c.memoizedState||(d.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||st===c.memoizedProps&&ht===c.memoizedState||(d.flags|=1024),j=!1)}return kj(c,d,b,j,nt,_e)}function kj(c,d,b,j,_e,nt){hj(c,d);var rt=(d.flags&128)!==0;if(!j&&!rt)return _e&&dg(d,b,!1),$i(c,d,nt);j=d.stateNode,Xi.current=d;var st=rt&&typeof b.getDerivedStateFromError!="function"?null:j.render();return d.flags|=1,c!==null&&rt?(d.child=Bh(d,c.child,null,nt),d.child=Bh(d,null,st,nt)):Yi(c,d,st,nt),d.memoizedState=j.state,_e&&dg(d,b,!0),d.child}function lj(c){var d=c.stateNode;d.pendingContext?ag(c,d.pendingContext,d.pendingContext!==d.context):d.context&&ag(c,d.context,!1),Ih(c,d.containerInfo)}function mj(c,d,b,j,_e){return Ig(),Jg(_e),d.flags|=256,Yi(c,d,b,j),d.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(c){return{baseLanes:c,cachePool:null,transitions:null}}function pj(c,d,b){var j=d.pendingProps,_e=M.current,nt=!1,rt=(d.flags&128)!==0,st;if((st=rt)||(st=c!==null&&c.memoizedState===null?!1:(_e&2)!==0),st?(nt=!0,d.flags&=-129):(c===null||c.memoizedState!==null)&&(_e|=1),G(M,_e&1),c===null)return Eg(d),c=d.memoizedState,c!==null&&(c=c.dehydrated,c!==null)?(d.mode&1?c.data==="$!"?d.lanes=8:d.lanes=1073741824:d.lanes=1,null):(rt=j.children,c=j.fallback,nt?(j=d.mode,nt=d.child,rt={mode:"hidden",children:rt},!(j&1)&&nt!==null?(nt.childLanes=0,nt.pendingProps=rt):nt=qj(rt,j,0,null),c=Ah(c,j,b,null),nt.return=d,c.return=d,nt.sibling=c,d.child=nt,d.child.memoizedState=oj(b),d.memoizedState=nj,c):rj(d,rt));if(_e=c.memoizedState,_e!==null&&(st=_e.dehydrated,st!==null))return sj(c,d,rt,j,st,_e,b);if(nt){nt=j.fallback,rt=d.mode,_e=c.child,st=_e.sibling;var it={mode:"hidden",children:j.children};return!(rt&1)&&d.child!==_e?(j=d.child,j.childLanes=0,j.pendingProps=it,d.deletions=null):(j=wh(_e,it),j.subtreeFlags=_e.subtreeFlags&14680064),st!==null?nt=wh(st,nt):(nt=Ah(nt,rt,b,null),nt.flags|=2),nt.return=d,j.return=d,j.sibling=nt,d.child=j,j=nt,nt=d.child,rt=c.child.memoizedState,rt=rt===null?oj(b):{baseLanes:rt.baseLanes|b,cachePool:null,transitions:rt.transitions},nt.memoizedState=rt,nt.childLanes=c.childLanes&~b,d.memoizedState=nj,j}return nt=c.child,c=nt.sibling,j=wh(nt,{mode:"visible",children:j.children}),!(d.mode&1)&&(j.lanes=b),j.return=d,j.sibling=null,c!==null&&(b=d.deletions,b===null?(d.deletions=[c],d.flags|=16):b.push(c)),d.child=j,d.memoizedState=null,j}function rj(c,d){return d=qj({mode:"visible",children:d},c.mode,0,null),d.return=c,c.child=d}function tj(c,d,b,j){return j!==null&&Jg(j),Bh(d,c.child,null,b),c=rj(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function sj(c,d,b,j,_e,nt,rt){if(b)return d.flags&256?(d.flags&=-257,j=Li(Error(p(422))),tj(c,d,rt,j)):d.memoizedState!==null?(d.child=c.child,d.flags|=128,null):(nt=j.fallback,_e=d.mode,j=qj({mode:"visible",children:j.children},_e,0,null),nt=Ah(nt,_e,rt,null),nt.flags|=2,j.return=d,nt.return=d,j.sibling=nt,d.child=j,d.mode&1&&Bh(d,c.child,null,rt),d.child.memoizedState=oj(rt),d.memoizedState=nj,nt);if(!(d.mode&1))return tj(c,d,rt,null);if(_e.data==="$!"){if(j=_e.nextSibling&&_e.nextSibling.dataset,j)var st=j.dgst;return j=st,nt=Error(p(419)),j=Li(nt,j,void 0),tj(c,d,rt,j)}if(st=(rt&c.childLanes)!==0,Ug||st){if(j=R,j!==null){switch(rt&-rt){case 4:_e=2;break;case 16:_e=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_e=32;break;case 536870912:_e=268435456;break;default:_e=0}_e=_e&(j.suspendedLanes|rt)?0:_e,_e!==0&&_e!==nt.retryLane&&(nt.retryLane=_e,Zg(c,_e),mh(j,c,_e,-1))}return uj(),j=Li(Error(p(421))),tj(c,d,rt,j)}return _e.data==="$?"?(d.flags|=128,d.child=c.child,d=vj.bind(null,c),_e._reactRetry=d,null):(c=nt.treeContext,yg=Lf(_e.nextSibling),xg=d,I=!0,zg=null,c!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=c.id,sg=c.overflow,qg=d),d=rj(d,j.children),d.flags|=4096,d)}function wj(c,d,b){c.lanes|=d;var j=c.alternate;j!==null&&(j.lanes|=d),Sg(c.return,d,b)}function xj(c,d,b,j,_e){var nt=c.memoizedState;nt===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:j,tail:b,tailMode:_e}:(nt.isBackwards=d,nt.rendering=null,nt.renderingStartTime=0,nt.last=j,nt.tail=b,nt.tailMode=_e)}function yj(c,d,b){var j=d.pendingProps,_e=j.revealOrder,nt=j.tail;if(Yi(c,d,j.children,b),j=M.current,j&2)j=j&1|2,d.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&wj(c,b,d);else if(c.tag===19)wj(c,b,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}j&=1}if(G(M,j),!(d.mode&1))d.memoizedState=null;else switch(_e){case"forwards":for(b=d.child,_e=null;b!==null;)c=b.alternate,c!==null&&Mh(c)===null&&(_e=b),b=b.sibling;b=_e,b===null?(_e=d.child,d.child=null):(_e=b.sibling,b.sibling=null),xj(d,!1,_e,b,nt);break;case"backwards":for(b=null,_e=d.child,d.child=null;_e!==null;){if(c=_e.alternate,c!==null&&Mh(c)===null){d.child=_e;break}c=_e.sibling,_e.sibling=b,b=_e,_e=c}xj(d,!0,b,null,nt);break;case"together":xj(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function jj(c,d){!(d.mode&1)&&c!==null&&(c.alternate=null,d.alternate=null,d.flags|=2)}function $i(c,d,b){if(c!==null&&(d.dependencies=c.dependencies),hh|=d.lanes,!(b&d.childLanes))return null;if(c!==null&&d.child!==c.child)throw Error(p(153));if(d.child!==null){for(c=d.child,b=wh(c,c.pendingProps),d.child=b,b.return=d;c.sibling!==null;)c=c.sibling,b=b.sibling=wh(c,c.pendingProps),b.return=d;b.sibling=null}return d.child}function zj(c,d,b){switch(d.tag){case 3:lj(d),Ig();break;case 5:Kh(d);break;case 1:Zf(d.type)&&cg(d);break;case 4:Ih(d,d.stateNode.containerInfo);break;case 10:var j=d.type._context,_e=d.memoizedProps.value;G(Mg,j._currentValue),j._currentValue=_e;break;case 13:if(j=d.memoizedState,j!==null)return j.dehydrated!==null?(G(M,M.current&1),d.flags|=128,null):b&d.child.childLanes?pj(c,d,b):(G(M,M.current&1),c=$i(c,d,b),c!==null?c.sibling:null);G(M,M.current&1);break;case 19:if(j=(b&d.childLanes)!==0,c.flags&128){if(j)return yj(c,d,b);d.flags|=128}if(_e=d.memoizedState,_e!==null&&(_e.rendering=null,_e.tail=null,_e.lastEffect=null),G(M,M.current),j)break;return null;case 22:case 23:return d.lanes=0,ej(c,d,b)}return $i(c,d,b)}var Aj,Bj,Cj,Dj;Aj=function(c,d){for(var b=d.child;b!==null;){if(b.tag===5||b.tag===6)c.appendChild(b.stateNode);else if(b.tag!==4&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===d)break;for(;b.sibling===null;){if(b.return===null||b.return===d)return;b=b.return}b.sibling.return=b.return,b=b.sibling}};Bj=function(){};Cj=function(c,d,b,j){var _e=c.memoizedProps;if(_e!==j){c=d.stateNode,Hh(Eh.current);var nt=null;switch(b){case"input":_e=Ya(c,_e),j=Ya(c,j),nt=[];break;case"select":_e=A({},_e,{value:void 0}),j=A({},j,{value:void 0}),nt=[];break;case"textarea":_e=gb(c,_e),j=gb(c,j),nt=[];break;default:typeof _e.onClick!="function"&&typeof j.onClick=="function"&&(c.onclick=Bf)}ub(b,j);var rt;b=null;for(ct in _e)if(!j.hasOwnProperty(ct)&&_e.hasOwnProperty(ct)&&_e[ct]!=null)if(ct==="style"){var st=_e[ct];for(rt in st)st.hasOwnProperty(rt)&&(b||(b={}),b[rt]="")}else ct!=="dangerouslySetInnerHTML"&&ct!=="children"&&ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&ct!=="autoFocus"&&(ea.hasOwnProperty(ct)?nt||(nt=[]):(nt=nt||[]).push(ct,null));for(ct in j){var it=j[ct];if(st=_e!=null?_e[ct]:void 0,j.hasOwnProperty(ct)&&it!==st&&(it!=null||st!=null))if(ct==="style")if(st){for(rt in st)!st.hasOwnProperty(rt)||it&&it.hasOwnProperty(rt)||(b||(b={}),b[rt]="");for(rt in it)it.hasOwnProperty(rt)&&st[rt]!==it[rt]&&(b||(b={}),b[rt]=it[rt])}else b||(nt||(nt=[]),nt.push(ct,b)),b=it;else ct==="dangerouslySetInnerHTML"?(it=it?it.__html:void 0,st=st?st.__html:void 0,it!=null&&st!==it&&(nt=nt||[]).push(ct,it)):ct==="children"?typeof it!="string"&&typeof it!="number"||(nt=nt||[]).push(ct,""+it):ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ct)?(it!=null&&ct==="onScroll"&&D("scroll",c),nt||st===it||(nt=[])):(nt=nt||[]).push(ct,it))}b&&(nt=nt||[]).push("style",b);var ct=nt;(d.updateQueue=ct)&&(d.flags|=4)}};Dj=function(c,d,b,j){b!==j&&(d.flags|=4)};function Ej(c,d){if(!I)switch(c.tailMode){case"hidden":d=c.tail;for(var b=null;d!==null;)d.alternate!==null&&(b=d),d=d.sibling;b===null?c.tail=null:b.sibling=null;break;case"collapsed":b=c.tail;for(var j=null;b!==null;)b.alternate!==null&&(j=b),b=b.sibling;j===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:j.sibling=null}}function S(c){var d=c.alternate!==null&&c.alternate.child===c.child,b=0,j=0;if(d)for(var _e=c.child;_e!==null;)b|=_e.lanes|_e.childLanes,j|=_e.subtreeFlags&14680064,j|=_e.flags&14680064,_e.return=c,_e=_e.sibling;else for(_e=c.child;_e!==null;)b|=_e.lanes|_e.childLanes,j|=_e.subtreeFlags,j|=_e.flags,_e.return=c,_e=_e.sibling;return c.subtreeFlags|=j,c.childLanes=b,d}function Fj(c,d,b){var j=d.pendingProps;switch(wg(d),d.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S(d),null;case 1:return Zf(d.type)&&$f(),S(d),null;case 3:return j=d.stateNode,Jh(),E(Wf),E(H),Oh(),j.pendingContext&&(j.context=j.pendingContext,j.pendingContext=null),(c===null||c.child===null)&&(Gg(d)?d.flags|=4:c===null||c.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(c,d),S(d),null;case 5:Lh(d);var _e=Hh(Gh.current);if(b=d.type,c!==null&&d.stateNode!=null)Cj(c,d,b,j,_e),c.ref!==d.ref&&(d.flags|=512,d.flags|=2097152);else{if(!j){if(d.stateNode===null)throw Error(p(166));return S(d),null}if(c=Hh(Eh.current),Gg(d)){j=d.stateNode,b=d.type;var nt=d.memoizedProps;switch(j[Of]=d,j[Pf]=nt,c=(d.mode&1)!==0,b){case"dialog":D("cancel",j),D("close",j);break;case"iframe":case"object":case"embed":D("load",j);break;case"video":case"audio":for(_e=0;_e<lf.length;_e++)D(lf[_e],j);break;case"source":D("error",j);break;case"img":case"image":case"link":D("error",j),D("load",j);break;case"details":D("toggle",j);break;case"input":Za(j,nt),D("invalid",j);break;case"select":j._wrapperState={wasMultiple:!!nt.multiple},D("invalid",j);break;case"textarea":hb(j,nt),D("invalid",j)}ub(b,nt),_e=null;for(var rt in nt)if(nt.hasOwnProperty(rt)){var st=nt[rt];rt==="children"?typeof st=="string"?j.textContent!==st&&(nt.suppressHydrationWarning!==!0&&Af(j.textContent,st,c),_e=["children",st]):typeof st=="number"&&j.textContent!==""+st&&(nt.suppressHydrationWarning!==!0&&Af(j.textContent,st,c),_e=["children",""+st]):ea.hasOwnProperty(rt)&&st!=null&&rt==="onScroll"&&D("scroll",j)}switch(b){case"input":Va(j),db(j,nt,!0);break;case"textarea":Va(j),jb(j);break;case"select":case"option":break;default:typeof nt.onClick=="function"&&(j.onclick=Bf)}j=_e,d.updateQueue=j,j!==null&&(d.flags|=4)}else{rt=_e.nodeType===9?_e:_e.ownerDocument,c==="http://www.w3.org/1999/xhtml"&&(c=kb(b)),c==="http://www.w3.org/1999/xhtml"?b==="script"?(c=rt.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild)):typeof j.is=="string"?c=rt.createElement(b,{is:j.is}):(c=rt.createElement(b),b==="select"&&(rt=c,j.multiple?rt.multiple=!0:j.size&&(rt.size=j.size))):c=rt.createElementNS(c,b),c[Of]=d,c[Pf]=j,Aj(c,d,!1,!1),d.stateNode=c;e:{switch(rt=vb(b,j),b){case"dialog":D("cancel",c),D("close",c),_e=j;break;case"iframe":case"object":case"embed":D("load",c),_e=j;break;case"video":case"audio":for(_e=0;_e<lf.length;_e++)D(lf[_e],c);_e=j;break;case"source":D("error",c),_e=j;break;case"img":case"image":case"link":D("error",c),D("load",c),_e=j;break;case"details":D("toggle",c),_e=j;break;case"input":Za(c,j),_e=Ya(c,j),D("invalid",c);break;case"option":_e=j;break;case"select":c._wrapperState={wasMultiple:!!j.multiple},_e=A({},j,{value:void 0}),D("invalid",c);break;case"textarea":hb(c,j),_e=gb(c,j),D("invalid",c);break;default:_e=j}ub(b,_e),st=_e;for(nt in st)if(st.hasOwnProperty(nt)){var it=st[nt];nt==="style"?sb(c,it):nt==="dangerouslySetInnerHTML"?(it=it?it.__html:void 0,it!=null&&nb(c,it)):nt==="children"?typeof it=="string"?(b!=="textarea"||it!=="")&&ob(c,it):typeof it=="number"&&ob(c,""+it):nt!=="suppressContentEditableWarning"&&nt!=="suppressHydrationWarning"&&nt!=="autoFocus"&&(ea.hasOwnProperty(nt)?it!=null&&nt==="onScroll"&&D("scroll",c):it!=null&&ta(c,nt,it,rt))}switch(b){case"input":Va(c),db(c,j,!1);break;case"textarea":Va(c),jb(c);break;case"option":j.value!=null&&c.setAttribute("value",""+Sa(j.value));break;case"select":c.multiple=!!j.multiple,nt=j.value,nt!=null?fb(c,!!j.multiple,nt,!1):j.defaultValue!=null&&fb(c,!!j.multiple,j.defaultValue,!0);break;default:typeof _e.onClick=="function"&&(c.onclick=Bf)}switch(b){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}}j&&(d.flags|=4)}d.ref!==null&&(d.flags|=512,d.flags|=2097152)}return S(d),null;case 6:if(c&&d.stateNode!=null)Dj(c,d,c.memoizedProps,j);else{if(typeof j!="string"&&d.stateNode===null)throw Error(p(166));if(b=Hh(Gh.current),Hh(Eh.current),Gg(d)){if(j=d.stateNode,b=d.memoizedProps,j[Of]=d,(nt=j.nodeValue!==b)&&(c=xg,c!==null))switch(c.tag){case 3:Af(j.nodeValue,b,(c.mode&1)!==0);break;case 5:c.memoizedProps.suppressHydrationWarning!==!0&&Af(j.nodeValue,b,(c.mode&1)!==0)}nt&&(d.flags|=4)}else j=(b.nodeType===9?b:b.ownerDocument).createTextNode(j),j[Of]=d,d.stateNode=j}return S(d),null;case 13:if(E(M),j=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(I&&yg!==null&&d.mode&1&&!(d.flags&128))Hg(),Ig(),d.flags|=98560,nt=!1;else if(nt=Gg(d),j!==null&&j.dehydrated!==null){if(c===null){if(!nt)throw Error(p(318));if(nt=d.memoizedState,nt=nt!==null?nt.dehydrated:null,!nt)throw Error(p(317));nt[Of]=d}else Ig(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;S(d),nt=!1}else zg!==null&&(Gj(zg),zg=null),nt=!0;if(!nt)return d.flags&65536?d:null}return d.flags&128?(d.lanes=b,d):(j=j!==null,j!==(c!==null&&c.memoizedState!==null)&&j&&(d.child.flags|=8192,d.mode&1&&(c===null||M.current&1?T===0&&(T=3):uj())),d.updateQueue!==null&&(d.flags|=4),S(d),null);case 4:return Jh(),Bj(c,d),c===null&&sf(d.stateNode.containerInfo),S(d),null;case 10:return Rg(d.type._context),S(d),null;case 17:return Zf(d.type)&&$f(),S(d),null;case 19:if(E(M),nt=d.memoizedState,nt===null)return S(d),null;if(j=(d.flags&128)!==0,rt=nt.rendering,rt===null)if(j)Ej(nt,!1);else{if(T!==0||c!==null&&c.flags&128)for(c=d.child;c!==null;){if(rt=Mh(c),rt!==null){for(d.flags|=128,Ej(nt,!1),j=rt.updateQueue,j!==null&&(d.updateQueue=j,d.flags|=4),d.subtreeFlags=0,j=b,b=d.child;b!==null;)nt=b,c=j,nt.flags&=14680066,rt=nt.alternate,rt===null?(nt.childLanes=0,nt.lanes=c,nt.child=null,nt.subtreeFlags=0,nt.memoizedProps=null,nt.memoizedState=null,nt.updateQueue=null,nt.dependencies=null,nt.stateNode=null):(nt.childLanes=rt.childLanes,nt.lanes=rt.lanes,nt.child=rt.child,nt.subtreeFlags=0,nt.deletions=null,nt.memoizedProps=rt.memoizedProps,nt.memoizedState=rt.memoizedState,nt.updateQueue=rt.updateQueue,nt.type=rt.type,c=rt.dependencies,nt.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),b=b.sibling;return G(M,M.current&1|2),d.child}c=c.sibling}nt.tail!==null&&B()>Hj&&(d.flags|=128,j=!0,Ej(nt,!1),d.lanes=4194304)}else{if(!j)if(c=Mh(rt),c!==null){if(d.flags|=128,j=!0,b=c.updateQueue,b!==null&&(d.updateQueue=b,d.flags|=4),Ej(nt,!0),nt.tail===null&&nt.tailMode==="hidden"&&!rt.alternate&&!I)return S(d),null}else 2*B()-nt.renderingStartTime>Hj&&b!==1073741824&&(d.flags|=128,j=!0,Ej(nt,!1),d.lanes=4194304);nt.isBackwards?(rt.sibling=d.child,d.child=rt):(b=nt.last,b!==null?b.sibling=rt:d.child=rt,nt.last=rt)}return nt.tail!==null?(d=nt.tail,nt.rendering=d,nt.tail=d.sibling,nt.renderingStartTime=B(),d.sibling=null,b=M.current,G(M,j?b&1|2:b&1),d):(S(d),null);case 22:case 23:return Ij(),j=d.memoizedState!==null,c!==null&&c.memoizedState!==null!==j&&(d.flags|=8192),j&&d.mode&1?gj&1073741824&&(S(d),d.subtreeFlags&6&&(d.flags|=8192)):S(d),null;case 24:return null;case 25:return null}throw Error(p(156,d.tag))}function Jj(c,d){switch(wg(d),d.tag){case 1:return Zf(d.type)&&$f(),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Jh(),E(Wf),E(H),Oh(),c=d.flags,c&65536&&!(c&128)?(d.flags=c&-65537|128,d):null;case 5:return Lh(d),null;case 13:if(E(M),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(p(340));Ig()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return E(M),null;case 4:return Jh(),null;case 10:return Rg(d.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V=null;function Mj(c,d){var b=c.ref;if(b!==null)if(typeof b=="function")try{b(null)}catch(j){W(c,d,j)}else b.current=null}function Nj(c,d,b){try{b()}catch(j){W(c,d,j)}}var Oj=!1;function Pj(c,d){if(Cf=dd,c=Me(),Ne(c)){if("selectionStart"in c)var b={start:c.selectionStart,end:c.selectionEnd};else e:{b=(b=c.ownerDocument)&&b.defaultView||window;var j=b.getSelection&&b.getSelection();if(j&&j.rangeCount!==0){b=j.anchorNode;var _e=j.anchorOffset,nt=j.focusNode;j=j.focusOffset;try{b.nodeType,nt.nodeType}catch{b=null;break e}var rt=0,st=-1,it=-1,ct=0,gt=0,ft=c,ht=null;t:for(;;){for(var bt;ft!==b||_e!==0&&ft.nodeType!==3||(st=rt+_e),ft!==nt||j!==0&&ft.nodeType!==3||(it=rt+j),ft.nodeType===3&&(rt+=ft.nodeValue.length),(bt=ft.firstChild)!==null;)ht=ft,ft=bt;for(;;){if(ft===c)break t;if(ht===b&&++ct===_e&&(st=rt),ht===nt&&++gt===j&&(it=rt),(bt=ft.nextSibling)!==null)break;ft=ht,ht=ft.parentNode}ft=bt}b=st===-1||it===-1?null:{start:st,end:it}}else b=null}b=b||{start:0,end:0}}else b=null;for(Df={focusedElem:c,selectionRange:b},dd=!1,V=d;V!==null;)if(d=V,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,V=c;else for(;V!==null;){d=V;try{var wt=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(wt!==null){var lt=wt.memoizedProps,_t=wt.memoizedState,ut=d.stateNode,kt=ut.getSnapshotBeforeUpdate(d.elementType===d.type?lt:Lg(d.type,lt),_t);ut.__reactInternalSnapshotBeforeUpdate=kt}break;case 3:var pt=d.stateNode.containerInfo;pt.nodeType===1?pt.textContent="":pt.nodeType===9&&pt.documentElement&&pt.removeChild(pt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p(163))}}catch(mt){W(d,d.return,mt)}if(c=d.sibling,c!==null){c.return=d.return,V=c;break}V=d.return}return wt=Oj,Oj=!1,wt}function Qj(c,d,b){var j=d.updateQueue;if(j=j!==null?j.lastEffect:null,j!==null){var _e=j=j.next;do{if((_e.tag&c)===c){var nt=_e.destroy;_e.destroy=void 0,nt!==void 0&&Nj(d,b,nt)}_e=_e.next}while(_e!==j)}}function Rj(c,d){if(d=d.updateQueue,d=d!==null?d.lastEffect:null,d!==null){var b=d=d.next;do{if((b.tag&c)===c){var j=b.create;b.destroy=j()}b=b.next}while(b!==d)}}function Sj(c){var d=c.ref;if(d!==null){var b=c.stateNode;switch(c.tag){case 5:c=b;break;default:c=b}typeof d=="function"?d(c):d.current=c}}function Tj(c){var d=c.alternate;d!==null&&(c.alternate=null,Tj(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&(delete d[Of],delete d[Pf],delete d[of],delete d[Qf],delete d[Rf])),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}function Uj(c){return c.tag===5||c.tag===3||c.tag===4}function Vj(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||Uj(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function Wj(c,d,b){var j=c.tag;if(j===5||j===6)c=c.stateNode,d?b.nodeType===8?b.parentNode.insertBefore(c,d):b.insertBefore(c,d):(b.nodeType===8?(d=b.parentNode,d.insertBefore(c,b)):(d=b,d.appendChild(c)),b=b._reactRootContainer,b!=null||d.onclick!==null||(d.onclick=Bf));else if(j!==4&&(c=c.child,c!==null))for(Wj(c,d,b),c=c.sibling;c!==null;)Wj(c,d,b),c=c.sibling}function Xj(c,d,b){var j=c.tag;if(j===5||j===6)c=c.stateNode,d?b.insertBefore(c,d):b.appendChild(c);else if(j!==4&&(c=c.child,c!==null))for(Xj(c,d,b),c=c.sibling;c!==null;)Xj(c,d,b),c=c.sibling}var X=null,Yj=!1;function Zj(c,d,b){for(b=b.child;b!==null;)ak(c,d,b),b=b.sibling}function ak(c,d,b){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,b)}catch{}switch(b.tag){case 5:U||Mj(b,d);case 6:var j=X,_e=Yj;X=null,Zj(c,d,b),X=j,Yj=_e,X!==null&&(Yj?(c=X,b=b.stateNode,c.nodeType===8?c.parentNode.removeChild(b):c.removeChild(b)):X.removeChild(b.stateNode));break;case 18:X!==null&&(Yj?(c=X,b=b.stateNode,c.nodeType===8?Kf(c.parentNode,b):c.nodeType===1&&Kf(c,b),bd(c)):Kf(X,b.stateNode));break;case 4:j=X,_e=Yj,X=b.stateNode.containerInfo,Yj=!0,Zj(c,d,b),X=j,Yj=_e;break;case 0:case 11:case 14:case 15:if(!U&&(j=b.updateQueue,j!==null&&(j=j.lastEffect,j!==null))){_e=j=j.next;do{var nt=_e,rt=nt.destroy;nt=nt.tag,rt!==void 0&&(nt&2||nt&4)&&Nj(b,d,rt),_e=_e.next}while(_e!==j)}Zj(c,d,b);break;case 1:if(!U&&(Mj(b,d),j=b.stateNode,typeof j.componentWillUnmount=="function"))try{j.props=b.memoizedProps,j.state=b.memoizedState,j.componentWillUnmount()}catch(st){W(b,d,st)}Zj(c,d,b);break;case 21:Zj(c,d,b);break;case 22:b.mode&1?(U=(j=U)||b.memoizedState!==null,Zj(c,d,b),U=j):Zj(c,d,b);break;default:Zj(c,d,b)}}function bk(c){var d=c.updateQueue;if(d!==null){c.updateQueue=null;var b=c.stateNode;b===null&&(b=c.stateNode=new Lj),d.forEach(function(j){var _e=ck.bind(null,c,j);b.has(j)||(b.add(j),j.then(_e,_e))})}}function dk(c,d){var b=d.deletions;if(b!==null)for(var j=0;j<b.length;j++){var _e=b[j];try{var nt=c,rt=d,st=rt;e:for(;st!==null;){switch(st.tag){case 5:X=st.stateNode,Yj=!1;break e;case 3:X=st.stateNode.containerInfo,Yj=!0;break e;case 4:X=st.stateNode.containerInfo,Yj=!0;break e}st=st.return}if(X===null)throw Error(p(160));ak(nt,rt,_e),X=null,Yj=!1;var it=_e.alternate;it!==null&&(it.return=null),_e.return=null}catch(ct){W(_e,d,ct)}}if(d.subtreeFlags&12854)for(d=d.child;d!==null;)ek(d,c),d=d.sibling}function ek(c,d){var b=c.alternate,j=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:if(dk(d,c),fk(c),j&4){try{Qj(3,c,c.return),Rj(3,c)}catch(lt){W(c,c.return,lt)}try{Qj(5,c,c.return)}catch(lt){W(c,c.return,lt)}}break;case 1:dk(d,c),fk(c),j&512&&b!==null&&Mj(b,b.return);break;case 5:if(dk(d,c),fk(c),j&512&&b!==null&&Mj(b,b.return),c.flags&32){var _e=c.stateNode;try{ob(_e,"")}catch(lt){W(c,c.return,lt)}}if(j&4&&(_e=c.stateNode,_e!=null)){var nt=c.memoizedProps,rt=b!==null?b.memoizedProps:nt,st=c.type,it=c.updateQueue;if(c.updateQueue=null,it!==null)try{st==="input"&&nt.type==="radio"&&nt.name!=null&&ab(_e,nt),vb(st,rt);var ct=vb(st,nt);for(rt=0;rt<it.length;rt+=2){var gt=it[rt],ft=it[rt+1];gt==="style"?sb(_e,ft):gt==="dangerouslySetInnerHTML"?nb(_e,ft):gt==="children"?ob(_e,ft):ta(_e,gt,ft,ct)}switch(st){case"input":bb(_e,nt);break;case"textarea":ib(_e,nt);break;case"select":var ht=_e._wrapperState.wasMultiple;_e._wrapperState.wasMultiple=!!nt.multiple;var bt=nt.value;bt!=null?fb(_e,!!nt.multiple,bt,!1):ht!==!!nt.multiple&&(nt.defaultValue!=null?fb(_e,!!nt.multiple,nt.defaultValue,!0):fb(_e,!!nt.multiple,nt.multiple?[]:"",!1))}_e[Pf]=nt}catch(lt){W(c,c.return,lt)}}break;case 6:if(dk(d,c),fk(c),j&4){if(c.stateNode===null)throw Error(p(162));_e=c.stateNode,nt=c.memoizedProps;try{_e.nodeValue=nt}catch(lt){W(c,c.return,lt)}}break;case 3:if(dk(d,c),fk(c),j&4&&b!==null&&b.memoizedState.isDehydrated)try{bd(d.containerInfo)}catch(lt){W(c,c.return,lt)}break;case 4:dk(d,c),fk(c);break;case 13:dk(d,c),fk(c),_e=c.child,_e.flags&8192&&(nt=_e.memoizedState!==null,_e.stateNode.isHidden=nt,!nt||_e.alternate!==null&&_e.alternate.memoizedState!==null||(gk=B())),j&4&&bk(c);break;case 22:if(gt=b!==null&&b.memoizedState!==null,c.mode&1?(U=(ct=U)||gt,dk(d,c),U=ct):dk(d,c),fk(c),j&8192){if(ct=c.memoizedState!==null,(c.stateNode.isHidden=ct)&&!gt&&c.mode&1)for(V=c,gt=c.child;gt!==null;){for(ft=V=gt;V!==null;){switch(ht=V,bt=ht.child,ht.tag){case 0:case 11:case 14:case 15:Qj(4,ht,ht.return);break;case 1:Mj(ht,ht.return);var wt=ht.stateNode;if(typeof wt.componentWillUnmount=="function"){j=ht,b=ht.return;try{d=j,wt.props=d.memoizedProps,wt.state=d.memoizedState,wt.componentWillUnmount()}catch(lt){W(j,b,lt)}}break;case 5:Mj(ht,ht.return);break;case 22:if(ht.memoizedState!==null){hk(ft);continue}}bt!==null?(bt.return=ht,V=bt):hk(ft)}gt=gt.sibling}e:for(gt=null,ft=c;;){if(ft.tag===5){if(gt===null){gt=ft;try{_e=ft.stateNode,ct?(nt=_e.style,typeof nt.setProperty=="function"?nt.setProperty("display","none","important"):nt.display="none"):(st=ft.stateNode,it=ft.memoizedProps.style,rt=it!=null&&it.hasOwnProperty("display")?it.display:null,st.style.display=rb("display",rt))}catch(lt){W(c,c.return,lt)}}}else if(ft.tag===6){if(gt===null)try{ft.stateNode.nodeValue=ct?"":ft.memoizedProps}catch(lt){W(c,c.return,lt)}}else if((ft.tag!==22&&ft.tag!==23||ft.memoizedState===null||ft===c)&&ft.child!==null){ft.child.return=ft,ft=ft.child;continue}if(ft===c)break e;for(;ft.sibling===null;){if(ft.return===null||ft.return===c)break e;gt===ft&&(gt=null),ft=ft.return}gt===ft&&(gt=null),ft.sibling.return=ft.return,ft=ft.sibling}}break;case 19:dk(d,c),fk(c),j&4&&bk(c);break;case 21:break;default:dk(d,c),fk(c)}}function fk(c){var d=c.flags;if(d&2){try{e:{for(var b=c.return;b!==null;){if(Uj(b)){var j=b;break e}b=b.return}throw Error(p(160))}switch(j.tag){case 5:var _e=j.stateNode;j.flags&32&&(ob(_e,""),j.flags&=-33);var nt=Vj(c);Xj(c,nt,_e);break;case 3:case 4:var rt=j.stateNode.containerInfo,st=Vj(c);Wj(c,st,rt);break;default:throw Error(p(161))}}catch(it){W(c,c.return,it)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function ik(c,d,b){V=c,jk(c)}function jk(c,d,b){for(var j=(c.mode&1)!==0;V!==null;){var _e=V,nt=_e.child;if(_e.tag===22&&j){var rt=_e.memoizedState!==null||Kj;if(!rt){var st=_e.alternate,it=st!==null&&st.memoizedState!==null||U;st=Kj;var ct=U;if(Kj=rt,(U=it)&&!ct)for(V=_e;V!==null;)rt=V,it=rt.child,rt.tag===22&&rt.memoizedState!==null?kk(_e):it!==null?(it.return=rt,V=it):kk(_e);for(;nt!==null;)V=nt,jk(nt),nt=nt.sibling;V=_e,Kj=st,U=ct}lk(c)}else _e.subtreeFlags&8772&&nt!==null?(nt.return=_e,V=nt):lk(c)}}function lk(c){for(;V!==null;){var d=V;if(d.flags&8772){var b=d.alternate;try{if(d.flags&8772)switch(d.tag){case 0:case 11:case 15:U||Rj(5,d);break;case 1:var j=d.stateNode;if(d.flags&4&&!U)if(b===null)j.componentDidMount();else{var _e=d.elementType===d.type?b.memoizedProps:Lg(d.type,b.memoizedProps);j.componentDidUpdate(_e,b.memoizedState,j.__reactInternalSnapshotBeforeUpdate)}var nt=d.updateQueue;nt!==null&&ih(d,nt,j);break;case 3:var rt=d.updateQueue;if(rt!==null){if(b=null,d.child!==null)switch(d.child.tag){case 5:b=d.child.stateNode;break;case 1:b=d.child.stateNode}ih(d,rt,b)}break;case 5:var st=d.stateNode;if(b===null&&d.flags&4){b=st;var it=d.memoizedProps;switch(d.type){case"button":case"input":case"select":case"textarea":it.autoFocus&&b.focus();break;case"img":it.src&&(b.src=it.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(d.memoizedState===null){var ct=d.alternate;if(ct!==null){var gt=ct.memoizedState;if(gt!==null){var ft=gt.dehydrated;ft!==null&&bd(ft)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p(163))}U||d.flags&512&&Sj(d)}catch(ht){W(d,d.return,ht)}}if(d===c){V=null;break}if(b=d.sibling,b!==null){b.return=d.return,V=b;break}V=d.return}}function hk(c){for(;V!==null;){var d=V;if(d===c){V=null;break}var b=d.sibling;if(b!==null){b.return=d.return,V=b;break}V=d.return}}function kk(c){for(;V!==null;){var d=V;try{switch(d.tag){case 0:case 11:case 15:var b=d.return;try{Rj(4,d)}catch(it){W(d,b,it)}break;case 1:var j=d.stateNode;if(typeof j.componentDidMount=="function"){var _e=d.return;try{j.componentDidMount()}catch(it){W(d,_e,it)}}var nt=d.return;try{Sj(d)}catch(it){W(d,nt,it)}break;case 5:var rt=d.return;try{Sj(d)}catch(it){W(d,rt,it)}}}catch(it){W(d,d.return,it)}if(d===c){V=null;break}var st=d.sibling;if(st!==null){st.return=d.return,V=st;break}V=d.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K=0,R=null,Y=null,Z=0,gj=0,fj=Uf(0),T=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L(){return K&6?B():Bk!==-1?Bk:Bk=B()}function lh(c){return c.mode&1?K&2&&Z!==0?Z&-Z:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(c=C,c!==0||(c=window.event,c=c===void 0?16:jd(c.type)),c):1}function mh(c,d,b,j){if(50<zk)throw zk=0,Ak=null,Error(p(185));Ac(c,b,j),(!(K&2)||c!==R)&&(c===R&&(!(K&2)&&(rk|=b),T===4&&Dk(c,Z)),Ek(c,j),b===1&&K===0&&!(d.mode&1)&&(Hj=B()+500,fg&&jg()))}function Ek(c,d){var b=c.callbackNode;wc(c,d);var j=uc(c,c===R?Z:0);if(j===0)b!==null&&bc(b),c.callbackNode=null,c.callbackPriority=0;else if(d=j&-j,c.callbackPriority!==d){if(b!=null&&bc(b),d===1)c.tag===0?ig(Fk.bind(null,c)):hg(Fk.bind(null,c)),Jf(function(){!(K&6)&&jg()}),b=null;else{switch(Dc(j)){case 1:b=fc;break;case 4:b=gc;break;case 16:b=hc;break;case 536870912:b=jc;break;default:b=hc}b=Gk(b,Hk.bind(null,c))}c.callbackPriority=d,c.callbackNode=b}}function Hk(c,d){if(Bk=-1,Ck=0,K&6)throw Error(p(327));var b=c.callbackNode;if(Ik()&&c.callbackNode!==b)return null;var j=uc(c,c===R?Z:0);if(j===0)return null;if(j&30||j&c.expiredLanes||d)d=Jk(c,j);else{d=j;var _e=K;K|=2;var nt=Kk();(R!==c||Z!==d)&&(vk=null,Hj=B()+500,Lk(c,d));do try{Mk();break}catch(st){Nk(c,st)}while(1);Qg(),nk.current=nt,K=_e,Y!==null?d=0:(R=null,Z=0,d=T)}if(d!==0){if(d===2&&(_e=xc(c),_e!==0&&(j=_e,d=Ok(c,_e))),d===1)throw b=qk,Lk(c,0),Dk(c,j),Ek(c,B()),b;if(d===6)Dk(c,j);else{if(_e=c.current.alternate,!(j&30)&&!Pk(_e)&&(d=Jk(c,j),d===2&&(nt=xc(c),nt!==0&&(j=nt,d=Ok(c,nt))),d===1))throw b=qk,Lk(c,0),Dk(c,j),Ek(c,B()),b;switch(c.finishedWork=_e,c.finishedLanes=j,d){case 0:case 1:throw Error(p(345));case 2:Qk(c,uk,vk);break;case 3:if(Dk(c,j),(j&130023424)===j&&(d=gk+500-B(),10<d)){if(uc(c,0)!==0)break;if(_e=c.suspendedLanes,(_e&j)!==j){L(),c.pingedLanes|=c.suspendedLanes&_e;break}c.timeoutHandle=Ff(Qk.bind(null,c,uk,vk),d);break}Qk(c,uk,vk);break;case 4:if(Dk(c,j),(j&4194240)===j)break;for(d=c.eventTimes,_e=-1;0<j;){var rt=31-oc(j);nt=1<<rt,rt=d[rt],rt>_e&&(_e=rt),j&=~nt}if(j=_e,j=B()-j,j=(120>j?120:480>j?480:1080>j?1080:1920>j?1920:3e3>j?3e3:4320>j?4320:1960*mk(j/1960))-j,10<j){c.timeoutHandle=Ff(Qk.bind(null,c,uk,vk),j);break}Qk(c,uk,vk);break;case 5:Qk(c,uk,vk);break;default:throw Error(p(329))}}}return Ek(c,B()),c.callbackNode===b?Hk.bind(null,c):null}function Ok(c,d){var b=tk;return c.current.memoizedState.isDehydrated&&(Lk(c,d).flags|=256),c=Jk(c,d),c!==2&&(d=uk,uk=b,d!==null&&Gj(d)),c}function Gj(c){uk===null?uk=c:uk.push.apply(uk,c)}function Pk(c){for(var d=c;;){if(d.flags&16384){var b=d.updateQueue;if(b!==null&&(b=b.stores,b!==null))for(var j=0;j<b.length;j++){var _e=b[j],nt=_e.getSnapshot;_e=_e.value;try{if(!He(nt(),_e))return!1}catch{return!1}}}if(b=d.child,d.subtreeFlags&16384&&b!==null)b.return=d,d=b;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function Dk(c,d){for(d&=~sk,d&=~rk,c.suspendedLanes|=d,c.pingedLanes&=~d,c=c.expirationTimes;0<d;){var b=31-oc(d),j=1<<b;c[b]=-1,d&=~j}}function Fk(c){if(K&6)throw Error(p(327));Ik();var d=uc(c,0);if(!(d&1))return Ek(c,B()),null;var b=Jk(c,d);if(c.tag!==0&&b===2){var j=xc(c);j!==0&&(d=j,b=Ok(c,j))}if(b===1)throw b=qk,Lk(c,0),Dk(c,d),Ek(c,B()),b;if(b===6)throw Error(p(345));return c.finishedWork=c.current.alternate,c.finishedLanes=d,Qk(c,uk,vk),Ek(c,B()),null}function Rk(c,d){var b=K;K|=1;try{return c(d)}finally{K=b,K===0&&(Hj=B()+500,fg&&jg())}}function Sk(c){xk!==null&&xk.tag===0&&!(K&6)&&Ik();var d=K;K|=1;var b=pk.transition,j=C;try{if(pk.transition=null,C=1,c)return c()}finally{C=j,pk.transition=b,K=d,!(K&6)&&jg()}}function Ij(){gj=fj.current,E(fj)}function Lk(c,d){c.finishedWork=null,c.finishedLanes=0;var b=c.timeoutHandle;if(b!==-1&&(c.timeoutHandle=-1,Gf(b)),Y!==null)for(b=Y.return;b!==null;){var j=b;switch(wg(j),j.tag){case 1:j=j.type.childContextTypes,j!=null&&$f();break;case 3:Jh(),E(Wf),E(H),Oh();break;case 5:Lh(j);break;case 4:Jh();break;case 13:E(M);break;case 19:E(M);break;case 10:Rg(j.type._context);break;case 22:case 23:Ij()}b=b.return}if(R=c,Y=c=wh(c.current,null),Z=gj=d,T=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(d=0;d<Wg.length;d++)if(b=Wg[d],j=b.interleaved,j!==null){b.interleaved=null;var _e=j.next,nt=b.pending;if(nt!==null){var rt=nt.next;nt.next=_e,j.next=rt}b.pending=j}Wg=null}return c}function Nk(c,d){do{var b=Y;try{if(Qg(),Ph.current=ai,Sh){for(var j=N.memoizedState;j!==null;){var _e=j.queue;_e!==null&&(_e.pending=null),j=j.next}Sh=!1}if(Rh=0,P=O=N=null,Th=!1,Uh=0,ok.current=null,b===null||b.return===null){T=1,qk=d,Y=null;break}e:{var nt=c,rt=b.return,st=b,it=d;if(d=Z,st.flags|=32768,it!==null&&typeof it=="object"&&typeof it.then=="function"){var ct=it,gt=st,ft=gt.tag;if(!(gt.mode&1)&&(ft===0||ft===11||ft===15)){var ht=gt.alternate;ht?(gt.updateQueue=ht.updateQueue,gt.memoizedState=ht.memoizedState,gt.lanes=ht.lanes):(gt.updateQueue=null,gt.memoizedState=null)}var bt=Vi(rt);if(bt!==null){bt.flags&=-257,Wi(bt,rt,st,nt,d),bt.mode&1&&Ti(nt,ct,d),d=bt,it=ct;var wt=d.updateQueue;if(wt===null){var lt=new Set;lt.add(it),d.updateQueue=lt}else wt.add(it);break e}else{if(!(d&1)){Ti(nt,ct,d),uj();break e}it=Error(p(426))}}else if(I&&st.mode&1){var _t=Vi(rt);if(_t!==null){!(_t.flags&65536)&&(_t.flags|=256),Wi(_t,rt,st,nt,d),Jg(Ki(it,st));break e}}nt=it=Ki(it,st),T!==4&&(T=2),tk===null?tk=[nt]:tk.push(nt),nt=rt;do{switch(nt.tag){case 3:nt.flags|=65536,d&=-d,nt.lanes|=d;var ut=Oi(nt,it,d);fh(nt,ut);break e;case 1:st=it;var kt=nt.type,pt=nt.stateNode;if(!(nt.flags&128)&&(typeof kt.getDerivedStateFromError=="function"||pt!==null&&typeof pt.componentDidCatch=="function"&&(Si===null||!Si.has(pt)))){nt.flags|=65536,d&=-d,nt.lanes|=d;var mt=Ri(nt,st,d);fh(nt,mt);break e}}nt=nt.return}while(nt!==null)}Tk(b)}catch(Pt){d=Pt,Y===b&&b!==null&&(Y=b=b.return);continue}break}while(1)}function Kk(){var c=nk.current;return nk.current=ai,c===null?ai:c}function uj(){(T===0||T===3||T===2)&&(T=4),R===null||!(hh&268435455)&&!(rk&268435455)||Dk(R,Z)}function Jk(c,d){var b=K;K|=2;var j=Kk();(R!==c||Z!==d)&&(vk=null,Lk(c,d));do try{Uk();break}catch(_e){Nk(c,_e)}while(1);if(Qg(),K=b,nk.current=j,Y!==null)throw Error(p(261));return R=null,Z=0,T}function Uk(){for(;Y!==null;)Vk(Y)}function Mk(){for(;Y!==null&&!cc();)Vk(Y)}function Vk(c){var d=Wk(c.alternate,c,gj);c.memoizedProps=c.pendingProps,d===null?Tk(c):Y=d,ok.current=null}function Tk(c){var d=c;do{var b=d.alternate;if(c=d.return,d.flags&32768){if(b=Jj(b,d),b!==null){b.flags&=32767,Y=b;return}if(c!==null)c.flags|=32768,c.subtreeFlags=0,c.deletions=null;else{T=6,Y=null;return}}else if(b=Fj(b,d,gj),b!==null){Y=b;return}if(d=d.sibling,d!==null){Y=d;return}Y=d=c}while(d!==null);T===0&&(T=5)}function Qk(c,d,b){var j=C,_e=pk.transition;try{pk.transition=null,C=1,Xk(c,d,b,j)}finally{pk.transition=_e,C=j}return null}function Xk(c,d,b,j){do Ik();while(xk!==null);if(K&6)throw Error(p(327));b=c.finishedWork;var _e=c.finishedLanes;if(b===null)return null;if(c.finishedWork=null,c.finishedLanes=0,b===c.current)throw Error(p(177));c.callbackNode=null,c.callbackPriority=0;var nt=b.lanes|b.childLanes;if(Bc(c,nt),c===R&&(Y=R=null,Z=0),!(b.subtreeFlags&2064)&&!(b.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),nt=(b.flags&15990)!==0,b.subtreeFlags&15990||nt){nt=pk.transition,pk.transition=null;var rt=C;C=1;var st=K;K|=4,ok.current=null,Pj(c,b),ek(b,c),Oe(Df),dd=!!Cf,Df=Cf=null,c.current=b,ik(b),dc(),K=st,C=rt,pk.transition=nt}else c.current=b;if(wk&&(wk=!1,xk=c,yk=_e),nt=c.pendingLanes,nt===0&&(Si=null),mc(b.stateNode),Ek(c,B()),d!==null)for(j=c.onRecoverableError,b=0;b<d.length;b++)_e=d[b],j(_e.value,{componentStack:_e.stack,digest:_e.digest});if(Pi)throw Pi=!1,c=Qi,Qi=null,c;return yk&1&&c.tag!==0&&Ik(),nt=c.pendingLanes,nt&1?c===Ak?zk++:(zk=0,Ak=c):zk=0,jg(),null}function Ik(){if(xk!==null){var c=Dc(yk),d=pk.transition,b=C;try{if(pk.transition=null,C=16>c?16:c,xk===null)var j=!1;else{if(c=xk,xk=null,yk=0,K&6)throw Error(p(331));var _e=K;for(K|=4,V=c.current;V!==null;){var nt=V,rt=nt.child;if(V.flags&16){var st=nt.deletions;if(st!==null){for(var it=0;it<st.length;it++){var ct=st[it];for(V=ct;V!==null;){var gt=V;switch(gt.tag){case 0:case 11:case 15:Qj(8,gt,nt)}var ft=gt.child;if(ft!==null)ft.return=gt,V=ft;else for(;V!==null;){gt=V;var ht=gt.sibling,bt=gt.return;if(Tj(gt),gt===ct){V=null;break}if(ht!==null){ht.return=bt,V=ht;break}V=bt}}}var wt=nt.alternate;if(wt!==null){var lt=wt.child;if(lt!==null){wt.child=null;do{var _t=lt.sibling;lt.sibling=null,lt=_t}while(lt!==null)}}V=nt}}if(nt.subtreeFlags&2064&&rt!==null)rt.return=nt,V=rt;else e:for(;V!==null;){if(nt=V,nt.flags&2048)switch(nt.tag){case 0:case 11:case 15:Qj(9,nt,nt.return)}var ut=nt.sibling;if(ut!==null){ut.return=nt.return,V=ut;break e}V=nt.return}}var kt=c.current;for(V=kt;V!==null;){rt=V;var pt=rt.child;if(rt.subtreeFlags&2064&&pt!==null)pt.return=rt,V=pt;else e:for(rt=kt;V!==null;){if(st=V,st.flags&2048)try{switch(st.tag){case 0:case 11:case 15:Rj(9,st)}}catch(Pt){W(st,st.return,Pt)}if(st===rt){V=null;break e}var mt=st.sibling;if(mt!==null){mt.return=st.return,V=mt;break e}V=st.return}}if(K=_e,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,c)}catch{}j=!0}return j}finally{C=b,pk.transition=d}}return!1}function Yk(c,d,b){d=Ki(b,d),d=Oi(c,d,1),c=dh(c,d,1),d=L(),c!==null&&(Ac(c,1,d),Ek(c,d))}function W(c,d,b){if(c.tag===3)Yk(c,c,b);else for(;d!==null;){if(d.tag===3){Yk(d,c,b);break}else if(d.tag===1){var j=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(Si===null||!Si.has(j))){c=Ki(b,c),c=Ri(d,c,1),d=dh(d,c,1),c=L(),d!==null&&(Ac(d,1,c),Ek(d,c));break}}d=d.return}}function Ui(c,d,b){var j=c.pingCache;j!==null&&j.delete(d),d=L(),c.pingedLanes|=c.suspendedLanes&b,R===c&&(Z&b)===b&&(T===4||T===3&&(Z&130023424)===Z&&500>B()-gk?Lk(c,0):sk|=b),Ek(c,d)}function Zk(c,d){d===0&&(c.mode&1?(d=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):d=1);var b=L();c=Zg(c,d),c!==null&&(Ac(c,d,b),Ek(c,b))}function vj(c){var d=c.memoizedState,b=0;d!==null&&(b=d.retryLane),Zk(c,b)}function ck(c,d){var b=0;switch(c.tag){case 13:var j=c.stateNode,_e=c.memoizedState;_e!==null&&(b=_e.retryLane);break;case 19:j=c.stateNode;break;default:throw Error(p(314))}j!==null&&j.delete(d),Zk(c,b)}var Wk;Wk=function(c,d,b){if(c!==null)if(c.memoizedProps!==d.pendingProps||Wf.current)Ug=!0;else{if(!(c.lanes&b)&&!(d.flags&128))return Ug=!1,zj(c,d,b);Ug=!!(c.flags&131072)}else Ug=!1,I&&d.flags&1048576&&ug(d,ng,d.index);switch(d.lanes=0,d.tag){case 2:var j=d.type;jj(c,d),c=d.pendingProps;var _e=Yf(d,H.current);Tg(d,b),_e=Xh(null,d,j,c,_e,b);var nt=bi();return d.flags|=1,typeof _e=="object"&&_e!==null&&typeof _e.render=="function"&&_e.$$typeof===void 0?(d.tag=1,d.memoizedState=null,d.updateQueue=null,Zf(j)?(nt=!0,cg(d)):nt=!1,d.memoizedState=_e.state!==null&&_e.state!==void 0?_e.state:null,ah(d),_e.updater=nh,d.stateNode=_e,_e._reactInternals=d,rh(d,j,c,b),d=kj(null,d,j,!0,nt,b)):(d.tag=0,I&&nt&&vg(d),Yi(null,d,_e,b),d=d.child),d;case 16:j=d.elementType;e:{switch(jj(c,d),c=d.pendingProps,_e=j._init,j=_e(j._payload),d.type=j,_e=d.tag=$k(j),c=Lg(j,c),_e){case 0:d=dj(null,d,j,c,b);break e;case 1:d=ij(null,d,j,c,b);break e;case 11:d=Zi(null,d,j,c,b);break e;case 14:d=aj(null,d,j,Lg(j.type,c),b);break e}throw Error(p(306,j,""))}return d;case 0:return j=d.type,_e=d.pendingProps,_e=d.elementType===j?_e:Lg(j,_e),dj(c,d,j,_e,b);case 1:return j=d.type,_e=d.pendingProps,_e=d.elementType===j?_e:Lg(j,_e),ij(c,d,j,_e,b);case 3:e:{if(lj(d),c===null)throw Error(p(387));j=d.pendingProps,nt=d.memoizedState,_e=nt.element,bh(c,d),gh(d,j,null,b);var rt=d.memoizedState;if(j=rt.element,nt.isDehydrated)if(nt={element:j,isDehydrated:!1,cache:rt.cache,pendingSuspenseBoundaries:rt.pendingSuspenseBoundaries,transitions:rt.transitions},d.updateQueue.baseState=nt,d.memoizedState=nt,d.flags&256){_e=Ki(Error(p(423)),d),d=mj(c,d,j,b,_e);break e}else if(j!==_e){_e=Ki(Error(p(424)),d),d=mj(c,d,j,b,_e);break e}else for(yg=Lf(d.stateNode.containerInfo.firstChild),xg=d,I=!0,zg=null,b=Ch(d,null,j,b),d.child=b;b;)b.flags=b.flags&-3|4096,b=b.sibling;else{if(Ig(),j===_e){d=$i(c,d,b);break e}Yi(c,d,j,b)}d=d.child}return d;case 5:return Kh(d),c===null&&Eg(d),j=d.type,_e=d.pendingProps,nt=c!==null?c.memoizedProps:null,rt=_e.children,Ef(j,_e)?rt=null:nt!==null&&Ef(j,nt)&&(d.flags|=32),hj(c,d),Yi(c,d,rt,b),d.child;case 6:return c===null&&Eg(d),null;case 13:return pj(c,d,b);case 4:return Ih(d,d.stateNode.containerInfo),j=d.pendingProps,c===null?d.child=Bh(d,null,j,b):Yi(c,d,j,b),d.child;case 11:return j=d.type,_e=d.pendingProps,_e=d.elementType===j?_e:Lg(j,_e),Zi(c,d,j,_e,b);case 7:return Yi(c,d,d.pendingProps,b),d.child;case 8:return Yi(c,d,d.pendingProps.children,b),d.child;case 12:return Yi(c,d,d.pendingProps.children,b),d.child;case 10:e:{if(j=d.type._context,_e=d.pendingProps,nt=d.memoizedProps,rt=_e.value,G(Mg,j._currentValue),j._currentValue=rt,nt!==null)if(He(nt.value,rt)){if(nt.children===_e.children&&!Wf.current){d=$i(c,d,b);break e}}else for(nt=d.child,nt!==null&&(nt.return=d);nt!==null;){var st=nt.dependencies;if(st!==null){rt=nt.child;for(var it=st.firstContext;it!==null;){if(it.context===j){if(nt.tag===1){it=ch(-1,b&-b),it.tag=2;var ct=nt.updateQueue;if(ct!==null){ct=ct.shared;var gt=ct.pending;gt===null?it.next=it:(it.next=gt.next,gt.next=it),ct.pending=it}}nt.lanes|=b,it=nt.alternate,it!==null&&(it.lanes|=b),Sg(nt.return,b,d),st.lanes|=b;break}it=it.next}}else if(nt.tag===10)rt=nt.type===d.type?null:nt.child;else if(nt.tag===18){if(rt=nt.return,rt===null)throw Error(p(341));rt.lanes|=b,st=rt.alternate,st!==null&&(st.lanes|=b),Sg(rt,b,d),rt=nt.sibling}else rt=nt.child;if(rt!==null)rt.return=nt;else for(rt=nt;rt!==null;){if(rt===d){rt=null;break}if(nt=rt.sibling,nt!==null){nt.return=rt.return,rt=nt;break}rt=rt.return}nt=rt}Yi(c,d,_e.children,b),d=d.child}return d;case 9:return _e=d.type,j=d.pendingProps.children,Tg(d,b),_e=Vg(_e),j=j(_e),d.flags|=1,Yi(c,d,j,b),d.child;case 14:return j=d.type,_e=Lg(j,d.pendingProps),_e=Lg(j.type,_e),aj(c,d,j,_e,b);case 15:return cj(c,d,d.type,d.pendingProps,b);case 17:return j=d.type,_e=d.pendingProps,_e=d.elementType===j?_e:Lg(j,_e),jj(c,d),d.tag=1,Zf(j)?(c=!0,cg(d)):c=!1,Tg(d,b),ph(d,j,_e),rh(d,j,_e,b),kj(null,d,j,!0,c,b);case 19:return yj(c,d,b);case 22:return ej(c,d,b)}throw Error(p(156,d.tag))};function Gk(c,d){return ac(c,d)}function al(c,d,b,j){this.tag=c,this.key=b,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(c,d,b,j){return new al(c,d,b,j)}function bj(c){return c=c.prototype,!(!c||!c.isReactComponent)}function $k(c){if(typeof c=="function")return bj(c)?1:0;if(c!=null){if(c=c.$$typeof,c===Da)return 11;if(c===Ga)return 14}return 2}function wh(c,d){var b=c.alternate;return b===null?(b=Bg(c.tag,d,c.key,c.mode),b.elementType=c.elementType,b.type=c.type,b.stateNode=c.stateNode,b.alternate=c,c.alternate=b):(b.pendingProps=d,b.type=c.type,b.flags=0,b.subtreeFlags=0,b.deletions=null),b.flags=c.flags&14680064,b.childLanes=c.childLanes,b.lanes=c.lanes,b.child=c.child,b.memoizedProps=c.memoizedProps,b.memoizedState=c.memoizedState,b.updateQueue=c.updateQueue,d=c.dependencies,b.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},b.sibling=c.sibling,b.index=c.index,b.ref=c.ref,b}function yh(c,d,b,j,_e,nt){var rt=2;if(j=c,typeof c=="function")bj(c)&&(rt=1);else if(typeof c=="string")rt=5;else e:switch(c){case ya:return Ah(b.children,_e,nt,d);case za:rt=8,_e|=8;break;case Aa:return c=Bg(12,b,d,_e|2),c.elementType=Aa,c.lanes=nt,c;case Ea:return c=Bg(13,b,d,_e),c.elementType=Ea,c.lanes=nt,c;case Fa:return c=Bg(19,b,d,_e),c.elementType=Fa,c.lanes=nt,c;case Ia:return qj(b,_e,nt,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case Ba:rt=10;break e;case Ca:rt=9;break e;case Da:rt=11;break e;case Ga:rt=14;break e;case Ha:rt=16,j=null;break e}throw Error(p(130,c==null?c:typeof c,""))}return d=Bg(rt,b,d,_e),d.elementType=c,d.type=j,d.lanes=nt,d}function Ah(c,d,b,j){return c=Bg(7,c,j,d),c.lanes=b,c}function qj(c,d,b,j){return c=Bg(22,c,j,d),c.elementType=Ia,c.lanes=b,c.stateNode={isHidden:!1},c}function xh(c,d,b){return c=Bg(6,c,null,d),c.lanes=b,c}function zh(c,d,b){return d=Bg(4,c.children!==null?c.children:[],c.key,d),d.lanes=b,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function bl(c,d,b,j,_e){this.tag=d,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=j,this.onRecoverableError=_e,this.mutableSourceEagerHydrationData=null}function cl(c,d,b,j,_e,nt,rt,st,it){return c=new bl(c,d,b,st,it),d===1?(d=1,nt===!0&&(d|=8)):d=0,nt=Bg(3,null,null,d),c.current=nt,nt.stateNode=c,nt.memoizedState={element:j,isDehydrated:b,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(nt),c}function dl(c,d,b){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:j==null?null:""+j,children:c,containerInfo:d,implementation:b}}function el(c){if(!c)return Vf;c=c._reactInternals;e:{if(Vb(c)!==c||c.tag!==1)throw Error(p(170));var d=c;do{switch(d.tag){case 3:d=d.stateNode.context;break e;case 1:if(Zf(d.type)){d=d.stateNode.__reactInternalMemoizedMergedChildContext;break e}}d=d.return}while(d!==null);throw Error(p(171))}if(c.tag===1){var b=c.type;if(Zf(b))return bg(c,b,d)}return d}function fl(c,d,b,j,_e,nt,rt,st,it){return c=cl(b,j,!0,c,_e,nt,rt,st,it),c.context=el(null),b=c.current,j=L(),_e=lh(b),nt=ch(j,_e),nt.callback=d??null,dh(b,nt,_e),c.current.lanes=_e,Ac(c,_e,j),Ek(c,j),c}function gl(c,d,b,j){var _e=d.current,nt=L(),rt=lh(_e);return b=el(b),d.context===null?d.context=b:d.pendingContext=b,d=ch(nt,rt),d.payload={element:c},j=j===void 0?null:j,j!==null&&(d.callback=j),c=dh(_e,d,rt),c!==null&&(mh(c,_e,rt,nt),eh(c,_e,rt)),rt}function hl(c){if(c=c.current,!c.child)return null;switch(c.child.tag){case 5:return c.child.stateNode;default:return c.child.stateNode}}function il(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var b=c.retryLane;c.retryLane=b!==0&&b<d?b:d}}function jl(c,d){il(c,d),(c=c.alternate)&&il(c,d)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(c){console.error(c)};function ml(c){this._internalRoot=c}nl.prototype.render=ml.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(p(409));gl(c,d,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;Sk(function(){gl(null,c,null,null)}),d[uf]=null}};function nl(c){this._internalRoot=c}nl.prototype.unstable_scheduleHydration=function(c){if(c){var d=Hc();c={blockedOn:null,target:c,priority:d};for(var b=0;b<Qc.length&&d!==0&&d<Qc[b].priority;b++);Qc.splice(b,0,c),b===0&&Vc(c)}};function ol(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function pl(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11&&(c.nodeType!==8||c.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(c,d,b,j,_e){if(_e){if(typeof j=="function"){var nt=j;j=function(){var ct=hl(rt);nt.call(ct)}}var rt=fl(d,j,c,0,null,!1,!1,"",ql);return c._reactRootContainer=rt,c[uf]=rt.current,sf(c.nodeType===8?c.parentNode:c),Sk(),rt}for(;_e=c.lastChild;)c.removeChild(_e);if(typeof j=="function"){var st=j;j=function(){var ct=hl(it);st.call(ct)}}var it=cl(c,0,!1,null,null,!1,!1,"",ql);return c._reactRootContainer=it,c[uf]=it.current,sf(c.nodeType===8?c.parentNode:c),Sk(function(){gl(d,it,b,j)}),it}function sl(c,d,b,j,_e){var nt=b._reactRootContainer;if(nt){var rt=nt;if(typeof _e=="function"){var st=_e;_e=function(){var it=hl(rt);st.call(it)}}gl(d,rt,c,_e)}else rt=rl(b,d,c,_e,j);return hl(rt)}Ec=function(c){switch(c.tag){case 3:var d=c.stateNode;if(d.current.memoizedState.isDehydrated){var b=tc(d.pendingLanes);b!==0&&(Cc(d,b|1),Ek(d,B()),!(K&6)&&(Hj=B()+500,jg()))}break;case 13:Sk(function(){var j=Zg(c,1);if(j!==null){var _e=L();mh(j,c,1,_e)}}),jl(c,1)}};Fc=function(c){if(c.tag===13){var d=Zg(c,134217728);if(d!==null){var b=L();mh(d,c,134217728,b)}jl(c,134217728)}};Gc=function(c){if(c.tag===13){var d=lh(c),b=Zg(c,d);if(b!==null){var j=L();mh(b,c,d,j)}jl(c,d)}};Hc=function(){return C};Ic=function(c,d){var b=C;try{return C=c,d()}finally{C=b}};yb=function(c,d,b){switch(d){case"input":if(bb(c,b),d=b.name,b.type==="radio"&&d!=null){for(b=c;b.parentNode;)b=b.parentNode;for(b=b.querySelectorAll("input[name="+JSON.stringify(""+d)+'][type="radio"]'),d=0;d<b.length;d++){var j=b[d];if(j!==c&&j.form===c.form){var _e=Db(j);if(!_e)throw Error(p(90));Wa(j),bb(j,_e)}}}break;case"textarea":ib(c,b);break;case"select":d=b.value,d!=null&&fb(c,!!b.multiple,d,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(c){return c=Zb(c),c===null?null:c.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(c,d){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(d))throw Error(p(200));return dl(c,d,null,b)};reactDom_production_min.createRoot=function(c,d){if(!ol(c))throw Error(p(299));var b=!1,j="",_e=ll;return d!=null&&(d.unstable_strictMode===!0&&(b=!0),d.identifierPrefix!==void 0&&(j=d.identifierPrefix),d.onRecoverableError!==void 0&&(_e=d.onRecoverableError)),d=cl(c,1,!1,null,null,b,!1,j,_e),c[uf]=d.current,sf(c.nodeType===8?c.parentNode:c),new ml(d)};reactDom_production_min.findDOMNode=function(c){if(c==null)return null;if(c.nodeType===1)return c;var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(p(188)):(c=Object.keys(c).join(","),Error(p(268,c)));return c=Zb(d),c=c===null?null:c.stateNode,c};reactDom_production_min.flushSync=function(c){return Sk(c)};reactDom_production_min.hydrate=function(c,d,b){if(!pl(d))throw Error(p(200));return sl(null,c,d,!0,b)};reactDom_production_min.hydrateRoot=function(c,d,b){if(!ol(c))throw Error(p(405));var j=b!=null&&b.hydratedSources||null,_e=!1,nt="",rt=ll;if(b!=null&&(b.unstable_strictMode===!0&&(_e=!0),b.identifierPrefix!==void 0&&(nt=b.identifierPrefix),b.onRecoverableError!==void 0&&(rt=b.onRecoverableError)),d=fl(d,null,c,1,b??null,_e,!1,nt,rt),c[uf]=d.current,sf(c),j)for(c=0;c<j.length;c++)b=j[c],_e=b._getVersion,_e=_e(b._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[b,_e]:d.mutableSourceEagerHydrationData.push(b,_e);return new nl(d)};reactDom_production_min.render=function(c,d,b){if(!pl(d))throw Error(p(200));return sl(null,c,d,!1,b)};reactDom_production_min.unmountComponentAtNode=function(c){if(!pl(c))throw Error(p(40));return c._reactRootContainer?(Sk(function(){sl(null,null,c,!1,function(){c._reactRootContainer=null,c[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(c,d,b,j){if(!pl(b))throw Error(p(200));if(c==null||c._reactInternals===void 0)throw Error(p(38));return sl(c,d,b,!1,j)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(c){function d(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(d)}catch(b){console.error(b)}}d(),c.exports=reactDom_production_min})(reactDom);var m=reactDomExports;client.createRoot=m.createRoot,client.hydrateRoot=m.hydrateRoot;const Pdf_Upload=c=>{const{setPDF:d,setValid:b}=c,j=reactExports.useRef(null);return jsxs("div",{className:"flex flex-col bg-gray-900 border-black border-4 h-32 w-80 p-4 mx-auto absolute top-1/2 -translate-y-1/2 left-1/2 -translate-x-1/2 text-white gap-2 items-start",children:[jsx("label",{htmlFor:"upload",children:"Open a PDF File:"}),jsx("input",{ref:j,type:"file",accept:".pdf",name:"upload"}),jsx("button",{type:"submit",onClick:nt=>{nt.preventDefault();const st=j.current.files;st?st.length>1?(alert("Only select one file"),b(!1)):(st[0],d(st[0]),b(!0)):(alert("No valid files selected"),b(!1))},children:"Upload"})]})};function commonjsRequire(c){throw new Error('Could not dynamically require "'+c+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdfExports={},pdf={get exports(){return pdfExports},set exports(c){pdfExports=c}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$5=getAugmentedNamespace(__viteBrowserExternal$1);(function(module,exports){(function(d,b){module.exports=b()})(globalThis,()=>(()=>{var __webpack_modules__=[,(c,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.VerbosityLevel=d.Util=d.UnknownErrorException=d.UnexpectedResponseException=d.UNSUPPORTED_FEATURES=d.TextRenderingMode=d.StreamType=d.RenderingIntentFlag=d.PermissionFlag=d.PasswordResponses=d.PasswordException=d.PageActionEventType=d.OPS=d.MissingPDFException=d.LINE_FACTOR=d.LINE_DESCENT_FACTOR=d.InvalidPDFException=d.ImageKind=d.IDENTITY_MATRIX=d.FormatError=d.FontType=d.FeatureTest=d.FONT_IDENTITY_MATRIX=d.DocumentActionEventType=d.CMapCompressionType=d.BaseException=d.AnnotationType=d.AnnotationStateModelType=d.AnnotationReviewState=d.AnnotationReplyType=d.AnnotationMode=d.AnnotationMarkedState=d.AnnotationFlag=d.AnnotationFieldFlag=d.AnnotationEditorType=d.AnnotationEditorPrefix=d.AnnotationEditorParamsType=d.AnnotationBorderStyleType=d.AnnotationActionEventType=d.AbortException=void 0,d.arrayByteLength=mn,d.arraysToBytes=En,d.assert=xt,d.bytesToString=zt,d.createPromiseCapability=Cn,d.createValidAbsoluteUrl=jt,d.escapeString=Yn,d.getModificationDate=kn,d.getVerbosityLevel=tn,d.info=hn,d.isArrayBuffer=ho,d.isArrayEqual=tr,d.isAscii=bo,d.objectFromMap=pn,d.objectSize=vn,d.setVerbosityLevel=Kt,d.shadow=Gt,d.string32=un,d.stringToBytes=Zt,d.stringToPDFString=Vn,d.stringToUTF16BEString=no,d.stringToUTF8String=sr,d.unreachable=Wt,d.utf8StringToString=$n,d.warn=fn,b(2);const j=[1,0,0,1,0,0];d.IDENTITY_MATRIX=j;const _e=[.001,0,0,.001,0,0];d.FONT_IDENTITY_MATRIX=_e;const nt=1.35;d.LINE_FACTOR=nt;const rt=.35;d.LINE_DESCENT_FACTOR=rt;const st={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};d.RenderingIntentFlag=st;const it={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};d.AnnotationMode=it;const ct="pdfjs_internal_editor_";d.AnnotationEditorPrefix=ct;const gt={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};d.AnnotationEditorType=gt;const ft={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};d.AnnotationEditorParamsType=ft;const ht={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};d.PermissionFlag=ht;const bt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};d.TextRenderingMode=bt;const wt={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};d.ImageKind=wt;const lt={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};d.AnnotationType=lt;const _t={MARKED:"Marked",REVIEW:"Review"};d.AnnotationStateModelType=_t;const ut={MARKED:"Marked",UNMARKED:"Unmarked"};d.AnnotationMarkedState=ut;const kt={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};d.AnnotationReviewState=kt;const pt={GROUP:"Group",REPLY:"R"};d.AnnotationReplyType=pt;const mt={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};d.AnnotationFlag=mt;const Pt={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};d.AnnotationFieldFlag=Pt;const It={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};d.AnnotationBorderStyleType=It;const Ot={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};d.AnnotationActionEventType=Ot;const at={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};d.DocumentActionEventType=at;const yt={O:"PageOpen",C:"PageClose"};d.PageActionEventType=yt;const Ct={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};d.StreamType=Ct;const Bt={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};d.FontType=Bt;const Vt={ERRORS:0,WARNINGS:1,INFOS:5};d.VerbosityLevel=Vt;const en={NONE:0,BINARY:1,STREAM:2};d.CMapCompressionType=en;const Xt={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};d.OPS=Xt;const dn={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};d.UNSUPPORTED_FEATURES=dn;const an={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};d.PasswordResponses=an;let Jt=Vt.WARNINGS;function Kt(ln){Number.isInteger(ln)&&(Jt=ln)}function tn(){return Jt}function hn(ln){Jt>=Vt.INFOS&&console.log(`Info: ${ln}`)}function fn(ln){Jt>=Vt.WARNINGS&&console.log(`Warning: ${ln}`)}function Wt(ln){throw new Error(ln)}function xt(ln,nn){ln||Wt(nn)}function Et(ln){if(!ln)return!1;switch(ln.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function jt(ln,nn=null,on=null){if(!ln)return null;try{if(on&&typeof ln=="string"){if(on.addDefaultProtocol&&ln.startsWith("www.")){const Mn=ln.match(/\./g);Mn&&Mn.length>=2&&(ln=`http://${ln}`)}if(on.tryConvertEncoding)try{ln=sr(ln)}catch{}}const Dn=nn?new URL(ln,nn):new URL(ln);if(Et(Dn))return Dn}catch{}return null}function Gt(ln,nn,on){return Object.defineProperty(ln,nn,{value:on,enumerable:!0,configurable:!0,writable:!1}),on}const Ht=function(){function nn(on,Dn){this.constructor===nn&&Wt("Cannot initialize BaseException."),this.message=on,this.name=Dn}return nn.prototype=new Error,nn.constructor=nn,nn}();d.BaseException=Ht;class qt extends Ht{constructor(nn,on){super(nn,"PasswordException"),this.code=on}}d.PasswordException=qt;class rn extends Ht{constructor(nn,on){super(nn,"UnknownErrorException"),this.details=on}}d.UnknownErrorException=rn;class sn extends Ht{constructor(nn){super(nn,"InvalidPDFException")}}d.InvalidPDFException=sn;class vt extends Ht{constructor(nn){super(nn,"MissingPDFException")}}d.MissingPDFException=vt;class Tt extends Ht{constructor(nn,on){super(nn,"UnexpectedResponseException"),this.status=on}}d.UnexpectedResponseException=Tt;class Nt extends Ht{constructor(nn){super(nn,"FormatError")}}d.FormatError=Nt;class Lt extends Ht{constructor(nn){super(nn,"AbortException")}}d.AbortException=Lt;function zt(ln){(typeof ln!="object"||ln===null||ln.length===void 0)&&Wt("Invalid argument for bytesToString");const nn=ln.length,on=8192;if(nn<on)return String.fromCharCode.apply(null,ln);const Dn=[];for(let Mn=0;Mn<nn;Mn+=on){const Bn=Math.min(Mn+on,nn),zn=ln.subarray(Mn,Bn);Dn.push(String.fromCharCode.apply(null,zn))}return Dn.join("")}function Zt(ln){typeof ln!="string"&&Wt("Invalid argument for stringToBytes");const nn=ln.length,on=new Uint8Array(nn);for(let Dn=0;Dn<nn;++Dn)on[Dn]=ln.charCodeAt(Dn)&255;return on}function mn(ln){if(ln.length!==void 0)return ln.length;if(ln.byteLength!==void 0)return ln.byteLength;Wt("Invalid argument for arrayByteLength")}function En(ln){const nn=ln.length;if(nn===1&&ln[0]instanceof Uint8Array)return ln[0];let on=0;for(let Bn=0;Bn<nn;Bn++)on+=mn(ln[Bn]);let Dn=0;const Mn=new Uint8Array(on);for(let Bn=0;Bn<nn;Bn++){let zn=ln[Bn];zn instanceof Uint8Array||(typeof zn=="string"?zn=Zt(zn):zn=new Uint8Array(zn));const Qn=zn.byteLength;Mn.set(zn,Dn),Dn+=Qn}return Mn}function un(ln){return String.fromCharCode(ln>>24&255,ln>>16&255,ln>>8&255,ln&255)}function vn(ln){return Object.keys(ln).length}function pn(ln){const nn=Object.create(null);for(const[on,Dn]of ln)nn[on]=Dn;return nn}function _n(){const ln=new Uint8Array(4);return ln[0]=1,new Uint32Array(ln.buffer,0,1)[0]===1}function yn(){try{return new Function(""),!0}catch{return!1}}class $t{static get isLittleEndian(){return Gt(this,"isLittleEndian",_n())}static get isEvalSupported(){return Gt(this,"isEvalSupported",yn())}static get isOffscreenCanvasSupported(){return Gt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}d.FeatureTest=$t;const xn=[...Array(256).keys()].map(ln=>ln.toString(16).padStart(2,"0"));class On{static makeHexColor(nn,on,Dn){return`#${xn[nn]}${xn[on]}${xn[Dn]}`}static scaleMinMax(nn,on){let Dn;nn[0]?(nn[0]<0&&(Dn=on[0],on[0]=on[1],on[1]=Dn),on[0]*=nn[0],on[1]*=nn[0],nn[3]<0&&(Dn=on[2],on[2]=on[3],on[3]=Dn),on[2]*=nn[3],on[3]*=nn[3]):(Dn=on[0],on[0]=on[2],on[2]=Dn,Dn=on[1],on[1]=on[3],on[3]=Dn,nn[1]<0&&(Dn=on[2],on[2]=on[3],on[3]=Dn),on[2]*=nn[1],on[3]*=nn[1],nn[2]<0&&(Dn=on[0],on[0]=on[1],on[1]=Dn),on[0]*=nn[2],on[1]*=nn[2]),on[0]+=nn[4],on[1]+=nn[4],on[2]+=nn[5],on[3]+=nn[5]}static transform(nn,on){return[nn[0]*on[0]+nn[2]*on[1],nn[1]*on[0]+nn[3]*on[1],nn[0]*on[2]+nn[2]*on[3],nn[1]*on[2]+nn[3]*on[3],nn[0]*on[4]+nn[2]*on[5]+nn[4],nn[1]*on[4]+nn[3]*on[5]+nn[5]]}static applyTransform(nn,on){const Dn=nn[0]*on[0]+nn[1]*on[2]+on[4],Mn=nn[0]*on[1]+nn[1]*on[3]+on[5];return[Dn,Mn]}static applyInverseTransform(nn,on){const Dn=on[0]*on[3]-on[1]*on[2],Mn=(nn[0]*on[3]-nn[1]*on[2]+on[2]*on[5]-on[4]*on[3])/Dn,Bn=(-nn[0]*on[1]+nn[1]*on[0]+on[4]*on[1]-on[5]*on[0])/Dn;return[Mn,Bn]}static getAxialAlignedBoundingBox(nn,on){const Dn=On.applyTransform(nn,on),Mn=On.applyTransform(nn.slice(2,4),on),Bn=On.applyTransform([nn[0],nn[3]],on),zn=On.applyTransform([nn[2],nn[1]],on);return[Math.min(Dn[0],Mn[0],Bn[0],zn[0]),Math.min(Dn[1],Mn[1],Bn[1],zn[1]),Math.max(Dn[0],Mn[0],Bn[0],zn[0]),Math.max(Dn[1],Mn[1],Bn[1],zn[1])]}static inverseTransform(nn){const on=nn[0]*nn[3]-nn[1]*nn[2];return[nn[3]/on,-nn[1]/on,-nn[2]/on,nn[0]/on,(nn[2]*nn[5]-nn[4]*nn[3])/on,(nn[4]*nn[1]-nn[5]*nn[0])/on]}static apply3dTransform(nn,on){return[nn[0]*on[0]+nn[1]*on[1]+nn[2]*on[2],nn[3]*on[0]+nn[4]*on[1]+nn[5]*on[2],nn[6]*on[0]+nn[7]*on[1]+nn[8]*on[2]]}static singularValueDecompose2dScale(nn){const on=[nn[0],nn[2],nn[1],nn[3]],Dn=nn[0]*on[0]+nn[1]*on[2],Mn=nn[0]*on[1]+nn[1]*on[3],Bn=nn[2]*on[0]+nn[3]*on[2],zn=nn[2]*on[1]+nn[3]*on[3],Qn=(Dn+zn)/2,yo=Math.sqrt((Dn+zn)**2-4*(Dn*zn-Bn*Mn))/2,to=Qn+yo||1,jn=Qn-yo||1;return[Math.sqrt(to),Math.sqrt(jn)]}static normalizeRect(nn){const on=nn.slice(0);return nn[0]>nn[2]&&(on[0]=nn[2],on[2]=nn[0]),nn[1]>nn[3]&&(on[1]=nn[3],on[3]=nn[1]),on}static intersect(nn,on){const Dn=Math.max(Math.min(nn[0],nn[2]),Math.min(on[0],on[2])),Mn=Math.min(Math.max(nn[0],nn[2]),Math.max(on[0],on[2]));if(Dn>Mn)return null;const Bn=Math.max(Math.min(nn[1],nn[3]),Math.min(on[1],on[3])),zn=Math.min(Math.max(nn[1],nn[3]),Math.max(on[1],on[3]));return Bn>zn?null:[Dn,Bn,Mn,zn]}static bezierBoundingBox(nn,on,Dn,Mn,Bn,zn,Qn,yo){const to=[],jn=[[],[]];let So,po,Io,Xn,To,Zo,qo,ar;for(let yr=0;yr<2;++yr){if(yr===0?(po=6*nn-12*Dn+6*Bn,So=-3*nn+9*Dn-9*Bn+3*Qn,Io=3*Dn-3*nn):(po=6*on-12*Mn+6*zn,So=-3*on+9*Mn-9*zn+3*yo,Io=3*Mn-3*on),Math.abs(So)<1e-12){if(Math.abs(po)<1e-12)continue;Xn=-Io/po,0<Xn&&Xn<1&&to.push(Xn);continue}qo=po*po-4*Io*So,ar=Math.sqrt(qo),!(qo<0)&&(To=(-po+ar)/(2*So),0<To&&To<1&&to.push(To),Zo=(-po-ar)/(2*So),0<Zo&&Zo<1&&to.push(Zo))}let zo=to.length,_o;const Qo=zo;for(;zo--;)Xn=to[zo],_o=1-Xn,jn[0][zo]=_o*_o*_o*nn+3*_o*_o*Xn*Dn+3*_o*Xn*Xn*Bn+Xn*Xn*Xn*Qn,jn[1][zo]=_o*_o*_o*on+3*_o*_o*Xn*Mn+3*_o*Xn*Xn*zn+Xn*Xn*Xn*yo;return jn[0][Qo]=nn,jn[1][Qo]=on,jn[0][Qo+1]=Qn,jn[1][Qo+1]=yo,jn[0].length=jn[1].length=Qo+2,[Math.min(...jn[0]),Math.min(...jn[1]),Math.max(...jn[0]),Math.max(...jn[1])]}}d.Util=On;const Ln=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Vn(ln){if(ln[0]>=""){let on;if(ln[0]===""&&ln[1]===""?on="utf-16be":ln[0]===""&&ln[1]===""?on="utf-16le":ln[0]===""&&ln[1]===""&&ln[2]===""&&(on="utf-8"),on)try{const Dn=new TextDecoder(on,{fatal:!0}),Mn=Zt(ln);return Dn.decode(Mn)}catch(Dn){fn(`stringToPDFString: "${Dn}".`)}}const nn=[];for(let on=0,Dn=ln.length;on<Dn;on++){const Mn=Ln[ln.charCodeAt(on)];nn.push(Mn?String.fromCharCode(Mn):ln.charAt(on))}return nn.join("")}function Yn(ln){return ln.replace(/([()\\\n\r])/g,nn=>nn===`
`?"\\n":nn==="\r"?"\\r":`\\${nn}`)}function bo(ln){return/^[\x00-\x7F]*$/.test(ln)}function no(ln){const nn=[""];for(let on=0,Dn=ln.length;on<Dn;on++){const Mn=ln.charCodeAt(on);nn.push(String.fromCharCode(Mn>>8&255),String.fromCharCode(Mn&255))}return nn.join("")}function sr(ln){return decodeURIComponent(escape(ln))}function $n(ln){return unescape(encodeURIComponent(ln))}function ho(ln){return typeof ln=="object"&&ln!==null&&ln.byteLength!==void 0}function tr(ln,nn){if(ln.length!==nn.length)return!1;for(let on=0,Dn=ln.length;on<Dn;on++)if(ln[on]!==nn[on])return!1;return!0}function kn(ln=new Date){return[ln.getUTCFullYear().toString(),(ln.getUTCMonth()+1).toString().padStart(2,"0"),ln.getUTCDate().toString().padStart(2,"0"),ln.getUTCHours().toString().padStart(2,"0"),ln.getUTCMinutes().toString().padStart(2,"0"),ln.getUTCSeconds().toString().padStart(2,"0")].join("")}function Cn(){const ln=Object.create(null);let nn=!1;return Object.defineProperty(ln,"settled",{get(){return nn}}),ln.promise=new Promise(function(on,Dn){ln.resolve=function(Mn){nn=!0,on(Mn)},ln.reject=function(Mn){nn=!0,Dn(Mn)}}),ln}},(c,d,b)=>{b(3)},(c,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.isNodeJS=void 0;const b=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");d.isNodeJS=b},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var c,b,j,_e,nt,rt,st,it,ct,a_,ft,ht;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:wt,NodeCMapReaderFactory:lt,NodeStandardFontDataFactory:_t}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=wt,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=lt,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=_t}let createPDFNetworkStream;function setPDFNetworkStreamFactory(wt){createPDFNetworkStream=wt}function getDocument(wt){const lt=new PDFDocumentLoadingTask;let _t;if(typeof wt=="string"||wt instanceof URL)_t={url:wt};else if((0,_util.isArrayBuffer)(wt))_t={data:wt};else if(wt instanceof PDFDataRangeTransport)_t={range:wt};else{if(typeof wt!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!wt.url&&!wt.data&&!wt.range)throw new Error("Invalid parameter object: need either .data, .range or .url");_t=wt}const ut=Object.create(null);let kt=null,pt=null;for(const Pt in _t){const It=_t[Pt];switch(Pt){case"url":if(typeof window<"u")try{ut[Pt]=new URL(It,window.location).href;continue}catch(Ot){(0,_util.warn)(`Cannot create valid URL: "${Ot}".`)}else if(typeof It=="string"||It instanceof URL){ut[Pt]=It.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":kt=It;continue;case"worker":pt=It;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&It instanceof Buffer)ut[Pt]=new Uint8Array(It);else{if(It instanceof Uint8Array)break;if(typeof It=="string")ut[Pt]=(0,_util.stringToBytes)(It);else if(typeof It=="object"&&It!==null&&!isNaN(It.length))ut[Pt]=new Uint8Array(It);else if((0,_util.isArrayBuffer)(It))ut[Pt]=new Uint8Array(It);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}ut[Pt]=It}if(ut.CMapReaderFactory=ut.CMapReaderFactory||DefaultCMapReaderFactory,ut.StandardFontDataFactory=ut.StandardFontDataFactory||DefaultStandardFontDataFactory,ut.ignoreErrors=ut.stopAtErrors!==!0,ut.fontExtraProperties=ut.fontExtraProperties===!0,ut.pdfBug=ut.pdfBug===!0,ut.enableXfa=ut.enableXfa===!0,(!Number.isInteger(ut.rangeChunkSize)||ut.rangeChunkSize<1)&&(ut.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof ut.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(ut.docBaseUrl))&&(ut.docBaseUrl=null),(!Number.isInteger(ut.maxImageSize)||ut.maxImageSize<-1)&&(ut.maxImageSize=-1),typeof ut.cMapUrl!="string"&&(ut.cMapUrl=null),typeof ut.standardFontDataUrl!="string"&&(ut.standardFontDataUrl=null),typeof ut.useWorkerFetch!="boolean"&&(ut.useWorkerFetch=ut.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&ut.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof ut.isEvalSupported!="boolean"&&(ut.isEvalSupported=!0),typeof ut.disableFontFace!="boolean"&&(ut.disableFontFace=_is_node.isNodeJS),typeof ut.useSystemFonts!="boolean"&&(ut.useSystemFonts=!_is_node.isNodeJS&&!ut.disableFontFace),(typeof ut.ownerDocument!="object"||ut.ownerDocument===null)&&(ut.ownerDocument=globalThis.document),typeof ut.disableRange!="boolean"&&(ut.disableRange=!1),typeof ut.disableStream!="boolean"&&(ut.disableStream=!1),typeof ut.disableAutoFetch!="boolean"&&(ut.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(ut.verbosity),!pt){const Pt={verbosity:ut.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};pt=Pt.port?PDFWorker.fromPort(Pt):new PDFWorker(Pt),lt._worker=pt}const mt=lt.docId;return pt.promise.then(function(){if(lt.destroyed)throw new Error("Loading aborted");const Pt=_fetchDocument(pt,ut,kt,mt),It=new Promise(function(Ot){let at;kt?at=new _transport_stream.PDFDataTransportStream({length:ut.length,initialData:ut.initialData,progressiveDone:ut.progressiveDone,contentDispositionFilename:ut.contentDispositionFilename,disableRange:ut.disableRange,disableStream:ut.disableStream},kt):ut.data||(at=createPDFNetworkStream({url:ut.url,length:ut.length,httpHeaders:ut.httpHeaders,withCredentials:ut.withCredentials,rangeChunkSize:ut.rangeChunkSize,disableRange:ut.disableRange,disableStream:ut.disableStream})),Ot(at)});return Promise.all([Pt,It]).then(function([Ot,at]){if(lt.destroyed)throw new Error("Loading aborted");const yt=new _message_handler.MessageHandler(mt,Ot,pt.port),Ct=new WorkerTransport(yt,lt,at,ut);lt._transport=Ct,yt.send("Ready",null)})}).catch(lt._capability.reject),lt}async function _fetchDocument(wt,lt,_t,ut){if(wt.destroyed)throw new Error("Worker was destroyed");_t&&(lt.length=_t.length,lt.initialData=_t.initialData,lt.progressiveDone=_t.progressiveDone,lt.contentDispositionFilename=_t.contentDispositionFilename);const kt=await wt.messageHandler.sendWithPromise("GetDocRequest",{docId:ut,apiVersion:"2.16.105",source:{data:lt.data,url:lt.url,password:lt.password,disableAutoFetch:lt.disableAutoFetch,rangeChunkSize:lt.rangeChunkSize,length:lt.length},maxImageSize:lt.maxImageSize,disableFontFace:lt.disableFontFace,docBaseUrl:lt.docBaseUrl,ignoreErrors:lt.ignoreErrors,isEvalSupported:lt.isEvalSupported,fontExtraProperties:lt.fontExtraProperties,enableXfa:lt.enableXfa,useSystemFonts:lt.useSystemFonts,cMapUrl:lt.useWorkerFetch?lt.cMapUrl:null,standardFontDataUrl:lt.useWorkerFetch?lt.standardFontDataUrl:null});if(lt.data&&(lt.data=null),wt.destroyed)throw new Error("Worker was destroyed");return kt}const d=class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${s_(d,c)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){var lt;this.destroyed=!0,await((lt=this._transport)==null?void 0:lt.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=d;c=new WeakMap,An(PDFDocumentLoadingTask,c,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(lt,_t,ut=!1,kt=null){this.length=lt,this.initialData=_t,this.progressiveDone=ut,this.contentDispositionFilename=kt,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(lt){this._rangeListeners.push(lt)}addProgressListener(lt){this._progressListeners.push(lt)}addProgressiveReadListener(lt){this._progressiveReadListeners.push(lt)}addProgressiveDoneListener(lt){this._progressiveDoneListeners.push(lt)}onDataRange(lt,_t){for(const ut of this._rangeListeners)ut(lt,_t)}onDataProgress(lt,_t){this._readyCapability.promise.then(()=>{for(const ut of this._progressListeners)ut(lt,_t)})}onDataProgressiveRead(lt){this._readyCapability.promise.then(()=>{for(const _t of this._progressiveReadListeners)_t(lt)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const lt of this._progressiveDoneListeners)lt()})}transportReady(){this._readyCapability.resolve()}requestDataRange(lt,_t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(lt,_t){this._pdfInfo=lt,this._transport=_t,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(lt){return this._transport.getPage(lt)}getPageIndex(lt){return this._transport.getPageIndex(lt)}getDestinations(){return this._transport.getDestinations()}getDestination(lt){return this._transport.getDestination(lt)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(lt=!1){return this._transport.startCleanup(lt||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(lt,_t,ut,kt,pt=!1){this._pageIndex=lt,this._pageInfo=_t,this._ownerDocument=kt,this._transport=ut,this._stats=pt?new _display_utils.StatTimer:null,this._pdfBug=pt,this.commonObjs=ut.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:lt,rotation:_t=this.rotate,offsetX:ut=0,offsetY:kt=0,dontFlip:pt=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:lt,rotation:_t,offsetX:ut,offsetY:kt,dontFlip:pt})}getAnnotations({intent:lt="display"}={}){const _t=this._transport.getRenderingIntent(lt);let ut=this._annotationPromises.get(_t.cacheKey);return ut||(ut=this._transport.getAnnotations(this._pageIndex,_t.renderingIntent),this._annotationPromises.set(_t.cacheKey,ut),ut=ut.then(kt=>{for(const pt of kt)pt.titleObj!==void 0&&Object.defineProperty(pt,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),pt.titleObj.str}}),pt.contentsObj!==void 0&&Object.defineProperty(pt,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),pt.contentsObj.str}});return kt})),ut}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}async getXfa(){var lt;return((lt=this._transport._htmlForXfa)==null?void 0:lt.children[this._pageIndex])||null}render({canvasContext:lt,viewport:_t,intent:ut="display",annotationMode:kt=_util.AnnotationMode.ENABLE,transform:pt=null,imageLayer:mt=null,canvasFactory:Pt=null,background:It=null,optionalContentConfigPromise:Ot=null,annotationCanvasMap:at=null,pageColors:yt=null,printAnnotationStorage:Ct=null}){var Kt,tn;((Kt=arguments[0])==null?void 0:Kt.renderInteractiveForms)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&kt===_util.AnnotationMode.ENABLE&&(kt=_util.AnnotationMode.ENABLE_FORMS)),((tn=arguments[0])==null?void 0:tn.includeAnnotationStorage)!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&kt===_util.AnnotationMode.ENABLE&&(kt=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const Bt=this._transport.getRenderingIntent(ut,kt,Ct);this.pendingCleanup=!1,Ot||(Ot=this._transport.getOptionalContentConfig());let Vt=this._intentStates.get(Bt.cacheKey);Vt||(Vt=Object.create(null),this._intentStates.set(Bt.cacheKey,Vt)),Vt.streamReaderCancelTimeout&&(clearTimeout(Vt.streamReaderCancelTimeout),Vt.streamReaderCancelTimeout=null);const en=Pt||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),Xt=!!(Bt.renderingIntent&_util.RenderingIntentFlag.PRINT);Vt.displayReadyCapability||(Vt.displayReadyCapability=(0,_util.createPromiseCapability)(),Vt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(Bt));const dn=hn=>{Vt.renderTasks.delete(an),(this.cleanupAfterRender||Xt)&&(this.pendingCleanup=!0),this._tryCleanup(),hn?(an.capability.reject(hn),this._abortOperatorList({intentState:Vt,reason:hn instanceof Error?hn:new Error(hn)})):an.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},an=new InternalRenderTask({callback:dn,params:{canvasContext:lt,viewport:_t,transform:pt,imageLayer:mt,background:It},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:at,operatorList:Vt.operatorList,pageIndex:this._pageIndex,canvasFactory:en,useRequestAnimationFrame:!Xt,pdfBug:this._pdfBug,pageColors:yt});(Vt.renderTasks||(Vt.renderTasks=new Set)).add(an);const Jt=an.task;return Promise.all([Vt.displayReadyCapability.promise,Ot]).then(([hn,fn])=>{if(this.pendingCleanup){dn();return}this._stats&&this._stats.time("Rendering"),an.initializeGraphics({transparency:hn,optionalContentConfig:fn}),an.operatorListChanged()}).catch(dn),Jt}getOperatorList({intent:lt="display",annotationMode:_t=_util.AnnotationMode.ENABLE,printAnnotationStorage:ut=null}={}){function kt(){mt.operatorList.lastChunk&&(mt.opListReadCapability.resolve(mt.operatorList),mt.renderTasks.delete(Pt))}const pt=this._transport.getRenderingIntent(lt,_t,ut,!0);let mt=this._intentStates.get(pt.cacheKey);mt||(mt=Object.create(null),this._intentStates.set(pt.cacheKey,mt));let Pt;return mt.opListReadCapability||(Pt=Object.create(null),Pt.operatorListChanged=kt,mt.opListReadCapability=(0,_util.createPromiseCapability)(),(mt.renderTasks||(mt.renderTasks=new Set)).add(Pt),mt.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(pt)),mt.opListReadCapability.promise}streamTextContent({disableCombineTextItems:lt=!1,includeMarkedContent:_t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:lt!==!0,includeMarkedContent:_t===!0},{highWaterMark:100,size(kt){return kt.items.length}})}getTextContent(lt={}){if(this._transport._htmlForXfa)return this.getXfa().then(ut=>_xfa_text.XfaText.textContent(ut));const _t=this.streamTextContent(lt);return new Promise(function(ut,kt){function pt(){mt.read().then(function({value:It,done:Ot}){if(Ot){ut(Pt);return}Object.assign(Pt.styles,It.styles),Pt.items.push(...It.items),pt()},kt)}const mt=_t.getReader(),Pt={items:[],styles:Object.create(null)};pt()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const lt=[];for(const _t of this._intentStates.values())if(this._abortOperatorList({intentState:_t,reason:new Error("Page was destroyed."),force:!0}),!_t.opListReadCapability)for(const ut of _t.renderTasks)lt.push(ut.completed),ut.cancel();this.objs.clear();for(const _t of this._bitmaps)_t.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(lt)}cleanup(lt=!1){return this.pendingCleanup=!0,this._tryCleanup(lt)}_tryCleanup(lt=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:_t,operatorList:ut}of this._intentStates.values())if(_t.size>0||!ut.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,lt&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const _t of this._bitmaps)_t.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(lt,_t){const ut=this._intentStates.get(_t);ut&&(this._stats&&this._stats.timeEnd("Page Request"),ut.displayReadyCapability&&ut.displayReadyCapability.resolve(lt))}_renderPageChunk(lt,_t){for(let ut=0,kt=lt.length;ut<kt;ut++)_t.operatorList.fnArray.push(lt.fnArray[ut]),_t.operatorList.argsArray.push(lt.argsArray[ut]);_t.operatorList.lastChunk=lt.lastChunk,_t.operatorList.separateAnnots=lt.separateAnnots;for(const ut of _t.renderTasks)ut.operatorListChanged();lt.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:lt,cacheKey:_t,annotationStorageMap:ut}){const pt=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:lt,cacheKey:_t,annotationStorage:ut}).getReader(),mt=this._intentStates.get(_t);mt.streamReader=pt;const Pt=()=>{pt.read().then(({value:It,done:Ot})=>{if(Ot){mt.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(It,mt),Pt())},It=>{if(mt.streamReader=null,!this._transport.destroyed){if(mt.operatorList){mt.operatorList.lastChunk=!0;for(const Ot of mt.renderTasks)Ot.operatorListChanged();this._tryCleanup()}if(mt.displayReadyCapability)mt.displayReadyCapability.reject(It);else if(mt.opListReadCapability)mt.opListReadCapability.reject(It);else throw It}})};Pt()}_abortOperatorList({intentState:lt,reason:_t,force:ut=!1}){if(lt.streamReader){if(!ut){if(lt.renderTasks.size>0)return;if(_t instanceof _display_utils.RenderingCancelledException){lt.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:lt,reason:_t,force:!0}),lt.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(lt.streamReader.cancel(new _util.AbortException(_t.message)).catch(()=>{}),lt.streamReader=null,!this._transport.destroyed){for(const[kt,pt]of this._intentStates)if(pt===lt){this._intentStates.delete(kt);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(lt,_t){const ut={data:structuredClone(lt,_t)};this._deferred.then(()=>{for(const kt of this._listeners)kt.call(this,ut)})}addEventListener(lt,_t){this._listeners.push(_t)}removeEventListener(lt,_t){const ut=this._listeners.indexOf(_t);this._listeners.splice(ut,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const wt=(b=document==null?void 0:document.currentScript)==null?void 0:b.src;wt&&(PDFWorkerUtil.fallbackWorkerSrc=wt.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(wt,lt){let _t;try{if(_t=new URL(wt),!_t.origin||_t.origin==="null")return!1}catch{return!1}const ut=new URL(lt,_t);return _t.origin===ut.origin},PDFWorkerUtil.createCDNWrapper=function(wt){const lt=`importScripts("${wt}");`;return URL.createObjectURL(new Blob([lt]))}}const _PDFWorker=class{constructor({name:wt=null,port:lt=null,verbosity:_t=(0,_util.getVerbosityLevel)()}={}){if(lt&&Ut(_PDFWorker,j).has(lt))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=wt,this.destroyed=!1,this.verbosity=_t,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,lt){Ut(_PDFWorker,j).set(lt,this),this._initializeFromPort(lt);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(wt){this._port=wt,this._messageHandler=new _message_handler.MessageHandler("main","worker",wt),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:wt}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,wt)||(wt=PDFWorkerUtil.createCDNWrapper(new URL(wt,window.location).href));const lt=new Worker(wt),_t=new _message_handler.MessageHandler("main","worker",lt),ut=()=>{lt.removeEventListener("error",kt),_t.destroy(),lt.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},kt=()=>{this._webWorker||ut()};lt.addEventListener("error",kt),_t.on("test",mt=>{if(lt.removeEventListener("error",kt),this.destroyed){ut();return}mt?(this._messageHandler=_t,this._port=lt,this._webWorker=lt,this._readyCapability.resolve(),_t.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),_t.destroy(),lt.terminate())}),_t.on("ready",mt=>{if(lt.removeEventListener("error",kt),this.destroyed){ut();return}try{pt()}catch{this._setupFakeWorker()}});const pt=()=>{const mt=new Uint8Array;_t.send("test",mt,[mt.buffer])};pt();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(wt=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const lt=new LoopbackPort;this._port=lt;const _t=`fake${PDFWorkerUtil.fakeWorkerId++}`,ut=new _message_handler.MessageHandler(_t+"_worker",_t,lt);wt.setup(ut,lt);const kt=new _message_handler.MessageHandler(_t,_t+"_worker",lt);this._messageHandler=kt,this._readyCapability.resolve(),kt.send("configure",{verbosity:this.verbosity})}).catch(wt=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${wt.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),Ut(_PDFWorker,j).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(wt){if(!(wt!=null&&wt.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return Ut(this,j).has(wt.port)?Ut(this,j).get(wt.port):new _PDFWorker(wt)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var wt;try{return((wt=globalThis.pdfjsWorker)==null?void 0:wt.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;j=new WeakMap,An(PDFWorker,j,new WeakMap),exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{constructor(lt,_t,ut,kt){An(this,_e,null);An(this,nt,new Map);An(this,rt,new Map);An(this,st,null);this.messageHandler=lt,this.loadingTask=_t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:_t.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:kt.ownerDocument,styleElement:kt.styleElement}),this._params=kt,kt.useWorkerFetch||(this.CMapReaderFactory=new kt.CMapReaderFactory({baseUrl:kt.cMapUrl,isCompressed:kt.cMapPacked}),this.StandardFontDataFactory=new kt.StandardFontDataFactory({baseUrl:kt.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=ut,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return Ut(this,_e)}getRenderingIntent(lt,_t=_util.AnnotationMode.ENABLE,ut=null,kt=!1){let pt=_util.RenderingIntentFlag.DISPLAY,mt=null;switch(lt){case"any":pt=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":pt=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${lt}`)}switch(_t){case _util.AnnotationMode.DISABLE:pt+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:pt+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:pt+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,mt=(pt&_util.RenderingIntentFlag.PRINT&&ut instanceof _annotation_storage.PrintAnnotationStorage?ut:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${_t}`)}return kt&&(pt+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:pt,cacheKey:`${pt}_${_annotation_storage.AnnotationStorage.getHash(mt)}`,annotationStorageMap:mt}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const lt=[];for(const ut of Ut(this,nt).values())lt.push(ut._destroy());Ut(this,nt).clear(),Ut(this,rt).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const _t=this.messageHandler.sendWithPromise("Terminate",null);return lt.push(_t),Promise.all(lt).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),Nn(this,st,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:lt,loadingTask:_t}=this;lt.on("GetReader",(ut,kt)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=pt=>{this._lastProgress={loaded:pt.loaded,total:pt.total}},kt.onPull=()=>{this._fullReader.read().then(function({value:pt,done:mt}){if(mt){kt.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(pt),"GetReader - expected an ArrayBuffer."),kt.enqueue(new Uint8Array(pt),1,[pt])}).catch(pt=>{kt.error(pt)})},kt.onCancel=pt=>{this._fullReader.cancel(pt),kt.ready.catch(mt=>{if(!this.destroyed)throw mt})}}),lt.on("ReaderHeadersReady",ut=>{const kt=(0,_util.createPromiseCapability)(),pt=this._fullReader;return pt.headersReady.then(()=>{var mt;(!pt.isStreamingSupported||!pt.isRangeSupported)&&(this._lastProgress&&((mt=_t.onProgress)==null||mt.call(_t,this._lastProgress)),pt.onProgress=Pt=>{var It;(It=_t.onProgress)==null||It.call(_t,{loaded:Pt.loaded,total:Pt.total})}),kt.resolve({isStreamingSupported:pt.isStreamingSupported,isRangeSupported:pt.isRangeSupported,contentLength:pt.contentLength})},kt.reject),kt.promise}),lt.on("GetRangeReader",(ut,kt)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const pt=this._networkStream.getRangeReader(ut.begin,ut.end);if(!pt){kt.close();return}kt.onPull=()=>{pt.read().then(function({value:mt,done:Pt}){if(Pt){kt.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(mt),"GetRangeReader - expected an ArrayBuffer."),kt.enqueue(new Uint8Array(mt),1,[mt])}).catch(mt=>{kt.error(mt)})},kt.onCancel=mt=>{pt.cancel(mt),kt.ready.catch(Pt=>{if(!this.destroyed)throw Pt})}}),lt.on("GetDoc",({pdfInfo:ut})=>{this._numPages=ut.numPages,this._htmlForXfa=ut.htmlForXfa,delete ut.htmlForXfa,_t._capability.resolve(new PDFDocumentProxy(ut,this))}),lt.on("DocException",function(ut){let kt;switch(ut.name){case"PasswordException":kt=new _util.PasswordException(ut.message,ut.code);break;case"InvalidPDFException":kt=new _util.InvalidPDFException(ut.message);break;case"MissingPDFException":kt=new _util.MissingPDFException(ut.message);break;case"UnexpectedResponseException":kt=new _util.UnexpectedResponseException(ut.message,ut.status);break;case"UnknownErrorException":kt=new _util.UnknownErrorException(ut.message,ut.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}_t._capability.reject(kt)}),lt.on("PasswordRequest",ut=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),_t.onPassword){const kt=pt=>{pt instanceof Error?this._passwordCapability.reject(pt):this._passwordCapability.resolve({password:pt})};try{_t.onPassword(kt,ut.code)}catch(pt){this._passwordCapability.reject(pt)}}else this._passwordCapability.reject(new _util.PasswordException(ut.message,ut.code));return this._passwordCapability.promise}),lt.on("DataLoaded",ut=>{var kt;(kt=_t.onProgress)==null||kt.call(_t,{loaded:ut.length,total:ut.length}),this.downloadInfoCapability.resolve(ut)}),lt.on("StartRenderPage",ut=>{if(this.destroyed)return;Ut(this,nt).get(ut.pageIndex)._startRenderPage(ut.transparency,ut.cacheKey)}),lt.on("commonobj",([ut,kt,pt])=>{var mt;if(!this.destroyed&&!this.commonObjs.has(ut))switch(kt){case"Font":const Pt=this._params;if("error"in pt){const at=pt.error;(0,_util.warn)(`Error during font loading: ${at}`),this.commonObjs.resolve(ut,at);break}let It=null;Pt.pdfBug&&((mt=globalThis.FontInspector)!=null&&mt.enabled)&&(It={registerFont(at,yt){globalThis.FontInspector.fontAdded(at,yt)}});const Ot=new _font_loader.FontFaceObject(pt,{isEvalSupported:Pt.isEvalSupported,disableFontFace:Pt.disableFontFace,ignoreErrors:Pt.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:It});this.fontLoader.bind(Ot).catch(at=>lt.sendWithPromise("FontFallback",{id:ut})).finally(()=>{!Pt.fontExtraProperties&&Ot.data&&(Ot.data=null),this.commonObjs.resolve(ut,Ot)});break;case"FontPath":case"Image":this.commonObjs.resolve(ut,pt);break;default:throw new Error(`Got unknown common object type ${kt}`)}}),lt.on("obj",([ut,kt,pt,mt])=>{var It;if(this.destroyed)return;const Pt=Ut(this,nt).get(kt);if(!Pt.objs.has(ut))switch(pt){case"Image":Pt.objs.resolve(ut,mt);const Ot=8e6;if(mt){let at;if(mt.bitmap){const{bitmap:yt,width:Ct,height:Bt}=mt;at=Ct*Bt*4,Pt._bitmaps.add(yt)}else at=((It=mt.data)==null?void 0:It.length)||0;at>Ot&&(Pt.cleanupAfterRender=!0)}break;case"Pattern":Pt.objs.resolve(ut,mt);break;default:throw new Error(`Got unknown object type ${pt}`)}}),lt.on("DocProgress",ut=>{var kt;this.destroyed||(kt=_t.onProgress)==null||kt.call(_t,{loaded:ut.loaded,total:ut.total})}),lt.on("DocStats",ut=>{this.destroyed||Nn(this,_e,Object.freeze({streamTypes:Object.freeze(ut.streamTypes),fontTypes:Object.freeze(ut.fontTypes)}))}),lt.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),lt.on("FetchBuiltInCMap",ut=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(ut):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),lt.on("FetchStandardFontData",ut=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(ut):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:lt}){var _t,ut;this.destroyed||(ut=(_t=this.loadingTask).onUnsupportedFeature)==null||ut.call(_t,lt)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(lt){if(!Number.isInteger(lt)||lt<=0||lt>this._numPages)return Promise.reject(new Error("Invalid page request."));const _t=lt-1,ut=Ut(this,rt).get(_t);if(ut)return ut;const kt=this.messageHandler.sendWithPromise("GetPage",{pageIndex:_t}).then(pt=>{if(this.destroyed)throw new Error("Transport destroyed");const mt=new PDFPageProxy(_t,pt,this,this._params.ownerDocument,this._params.pdfBug);return Ut(this,nt).set(_t,mt),mt});return Ut(this,rt).set(_t,kt),kt}getPageIndex(lt){return typeof lt!="object"||lt===null||!Number.isInteger(lt.num)||lt.num<0||!Number.isInteger(lt.gen)||lt.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:lt.num,gen:lt.gen})}getAnnotations(lt,_t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:lt,intent:_t})}saveDocument(){var lt;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((lt=this._fullReader)==null?void 0:lt.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(lt){return typeof lt!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:lt})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(lt){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:lt})}getStructTree(lt){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:lt})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(lt=>new _optional_content_config.OptionalContentConfig(lt))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return Ut(this,st)||Nn(this,st,this.messageHandler.sendWithPromise("GetMetadata",null).then(lt=>{var _t,ut;return{info:lt[0],metadata:lt[1]?new _metadata.Metadata(lt[1]):null,contentDispositionFilename:((_t=this._fullReader)==null?void 0:_t.filename)??null,contentLength:((ut=this._fullReader)==null?void 0:ut.contentLength)??null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(lt=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(const _t of Ut(this,nt).values())if(!_t.cleanup())throw new Error(`startCleanup: Page ${_t.pageNumber} is currently rendering.`);this.commonObjs.clear(),lt||this.fontLoader.clear(),Nn(this,st,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const lt=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:lt.disableAutoFetch,enableXfa:lt.enableXfa})}}_e=new WeakMap,nt=new WeakMap,rt=new WeakMap,st=new WeakMap;class PDFObjects{constructor(){An(this,ct);An(this,it,Object.create(null))}get(lt,_t=null){if(_t){const kt=Sn(this,ct,a_).call(this,lt);return kt.capability.promise.then(()=>_t(kt.data)),null}const ut=Ut(this,it)[lt];if(!(ut!=null&&ut.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${lt}.`);return ut.data}has(lt){const _t=Ut(this,it)[lt];return(_t==null?void 0:_t.capability.settled)||!1}resolve(lt,_t=null){const ut=Sn(this,ct,a_).call(this,lt);ut.data=_t,ut.capability.resolve()}clear(){Nn(this,it,Object.create(null))}}it=new WeakMap,ct=new WeakSet,a_=function(lt){const _t=Ut(this,it)[lt];return _t||(Ut(this,it)[lt]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(lt){An(this,ft,null);Nn(this,ft,lt),this.onContinue=null}get promise(){return Ut(this,ft).capability.promise}cancel(){Ut(this,ft).cancel()}get separateAnnots(){const{separateAnnots:lt}=Ut(this,ft).operatorList;if(!lt)return!1;const{annotationCanvasMap:_t}=Ut(this,ft);return lt.form||lt.canvas&&(_t==null?void 0:_t.size)>0}}ft=new WeakMap,exports.RenderTask=RenderTask;const bt=class{constructor({callback:lt,params:_t,objs:ut,commonObjs:kt,annotationCanvasMap:pt,operatorList:mt,pageIndex:Pt,canvasFactory:It,useRequestAnimationFrame:Ot=!1,pdfBug:at=!1,pageColors:yt=null}){this.callback=lt,this.params=_t,this.objs=ut,this.commonObjs=kt,this.annotationCanvasMap=pt,this.operatorListIdx=null,this.operatorList=mt,this._pageIndex=Pt,this.canvasFactory=It,this._pdfBug=at,this.pageColors=yt,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Ot===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=_t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:lt=!1,optionalContentConfig:_t}){var It;if(this.cancelled)return;if(this._canvas){if(Ut(bt,ht).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ut(bt,ht).add(this._canvas)}this._pdfBug&&((It=globalThis.StepperManager)!=null&&It.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:ut,viewport:kt,transform:pt,imageLayer:mt,background:Pt}=this.params;this.gfx=new _canvas.CanvasGraphics(ut,this.commonObjs,this.objs,this.canvasFactory,mt,_t,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:pt,viewport:kt,transparency:lt,background:Pt}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(lt=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&Ut(bt,ht).delete(this._canvas),this.callback(lt||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&Ut(bt,ht).delete(this._canvas),this.callback())))}};let InternalRenderTask=bt;ht=new WeakMap,An(InternalRenderTask,ht,new WeakSet);const version="2.16.105";exports.version=version;const build="172ccdbe5";exports.build=build},(c,d,b)=>{var it,G1,gt;Object.defineProperty(d,"__esModule",{value:!0}),d.PrintAnnotationStorage=d.AnnotationStorage=void 0;var j=b(1),_e=b(6),nt=b(10);class rt{constructor(){An(this,it);this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(ht,bt){const wt=this._storage.get(ht);return wt===void 0?bt:Object.assign(bt,wt)}getRawValue(ht){return this._storage.get(ht)}remove(ht){if(this._storage.delete(ht),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const bt of this._storage.values())if(bt instanceof _e.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(ht,bt){const wt=this._storage.get(ht);let lt=!1;if(wt!==void 0)for(const[_t,ut]of Object.entries(bt))wt[_t]!==ut&&(lt=!0,wt[_t]=ut);else lt=!0,this._storage.set(ht,bt);lt&&Sn(this,it,G1).call(this),bt instanceof _e.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(bt.constructor._type)}has(ht){return this._storage.has(ht)}getAll(){return this._storage.size>0?(0,j.objectFromMap)(this._storage):null}get size(){return this._storage.size}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new st(this)}get serializable(){if(this._storage.size===0)return null;const ht=new Map;for(const[bt,wt]of this._storage){const lt=wt instanceof _e.AnnotationEditor?wt.serialize():wt;lt&&ht.set(bt,lt)}return ht}static getHash(ht){if(!ht)return"";const bt=new nt.MurmurHash3_64;for(const[wt,lt]of ht)bt.update(`${wt}:${JSON.stringify(lt)}`);return bt.hexdigest()}}it=new WeakSet,G1=function(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())},d.AnnotationStorage=rt;class st extends rt{constructor(bt){super();An(this,gt,null);Nn(this,gt,structuredClone(bt.serializable))}get print(){(0,j.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return Ut(this,gt)}}gt=new WeakMap,d.PrintAnnotationStorage=st},(c,d,b)=>{var rt,st,it,ct,gt,ft;Object.defineProperty(d,"__esModule",{value:!0}),d.AnnotationEditor=void 0;var j=b(7),_e=b(1);const ht=class{constructor(wt){An(this,rt,this.focusin.bind(this));An(this,st,this.focusout.bind(this));An(this,it,!1);An(this,ct,!1);An(this,gt,!1);An(this,ft,ht._zIndex++);this.constructor===ht&&(0,_e.unreachable)("Cannot initialize AnnotationEditor."),this.parent=wt.parent,this.id=wt.id,this.width=this.height=null,this.pageIndex=wt.parent.pageIndex,this.name=wt.name,this.div=null;const[lt,_t]=this.parent.viewportBaseDimensions;this.x=wt.x/lt,this.y=wt.y/_t,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,_e.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Ut(this,ft)}focusin(wt){Ut(this,it)?Nn(this,it,!1):this.parent.setSelected(this)}focusout(wt){if(!this.isAttachedToDOM)return;const lt=wt.relatedTarget;lt!=null&&lt.closest(`#${this.id}`)||(wt.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(wt){const lt=this.parent.div.getBoundingClientRect();this.startX=wt.clientX-lt.x,this.startY=wt.clientY-lt.y,wt.dataTransfer.setData("text/plain",this.id),wt.dataTransfer.effectAllowed="move"}setAt(wt,lt,_t,ut){const[kt,pt]=this.parent.viewportBaseDimensions;[_t,ut]=this.screenToPageTranslation(_t,ut),this.x=(wt+_t)/kt,this.y=(lt+ut)/pt,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(wt,lt){const[_t,ut]=this.parent.viewportBaseDimensions;[wt,lt]=this.screenToPageTranslation(wt,lt),this.x+=wt/_t,this.y+=lt/ut,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(wt,lt){const{rotation:_t}=this.parent.viewport;switch(_t){case 90:return[lt,-wt];case 180:return[-wt,-lt];case 270:return[-lt,wt];default:return[wt,lt]}}setDims(wt,lt){const[_t,ut]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*wt/_t}%`,this.div.style.height=`${100*lt/ut}%`}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",Ut(this,rt)),this.div.addEventListener("focusout",Ut(this,st));const[wt,lt]=this.getInitialTranslation();return this.translate(wt,lt),(0,j.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(wt){const lt=j.KeyboardManager.platform.isMac;if(wt.button!==0||wt.ctrlKey&&lt){wt.preventDefault();return}wt.ctrlKey&&!lt||wt.shiftKey||wt.metaKey&&lt?this.parent.toggleSelected(this):this.parent.setSelected(this),Nn(this,it,!0)}getRect(wt,lt){const[_t,ut]=this.parent.viewportBaseDimensions,[kt,pt]=this.parent.pageDimensions,mt=kt*wt/_t,Pt=pt*lt/ut,It=this.x*kt,Ot=this.y*pt,at=this.width*kt,yt=this.height*pt;switch(this.rotation){case 0:return[It+mt,pt-Ot-Pt-yt,It+mt+at,pt-Ot-Pt];case 90:return[It+Pt,pt-Ot+mt,It+Pt+yt,pt-Ot+mt+at];case 180:return[It-mt-at,pt-Ot+Pt,It-mt,pt-Ot+Pt+yt];case 270:return[It-Pt-yt,pt-Ot-mt-at,It-Pt,pt-Ot-mt];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(wt,lt){const[_t,ut,kt,pt]=wt,mt=kt-_t,Pt=pt-ut;switch(this.rotation){case 0:return[_t,lt-pt,mt,Pt];case 90:return[_t,lt-ut,Pt,mt];case 180:return[kt,lt-ut,mt,Pt];case 270:return[kt,lt-pt,Pt,mt];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){Nn(this,gt,!0)}disableEditMode(){Nn(this,gt,!1)}isInEditMode(){return Ut(this,gt)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var wt;(wt=this.div)==null||wt.addEventListener("focusin",Ut(this,rt))}serialize(){(0,_e.unreachable)("An editor must be serializable")}static deserialize(wt,lt){const _t=new this.prototype.constructor({parent:lt,id:lt.getNextId()});_t.rotation=wt.rotation;const[ut,kt]=lt.pageDimensions,[pt,mt,Pt,It]=_t.getRectInCurrentCoords(wt.rect,kt);return _t.x=pt/ut,_t.y=mt/kt,_t.width=Pt/ut,_t.height=It/kt,_t}remove(){this.div.removeEventListener("focusin",Ut(this,rt)),this.div.removeEventListener("focusout",Ut(this,st)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var wt;(wt=this.div)==null||wt.classList.add("selectedEditor")}unselect(){var wt;(wt=this.div)==null||wt.classList.remove("selectedEditor")}updateParams(wt,lt){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return Ut(this,ct)}set isEditing(wt){Nn(this,ct,wt),wt?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};let nt=ht;rt=new WeakMap,st=new WeakMap,it=new WeakMap,ct=new WeakMap,gt=new WeakMap,ft=new WeakMap,Fo(nt,"_colorManager",new j.ColorManager),Fo(nt,"_zIndex",1),d.AnnotationEditor=nt},(c,d,b)=>{var bt,wt,lt,_t,ut,kt,q1,Pt,Ot,at,yt,Ct,Bt,Vt,en,Xt,dn,an,Jt,Kt,tn,hn,fn,Wt,xt,Et,K1,Gt,l_,qt,rr,sn,Ru,Tt,Y1,Lt,Q1,Zt,c_,En,Ou,vn,Jp;Object.defineProperty(d,"__esModule",{value:!0}),d.KeyboardManager=d.CommandManager=d.ColorManager=d.AnnotationEditorUIManager=void 0,d.bindEvents=nt,d.opacityToHex=rt;var j=b(1),_e=b(8);function nt(yn,$t,xn){for(const On of xn)$t.addEventListener(On,yn[On].bind(yn))}function rt(yn){return Math.round(Math.min(255,Math.max(1,255*yn))).toString(16).padStart(2,"0")}class st{constructor(){An(this,bt,0)}getId(){return`${j.AnnotationEditorPrefix}${s_(this,bt)._++}`}}bt=new WeakMap;class it{constructor($t=128){An(this,wt,[]);An(this,lt,!1);An(this,_t,void 0);An(this,ut,-1);Nn(this,_t,$t)}add({cmd:$t,undo:xn,mustExec:On,type:Ln=NaN,overwriteIfSameType:Vn=!1,keepUndo:Yn=!1}){if(On&&$t(),Ut(this,lt))return;const bo={cmd:$t,undo:xn,type:Ln};if(Ut(this,ut)===-1){Ut(this,wt).length>0&&(Ut(this,wt).length=0),Nn(this,ut,0),Ut(this,wt).push(bo);return}if(Vn&&Ut(this,wt)[Ut(this,ut)].type===Ln){Yn&&(bo.undo=Ut(this,wt)[Ut(this,ut)].undo),Ut(this,wt)[Ut(this,ut)]=bo;return}const no=Ut(this,ut)+1;no===Ut(this,_t)?Ut(this,wt).splice(0,1):(Nn(this,ut,no),no<Ut(this,wt).length&&Ut(this,wt).splice(no)),Ut(this,wt).push(bo)}undo(){Ut(this,ut)!==-1&&(Nn(this,lt,!0),Ut(this,wt)[Ut(this,ut)].undo(),Nn(this,lt,!1),Nn(this,ut,Ut(this,ut)-1))}redo(){Ut(this,ut)<Ut(this,wt).length-1&&(Nn(this,ut,Ut(this,ut)+1),Nn(this,lt,!0),Ut(this,wt)[Ut(this,ut)].cmd(),Nn(this,lt,!1))}hasSomethingToUndo(){return Ut(this,ut)!==-1}hasSomethingToRedo(){return Ut(this,ut)<Ut(this,wt).length-1}destroy(){Nn(this,wt,null)}}wt=new WeakMap,lt=new WeakMap,_t=new WeakMap,ut=new WeakMap,d.CommandManager=it;const mt=class{constructor($t){An(this,kt);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const xn=mt.platform.isMac;for(const[On,Ln]of $t)for(const Vn of On){const Yn=Vn.startsWith("mac+");xn&&Yn?(this.callbacks.set(Vn.slice(4),Ln),this.allKeys.add(Vn.split("+").at(-1))):!xn&&!Yn&&(this.callbacks.set(Vn,Ln),this.allKeys.add(Vn.split("+").at(-1)))}}static get platform(){const $t=typeof navigator<"u"?navigator.platform:"";return(0,j.shadow)(this,"platform",{isWin:$t.includes("Win"),isMac:$t.includes("Mac")})}exec($t,xn){if(!this.allKeys.has(xn.key))return;const On=this.callbacks.get(Sn(this,kt,q1).call(this,xn));On&&(On.bind($t)(),xn.stopPropagation(),xn.preventDefault())}};let ct=mt;kt=new WeakSet,q1=function($t){$t.altKey&&this.buffer.push("alt"),$t.ctrlKey&&this.buffer.push("ctrl"),$t.metaKey&&this.buffer.push("meta"),$t.shiftKey&&this.buffer.push("shift"),this.buffer.push($t.key);const xn=this.buffer.join("+");return this.buffer.length=0,xn},d.KeyboardManager=ct;class gt{constructor(){An(this,Pt,null)}copy($t){$t&&(Array.isArray($t)?Nn(this,Pt,$t.map(xn=>xn.serialize())):Nn(this,Pt,[$t.serialize()]),Nn(this,Pt,Ut(this,Pt).filter(xn=>!!xn)),Ut(this,Pt).length===0&&Nn(this,Pt,null))}paste(){return Ut(this,Pt)}isEmpty(){return Ut(this,Pt)===null}destroy(){Nn(this,Pt,null)}}Pt=new WeakMap;const It=class{get _colors(){const $t=new Map([["CanvasText",null],["Canvas",null]]);return(0,_e.getColorValues)($t),(0,j.shadow)(this,"_colors",$t)}convert($t){const xn=(0,_e.getRGB)($t);if(!window.matchMedia("(forced-colors: active)").matches)return xn;for(const[On,Ln]of this._colors)if(Ln.every((Vn,Yn)=>Vn===xn[Yn]))return It._colorsMapping.get(On);return xn}getHexCode($t){const xn=this._colors.get($t);return xn?j.Util.makeHexColor(...xn):$t}};let ft=It;Fo(ft,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),d.ColorManager=ft;const _n=class{constructor($t,xn){An(this,Et);An(this,Gt);An(this,qt);An(this,sn);An(this,Tt);An(this,Lt);An(this,Zt);An(this,En);An(this,vn);An(this,Ot,null);An(this,at,new Map);An(this,yt,new Map);An(this,Ct,new gt);An(this,Bt,new it);An(this,Vt,0);An(this,en,null);An(this,Xt,null);An(this,dn,new st);An(this,an,!1);An(this,Jt,j.AnnotationEditorType.NONE);An(this,Kt,new Set);An(this,tn,this.keydown.bind(this));An(this,hn,this.onEditingAction.bind(this));An(this,fn,this.onPageChanging.bind(this));An(this,Wt,{isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});An(this,xt,null);Nn(this,xt,$t),Nn(this,Xt,xn),Ut(this,Xt)._on("editingaction",Ut(this,hn)),Ut(this,Xt)._on("pagechanging",Ut(this,fn))}destroy(){Sn(this,Gt,l_).call(this),Ut(this,Xt)._off("editingaction",Ut(this,hn)),Ut(this,Xt)._off("pagechanging",Ut(this,fn));for(const $t of Ut(this,yt).values())$t.destroy();Ut(this,yt).clear(),Ut(this,at).clear(),Nn(this,Ot,null),Ut(this,Kt).clear(),Ut(this,Ct).destroy(),Ut(this,Bt).destroy()}onPageChanging({pageNumber:$t}){Nn(this,Vt,$t-1)}focusMainContainer(){Ut(this,xt).focus()}keydown($t){var xn;(xn=this.getActive())!=null&&xn.shouldGetKeyboardEvents()||_n._keyboardManager.exec(this,$t)}onEditingAction($t){["undo","redo","cut","copy","paste","delete","selectAll"].includes($t.name)&&this[$t.name]()}setEditingState($t){$t?(Sn(this,Et,K1).call(this),Sn(this,qt,rr).call(this,{isEditing:Ut(this,Jt)!==j.AnnotationEditorType.NONE,isEmpty:Sn(this,En,Ou).call(this),hasSomethingToUndo:Ut(this,Bt).hasSomethingToUndo(),hasSomethingToRedo:Ut(this,Bt).hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:Ut(this,Ct).isEmpty()})):(Sn(this,Gt,l_).call(this),Sn(this,qt,rr).call(this,{isEditing:!1}))}registerEditorTypes($t){Nn(this,en,$t);for(const xn of Ut(this,en))Sn(this,sn,Ru).call(this,xn.defaultPropertiesToUpdate)}getId(){return Ut(this,dn).getId()}addLayer($t){Ut(this,yt).set($t.pageIndex,$t),Ut(this,an)?$t.enable():$t.disable()}removeLayer($t){Ut(this,yt).delete($t.pageIndex)}updateMode($t){if(Nn(this,Jt,$t),$t===j.AnnotationEditorType.NONE)this.setEditingState(!1),Sn(this,Lt,Q1).call(this);else{this.setEditingState(!0),Sn(this,Tt,Y1).call(this);for(const xn of Ut(this,yt).values())xn.updateMode($t)}}updateToolbar($t){$t!==Ut(this,Jt)&&Ut(this,Xt).dispatch("switchannotationeditormode",{source:this,mode:$t})}updateParams($t,xn){for(const On of Ut(this,Kt))On.updateParams($t,xn);for(const On of Ut(this,en))On.updateDefaultParams($t,xn)}getEditors($t){const xn=[];for(const On of Ut(this,at).values())On.pageIndex===$t&&xn.push(On);return xn}getEditor($t){return Ut(this,at).get($t)}addEditor($t){Ut(this,at).set($t.id,$t)}removeEditor($t){Ut(this,at).delete($t.id),this.unselect($t)}setActiveEditor($t){Ut(this,Ot)!==$t&&(Nn(this,Ot,$t),$t&&Sn(this,sn,Ru).call(this,$t.propertiesToUpdate))}toggleSelected($t){if(Ut(this,Kt).has($t)){Ut(this,Kt).delete($t),$t.unselect(),Sn(this,qt,rr).call(this,{hasSelectedEditor:this.hasSelection});return}Ut(this,Kt).add($t),$t.select(),Sn(this,sn,Ru).call(this,$t.propertiesToUpdate),Sn(this,qt,rr).call(this,{hasSelectedEditor:!0})}setSelected($t){for(const xn of Ut(this,Kt))xn!==$t&&xn.unselect();Ut(this,Kt).clear(),Ut(this,Kt).add($t),$t.select(),Sn(this,sn,Ru).call(this,$t.propertiesToUpdate),Sn(this,qt,rr).call(this,{hasSelectedEditor:!0})}isSelected($t){return Ut(this,Kt).has($t)}unselect($t){$t.unselect(),Ut(this,Kt).delete($t),Sn(this,qt,rr).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Ut(this,Kt).size!==0}undo(){Ut(this,Bt).undo(),Sn(this,qt,rr).call(this,{hasSomethingToUndo:Ut(this,Bt).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Sn(this,En,Ou).call(this)})}redo(){Ut(this,Bt).redo(),Sn(this,qt,rr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Ut(this,Bt).hasSomethingToRedo(),isEmpty:Sn(this,En,Ou).call(this)})}addCommands($t){Ut(this,Bt).add($t),Sn(this,qt,rr).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Sn(this,En,Ou).call(this)})}delete(){if(Ut(this,Ot)&&Ut(this,Ot).commitOrRemove(),!this.hasSelection)return;const $t=[...Ut(this,Kt)],xn=()=>{for(const Ln of $t)Ln.remove()},On=()=>{for(const Ln of $t)Sn(this,Zt,c_).call(this,Ln)};this.addCommands({cmd:xn,undo:On,mustExec:!0})}copy(){if(Ut(this,Ot)&&Ut(this,Ot).commitOrRemove(),this.hasSelection){const $t=[];for(const xn of Ut(this,Kt))xn.isEmpty()||$t.push(xn);if($t.length===0)return;Ut(this,Ct).copy($t),Sn(this,qt,rr).call(this,{hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(Ut(this,Ct).isEmpty())return;this.unselectAll();const $t=Ut(this,yt).get(Ut(this,Vt)),xn=Ut(this,Ct).paste().map(Vn=>$t.deserialize(Vn)),On=()=>{for(const Vn of xn)Sn(this,Zt,c_).call(this,Vn);Sn(this,vn,Jp).call(this,xn)},Ln=()=>{for(const Vn of xn)Vn.remove()};this.addCommands({cmd:On,undo:Ln,mustExec:!0})}selectAll(){for(const $t of Ut(this,Kt))$t.commit();Sn(this,vn,Jp).call(this,Ut(this,at).values())}unselectAll(){if(Ut(this,Ot)){Ut(this,Ot).commitOrRemove();return}if(Sn(this,vn,Jp).size!==0){for(const $t of Ut(this,Kt))$t.unselect();Ut(this,Kt).clear(),Sn(this,qt,rr).call(this,{hasSelectedEditor:!1})}}isActive($t){return Ut(this,Ot)===$t}getActive(){return Ut(this,Ot)}getMode(){return Ut(this,Jt)}};let ht=_n;Ot=new WeakMap,at=new WeakMap,yt=new WeakMap,Ct=new WeakMap,Bt=new WeakMap,Vt=new WeakMap,en=new WeakMap,Xt=new WeakMap,dn=new WeakMap,an=new WeakMap,Jt=new WeakMap,Kt=new WeakMap,tn=new WeakMap,hn=new WeakMap,fn=new WeakMap,Wt=new WeakMap,xt=new WeakMap,Et=new WeakSet,K1=function(){Ut(this,xt).addEventListener("keydown",Ut(this,tn))},Gt=new WeakSet,l_=function(){Ut(this,xt).removeEventListener("keydown",Ut(this,tn))},qt=new WeakSet,rr=function($t){Object.entries($t).some(([On,Ln])=>Ut(this,Wt)[On]!==Ln)&&Ut(this,Xt).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Ut(this,Wt),$t)})},sn=new WeakSet,Ru=function($t){Ut(this,Xt).dispatch("annotationeditorparamschanged",{source:this,details:$t})},Tt=new WeakSet,Y1=function(){if(!Ut(this,an)){Nn(this,an,!0);for(const $t of Ut(this,yt).values())$t.enable()}},Lt=new WeakSet,Q1=function(){if(this.unselectAll(),Ut(this,an)){Nn(this,an,!1);for(const $t of Ut(this,yt).values())$t.disable()}},Zt=new WeakSet,c_=function($t){const xn=Ut(this,yt).get($t.pageIndex);xn?xn.addOrRebuild($t):this.addEditor($t)},En=new WeakSet,Ou=function(){if(Ut(this,at).size===0)return!0;if(Ut(this,at).size===1)for(const $t of Ut(this,at).values())return $t.isEmpty();return!1},vn=new WeakSet,Jp=function($t){Ut(this,Kt).clear();for(const xn of $t)xn.isEmpty()||(Ut(this,Kt).add(xn),xn.select());Sn(this,qt,rr).call(this,{hasSelectedEditor:!0})},Fo(ht,"_keyboardManager",new ct([[["ctrl+a","mac+meta+a"],_n.prototype.selectAll],[["ctrl+c","mac+meta+c"],_n.prototype.copy],[["ctrl+v","mac+meta+v"],_n.prototype.paste],[["ctrl+x","mac+meta+x"],_n.prototype.cut],[["ctrl+z","mac+meta+z"],_n.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],_n.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],_n.prototype.delete],[["Escape","mac+Escape"],_n.prototype.unselectAll]])),d.AnnotationEditorUIManager=ht},(c,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.StatTimer=d.RenderingCancelledException=d.PixelsPerInch=d.PageViewport=d.PDFDateString=d.DOMStandardFontDataFactory=d.DOMSVGFactory=d.DOMCanvasFactory=d.DOMCMapReaderFactory=d.AnnotationPrefix=void 0,d.deprecated=It,d.getColorValues=Bt,d.getCurrentTransform=Vt,d.getCurrentTransformInverse=en,d.getFilenameFromUrl=ut,d.getPdfFilenameFromUrl=kt,d.getRGB=Ct,d.getXfaPageViewport=yt,d.isDataScheme=lt,d.isPdfFile=_t,d.isValidFetchUrl=mt,d.loadScript=Pt;var j=b(9),_e=b(1);const nt="http://www.w3.org/2000/svg",rt="pdfjs_internal_id_";d.AnnotationPrefix=rt;const Xt=class{};let st=Xt;Fo(st,"CSS",96),Fo(st,"PDF",72),Fo(st,"PDF_TO_CSS_UNITS",Xt.CSS/Xt.PDF),d.PixelsPerInch=st;class it extends j.BaseCanvasFactory{constructor({ownerDocument:an=globalThis.document}={}){super(),this._document=an}_createCanvas(an,Jt){const Kt=this._document.createElement("canvas");return Kt.width=an,Kt.height=Jt,Kt}}d.DOMCanvasFactory=it;async function ct(dn,an=!1){if(mt(dn,document.baseURI)){const Jt=await fetch(dn);if(!Jt.ok)throw new Error(Jt.statusText);return an?new Uint8Array(await Jt.arrayBuffer()):(0,_e.stringToBytes)(await Jt.text())}return new Promise((Jt,Kt)=>{const tn=new XMLHttpRequest;tn.open("GET",dn,!0),an&&(tn.responseType="arraybuffer"),tn.onreadystatechange=()=>{if(tn.readyState===XMLHttpRequest.DONE){if(tn.status===200||tn.status===0){let hn;if(an&&tn.response?hn=new Uint8Array(tn.response):!an&&tn.responseText&&(hn=(0,_e.stringToBytes)(tn.responseText)),hn){Jt(hn);return}}Kt(new Error(tn.statusText))}},tn.send(null)})}class gt extends j.BaseCMapReaderFactory{_fetchData(an,Jt){return ct(an,this.isCompressed).then(Kt=>({cMapData:Kt,compressionType:Jt}))}}d.DOMCMapReaderFactory=gt;class ft extends j.BaseStandardFontDataFactory{_fetchData(an){return ct(an,!0)}}d.DOMStandardFontDataFactory=ft;class ht extends j.BaseSVGFactory{_createSVG(an){return document.createElementNS(nt,an)}}d.DOMSVGFactory=ht;class bt{constructor({viewBox:an,scale:Jt,rotation:Kt,offsetX:tn=0,offsetY:hn=0,dontFlip:fn=!1}){this.viewBox=an,this.scale=Jt,this.rotation=Kt,this.offsetX=tn,this.offsetY=hn;const Wt=(an[2]+an[0])/2,xt=(an[3]+an[1])/2;let Et,jt,Gt,Ht;switch(Kt%=360,Kt<0&&(Kt+=360),Kt){case 180:Et=-1,jt=0,Gt=0,Ht=1;break;case 90:Et=0,jt=1,Gt=1,Ht=0;break;case 270:Et=0,jt=-1,Gt=-1,Ht=0;break;case 0:Et=1,jt=0,Gt=0,Ht=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}fn&&(Gt=-Gt,Ht=-Ht);let qt,rn,sn,vt;Et===0?(qt=Math.abs(xt-an[1])*Jt+tn,rn=Math.abs(Wt-an[0])*Jt+hn,sn=Math.abs(an[3]-an[1])*Jt,vt=Math.abs(an[2]-an[0])*Jt):(qt=Math.abs(Wt-an[0])*Jt+tn,rn=Math.abs(xt-an[1])*Jt+hn,sn=Math.abs(an[2]-an[0])*Jt,vt=Math.abs(an[3]-an[1])*Jt),this.transform=[Et*Jt,jt*Jt,Gt*Jt,Ht*Jt,qt-Et*Jt*Wt-Gt*Jt*xt,rn-jt*Jt*Wt-Ht*Jt*xt],this.width=sn,this.height=vt}clone({scale:an=this.scale,rotation:Jt=this.rotation,offsetX:Kt=this.offsetX,offsetY:tn=this.offsetY,dontFlip:hn=!1}={}){return new bt({viewBox:this.viewBox.slice(),scale:an,rotation:Jt,offsetX:Kt,offsetY:tn,dontFlip:hn})}convertToViewportPoint(an,Jt){return _e.Util.applyTransform([an,Jt],this.transform)}convertToViewportRectangle(an){const Jt=_e.Util.applyTransform([an[0],an[1]],this.transform),Kt=_e.Util.applyTransform([an[2],an[3]],this.transform);return[Jt[0],Jt[1],Kt[0],Kt[1]]}convertToPdfPoint(an,Jt){return _e.Util.applyInverseTransform([an,Jt],this.transform)}}d.PageViewport=bt;class wt extends _e.BaseException{constructor(an,Jt){super(an,"RenderingCancelledException"),this.type=Jt}}d.RenderingCancelledException=wt;function lt(dn){const an=dn.length;let Jt=0;for(;Jt<an&&dn[Jt].trim()==="";)Jt++;return dn.substring(Jt,Jt+5).toLowerCase()==="data:"}function _t(dn){return typeof dn=="string"&&/\.pdf$/i.test(dn)}function ut(dn){const an=dn.indexOf("#"),Jt=dn.indexOf("?"),Kt=Math.min(an>0?an:dn.length,Jt>0?Jt:dn.length);return dn.substring(dn.lastIndexOf("/",Kt)+1,Kt)}function kt(dn,an="document.pdf"){if(typeof dn!="string")return an;if(lt(dn))return(0,_e.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),an;const Jt=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Kt=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,tn=Jt.exec(dn);let hn=Kt.exec(tn[1])||Kt.exec(tn[2])||Kt.exec(tn[3]);if(hn&&(hn=hn[0],hn.includes("%")))try{hn=Kt.exec(decodeURIComponent(hn))[0]}catch{}return hn||an}class pt{constructor(){this.started=Object.create(null),this.times=[]}time(an){an in this.started&&(0,_e.warn)(`Timer is already running for ${an}`),this.started[an]=Date.now()}timeEnd(an){an in this.started||(0,_e.warn)(`Timer has not been started for ${an}`),this.times.push({name:an,start:this.started[an],end:Date.now()}),delete this.started[an]}toString(){const an=[];let Jt=0;for(const Kt of this.times){const tn=Kt.name;tn.length>Jt&&(Jt=tn.length)}for(const Kt of this.times){const tn=Kt.end-Kt.start;an.push(`${Kt.name.padEnd(Jt)} ${tn}ms
`)}return an.join("")}}d.StatTimer=pt;function mt(dn,an){try{const{protocol:Jt}=an?new URL(dn,an):new URL(dn);return Jt==="http:"||Jt==="https:"}catch{return!1}}function Pt(dn,an=!1){return new Promise((Jt,Kt)=>{const tn=document.createElement("script");tn.src=dn,tn.onload=function(hn){an&&tn.remove(),Jt(hn)},tn.onerror=function(){Kt(new Error(`Cannot load script at: ${tn.src}`))},(document.head||document.documentElement).append(tn)})}function It(dn){console.log("Deprecated API usage: "+dn)}let Ot;class at{static toDateObject(an){if(!an||typeof an!="string")return null;Ot||(Ot=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Jt=Ot.exec(an);if(!Jt)return null;const Kt=parseInt(Jt[1],10);let tn=parseInt(Jt[2],10);tn=tn>=1&&tn<=12?tn-1:0;let hn=parseInt(Jt[3],10);hn=hn>=1&&hn<=31?hn:1;let fn=parseInt(Jt[4],10);fn=fn>=0&&fn<=23?fn:0;let Wt=parseInt(Jt[5],10);Wt=Wt>=0&&Wt<=59?Wt:0;let xt=parseInt(Jt[6],10);xt=xt>=0&&xt<=59?xt:0;const Et=Jt[7]||"Z";let jt=parseInt(Jt[8],10);jt=jt>=0&&jt<=23?jt:0;let Gt=parseInt(Jt[9],10)||0;return Gt=Gt>=0&&Gt<=59?Gt:0,Et==="-"?(fn+=jt,Wt+=Gt):Et==="+"&&(fn-=jt,Wt-=Gt),new Date(Date.UTC(Kt,tn,hn,fn,Wt,xt))}}d.PDFDateString=at;function yt(dn,{scale:an=1,rotation:Jt=0}){const{width:Kt,height:tn}=dn.attributes.style,hn=[0,0,parseInt(Kt),parseInt(tn)];return new bt({viewBox:hn,scale:an,rotation:Jt})}function Ct(dn){if(dn.startsWith("#")){const an=parseInt(dn.slice(1),16);return[(an&16711680)>>16,(an&65280)>>8,an&255]}return dn.startsWith("rgb(")?dn.slice(4,-1).split(",").map(an=>parseInt(an)):dn.startsWith("rgba(")?dn.slice(5,-1).split(",").map(an=>parseInt(an)).slice(0,3):((0,_e.warn)(`Not a valid color format: "${dn}"`),[0,0,0])}function Bt(dn){const an=document.createElement("span");an.style.visibility="hidden",document.body.append(an);for(const Jt of dn.keys()){an.style.color=Jt;const Kt=window.getComputedStyle(an).color;dn.set(Jt,Ct(Kt))}an.remove()}function Vt(dn){const{a:an,b:Jt,c:Kt,d:tn,e:hn,f:fn}=dn.getTransform();return[an,Jt,Kt,tn,hn,fn]}function en(dn){const{a:an,b:Jt,c:Kt,d:tn,e:hn,f:fn}=dn.getTransform().invertSelf();return[an,Jt,Kt,tn,hn,fn]}},(c,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.BaseStandardFontDataFactory=d.BaseSVGFactory=d.BaseCanvasFactory=d.BaseCMapReaderFactory=void 0;var j=b(1);class _e{constructor(){this.constructor===_e&&(0,j.unreachable)("Cannot initialize BaseCanvasFactory.")}create(ct,gt){if(ct<=0||gt<=0)throw new Error("Invalid canvas size");const ft=this._createCanvas(ct,gt);return{canvas:ft,context:ft.getContext("2d")}}reset(ct,gt,ft){if(!ct.canvas)throw new Error("Canvas is not specified");if(gt<=0||ft<=0)throw new Error("Invalid canvas size");ct.canvas.width=gt,ct.canvas.height=ft}destroy(ct){if(!ct.canvas)throw new Error("Canvas is not specified");ct.canvas.width=0,ct.canvas.height=0,ct.canvas=null,ct.context=null}_createCanvas(ct,gt){(0,j.unreachable)("Abstract method `_createCanvas` called.")}}d.BaseCanvasFactory=_e;class nt{constructor({baseUrl:ct=null,isCompressed:gt=!1}){this.constructor===nt&&(0,j.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=ct,this.isCompressed=gt}async fetch({name:ct}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!ct)throw new Error("CMap name must be specified.");const gt=this.baseUrl+ct+(this.isCompressed?".bcmap":""),ft=this.isCompressed?j.CMapCompressionType.BINARY:j.CMapCompressionType.NONE;return this._fetchData(gt,ft).catch(ht=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${gt}`)})}_fetchData(ct,gt){(0,j.unreachable)("Abstract method `_fetchData` called.")}}d.BaseCMapReaderFactory=nt;class rt{constructor({baseUrl:ct=null}){this.constructor===rt&&(0,j.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=ct}async fetch({filename:ct}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!ct)throw new Error("Font filename must be specified.");const gt=`${this.baseUrl}${ct}`;return this._fetchData(gt).catch(ft=>{throw new Error(`Unable to load font data at: ${gt}`)})}_fetchData(ct){(0,j.unreachable)("Abstract method `_fetchData` called.")}}d.BaseStandardFontDataFactory=rt;class st{constructor(){this.constructor===st&&(0,j.unreachable)("Cannot initialize BaseSVGFactory.")}create(ct,gt,ft=!1){if(ct<=0||gt<=0)throw new Error("Invalid SVG dimensions");const ht=this._createSVG("svg:svg");return ht.setAttribute("version","1.1"),ft||(ht.setAttribute("width",`${ct}px`),ht.setAttribute("height",`${gt}px`)),ht.setAttribute("preserveAspectRatio","none"),ht.setAttribute("viewBox",`0 0 ${ct} ${gt}`),ht}createElement(ct){if(typeof ct!="string")throw new Error("Invalid SVG element type");return this._createSVG(ct)}_createSVG(ct){(0,j.unreachable)("Abstract method `_createSVG` called.")}}d.BaseSVGFactory=st},(c,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.MurmurHash3_64=void 0;var j=b(1);const _e=3285377520,nt=4294901760,rt=65535;class st{constructor(ct){this.h1=ct?ct&4294967295:_e,this.h2=ct?ct&4294967295:_e}update(ct){let gt,ft;if(typeof ct=="string"){gt=new Uint8Array(ct.length*2),ft=0;for(let Ot=0,at=ct.length;Ot<at;Ot++){const yt=ct.charCodeAt(Ot);yt<=255?gt[ft++]=yt:(gt[ft++]=yt>>>8,gt[ft++]=yt&255)}}else if((0,j.isArrayBuffer)(ct))gt=ct.slice(),ft=gt.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const ht=ft>>2,bt=ft-ht*4,wt=new Uint32Array(gt.buffer,0,ht);let lt=0,_t=0,ut=this.h1,kt=this.h2;const pt=3432918353,mt=461845907,Pt=pt&rt,It=mt&rt;for(let Ot=0;Ot<ht;Ot++)Ot&1?(lt=wt[Ot],lt=lt*pt&nt|lt*Pt&rt,lt=lt<<15|lt>>>17,lt=lt*mt&nt|lt*It&rt,ut^=lt,ut=ut<<13|ut>>>19,ut=ut*5+3864292196):(_t=wt[Ot],_t=_t*pt&nt|_t*Pt&rt,_t=_t<<15|_t>>>17,_t=_t*mt&nt|_t*It&rt,kt^=_t,kt=kt<<13|kt>>>19,kt=kt*5+3864292196);switch(lt=0,bt){case 3:lt^=gt[ht*4+2]<<16;case 2:lt^=gt[ht*4+1]<<8;case 1:lt^=gt[ht*4],lt=lt*pt&nt|lt*Pt&rt,lt=lt<<15|lt>>>17,lt=lt*mt&nt|lt*It&rt,ht&1?ut^=lt:kt^=lt}this.h1=ut,this.h2=kt}hexdigest(){let ct=this.h1,gt=this.h2;ct^=gt>>>1,ct=ct*3981806797&nt|ct*36045&rt,gt=gt*4283543511&nt|((gt<<16|ct>>>16)*2950163797&nt)>>>16,ct^=gt>>>1,ct=ct*444984403&nt|ct*60499&rt,gt=gt*3301882366&nt|((gt<<16|ct>>>16)*3120437893&nt)>>>16,ct^=gt>>>1;const ft=(ct>>>0).toString(16),ht=(gt>>>0).toString(16);return ft.padStart(8,"0")+ht.padStart(8,"0")}}d.MurmurHash3_64=st},(c,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.FontLoader=d.FontFaceObject=void 0;var j=b(1);class _e{constructor({docId:it,onUnsupportedFeature:ct,ownerDocument:gt=globalThis.document,styleElement:ft=null}){this.constructor===_e&&(0,j.unreachable)("Cannot initialize BaseFontLoader."),this.docId=it,this._onUnsupportedFeature=ct,this._document=gt,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(it){this.nativeFontFaces.push(it),this._document.fonts.add(it)}insertRule(it){let ct=this.styleElement;ct||(ct=this.styleElement=this._document.createElement("style"),ct.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(ct));const gt=ct.sheet;gt.insertRule(it,gt.cssRules.length)}clear(){for(const it of this.nativeFontFaces)this._document.fonts.delete(it);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(it){if(it.attached||it.missingFile)return;if(it.attached=!0,this.isFontLoadingAPISupported){const gt=it.createNativeFontFace();if(gt){this.addNativeFontFace(gt);try{await gt.loaded}catch(ft){throw this._onUnsupportedFeature({featureId:j.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,j.warn)(`Failed to load font '${gt.family}': '${ft}'.`),it.disableFontFace=!0,ft}}return}const ct=it.createFontFaceRule();if(ct){if(this.insertRule(ct),this.isSyncFontLoadingSupported)return;await new Promise(gt=>{const ft=this._queueLoadingCallback(gt);this._prepareFontLoadEvent([ct],[it],ft)})}}_queueLoadingCallback(it){(0,j.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){var ct;const it=!!((ct=this._document)!=null&&ct.fonts);return(0,j.shadow)(this,"isFontLoadingAPISupported",it)}get isSyncFontLoadingSupported(){(0,j.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,j.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(it,ct,gt){(0,j.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let nt;d.FontLoader=nt,d.FontLoader=nt=class extends _e{constructor(it){super(it),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let it=!1;if(typeof navigator>"u")it=!0;else{const ct=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);(ct==null?void 0:ct[1])>=14&&(it=!0)}return(0,j.shadow)(this,"isSyncFontLoadingSupported",it)}_queueLoadingCallback(it){function ct(){for((0,j.assert)(!ft.done,"completeRequest() cannot be called twice."),ft.done=!0;gt.requests.length>0&&gt.requests[0].done;){const ht=gt.requests.shift();setTimeout(ht.callback,0)}}const gt=this.loadingContext,ft={id:`pdfjs-font-loading-${gt.nextRequestId++}`,done:!1,complete:ct,callback:it};return gt.requests.push(ft),ft}get _loadTestFont(){const it=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,j.shadow)(this,"_loadTestFont",it())}_prepareFontLoadEvent(it,ct,gt){function ft(en,Xt){return en.charCodeAt(Xt)<<24|en.charCodeAt(Xt+1)<<16|en.charCodeAt(Xt+2)<<8|en.charCodeAt(Xt+3)&255}function ht(en,Xt,dn,an){const Jt=en.substring(0,Xt),Kt=en.substring(Xt+dn);return Jt+an+Kt}let bt,wt;const lt=this._document.createElement("canvas");lt.width=1,lt.height=1;const _t=lt.getContext("2d");let ut=0;function kt(en,Xt){if(ut++,ut>30){(0,j.warn)("Load test font never loaded."),Xt();return}if(_t.font="30px "+en,_t.fillText(".",0,20),_t.getImageData(0,0,1,1).data[3]>0){Xt();return}setTimeout(kt.bind(null,en,Xt))}const pt=`lt${Date.now()}${this.loadTestFontId++}`;let mt=this._loadTestFont;mt=ht(mt,976,pt.length,pt);const It=16,Ot=1482184792;let at=ft(mt,It);for(bt=0,wt=pt.length-3;bt<wt;bt+=4)at=at-Ot+ft(pt,bt)|0;bt<pt.length&&(at=at-Ot+ft(pt+"XXX",bt)|0),mt=ht(mt,It,4,(0,j.string32)(at));const yt=`url(data:font/opentype;base64,${btoa(mt)});`,Ct=`@font-face {font-family:"${pt}";src:${yt}}`;this.insertRule(Ct);const Bt=[];for(const en of ct)Bt.push(en.loadedName);Bt.push(pt);const Vt=this._document.createElement("div");Vt.style.visibility="hidden",Vt.style.width=Vt.style.height="10px",Vt.style.position="absolute",Vt.style.top=Vt.style.left="0px";for(const en of Bt){const Xt=this._document.createElement("span");Xt.textContent="Hi",Xt.style.fontFamily=en,Vt.append(Xt)}this._document.body.append(Vt),kt(pt,()=>{Vt.remove(),gt.complete()})}};class rt{constructor(it,{isEvalSupported:ct=!0,disableFontFace:gt=!1,ignoreErrors:ft=!1,onUnsupportedFeature:ht,fontRegistry:bt=null}){this.compiledGlyphs=Object.create(null);for(const wt in it)this[wt]=it[wt];this.isEvalSupported=ct!==!1,this.disableFontFace=gt===!0,this.ignoreErrors=ft===!0,this._onUnsupportedFeature=ht,this.fontRegistry=bt}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let it;if(!this.cssFontInfo)it=new FontFace(this.loadedName,this.data,{});else{const ct={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(ct.style=`oblique ${this.cssFontInfo.italicAngle}deg`),it=new FontFace(this.cssFontInfo.fontFamily,this.data,ct)}return this.fontRegistry&&this.fontRegistry.registerFont(this),it}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const it=(0,j.bytesToString)(this.data),ct=`url(data:${this.mimetype};base64,${btoa(it)});`;let gt;if(!this.cssFontInfo)gt=`@font-face {font-family:"${this.loadedName}";src:${ct}}`;else{let ft=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(ft+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),gt=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${ft}src:${ct}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,ct),gt}getPathGenerator(it,ct){if(this.compiledGlyphs[ct]!==void 0)return this.compiledGlyphs[ct];let gt;try{gt=it.get(this.loadedName+"_path_"+ct)}catch(ft){if(!this.ignoreErrors)throw ft;return this._onUnsupportedFeature({featureId:j.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,j.warn)(`getPathGenerator - ignoring character: "${ft}".`),this.compiledGlyphs[ct]=function(ht,bt){}}if(this.isEvalSupported&&j.FeatureTest.isEvalSupported){const ft=[];for(const ht of gt){const bt=ht.args!==void 0?ht.args.join(","):"";ft.push("c.",ht.cmd,"(",bt,`);
`)}return this.compiledGlyphs[ct]=new Function("c","size",ft.join(""))}return this.compiledGlyphs[ct]=function(ft,ht){for(const bt of gt)bt.cmd==="scale"&&(bt.args=[ht,-ht]),ft[bt.cmd].apply(ft,bt.args)}}}d.FontFaceObject=rt},(c,d,b)=>{var tn,d_;Object.defineProperty(d,"__esModule",{value:!0}),d.CanvasGraphics=void 0;var j=b(8),_e=b(1),nt=b(13),rt=b(14),st=b(3);const it=16,ct=100,gt=4096,ft=15,ht=10,bt=st.isNodeJS&&typeof Path2D>"u"?-1:1e3,wt=16;function lt(Wt,xt){if(Wt._removeMirroring)throw new Error("Context is already forwarding operations.");Wt.__originalSave=Wt.save,Wt.__originalRestore=Wt.restore,Wt.__originalRotate=Wt.rotate,Wt.__originalScale=Wt.scale,Wt.__originalTranslate=Wt.translate,Wt.__originalTransform=Wt.transform,Wt.__originalSetTransform=Wt.setTransform,Wt.__originalResetTransform=Wt.resetTransform,Wt.__originalClip=Wt.clip,Wt.__originalMoveTo=Wt.moveTo,Wt.__originalLineTo=Wt.lineTo,Wt.__originalBezierCurveTo=Wt.bezierCurveTo,Wt.__originalRect=Wt.rect,Wt.__originalClosePath=Wt.closePath,Wt.__originalBeginPath=Wt.beginPath,Wt._removeMirroring=()=>{Wt.save=Wt.__originalSave,Wt.restore=Wt.__originalRestore,Wt.rotate=Wt.__originalRotate,Wt.scale=Wt.__originalScale,Wt.translate=Wt.__originalTranslate,Wt.transform=Wt.__originalTransform,Wt.setTransform=Wt.__originalSetTransform,Wt.resetTransform=Wt.__originalResetTransform,Wt.clip=Wt.__originalClip,Wt.moveTo=Wt.__originalMoveTo,Wt.lineTo=Wt.__originalLineTo,Wt.bezierCurveTo=Wt.__originalBezierCurveTo,Wt.rect=Wt.__originalRect,Wt.closePath=Wt.__originalClosePath,Wt.beginPath=Wt.__originalBeginPath,delete Wt._removeMirroring},Wt.save=function(){xt.save(),this.__originalSave()},Wt.restore=function(){xt.restore(),this.__originalRestore()},Wt.translate=function(jt,Gt){xt.translate(jt,Gt),this.__originalTranslate(jt,Gt)},Wt.scale=function(jt,Gt){xt.scale(jt,Gt),this.__originalScale(jt,Gt)},Wt.transform=function(jt,Gt,Ht,qt,rn,sn){xt.transform(jt,Gt,Ht,qt,rn,sn),this.__originalTransform(jt,Gt,Ht,qt,rn,sn)},Wt.setTransform=function(jt,Gt,Ht,qt,rn,sn){xt.setTransform(jt,Gt,Ht,qt,rn,sn),this.__originalSetTransform(jt,Gt,Ht,qt,rn,sn)},Wt.resetTransform=function(){xt.resetTransform(),this.__originalResetTransform()},Wt.rotate=function(jt){xt.rotate(jt),this.__originalRotate(jt)},Wt.clip=function(jt){xt.clip(jt),this.__originalClip(jt)},Wt.moveTo=function(Et,jt){xt.moveTo(Et,jt),this.__originalMoveTo(Et,jt)},Wt.lineTo=function(Et,jt){xt.lineTo(Et,jt),this.__originalLineTo(Et,jt)},Wt.bezierCurveTo=function(Et,jt,Gt,Ht,qt,rn){xt.bezierCurveTo(Et,jt,Gt,Ht,qt,rn),this.__originalBezierCurveTo(Et,jt,Gt,Ht,qt,rn)},Wt.rect=function(Et,jt,Gt,Ht){xt.rect(Et,jt,Gt,Ht),this.__originalRect(Et,jt,Gt,Ht)},Wt.closePath=function(){xt.closePath(),this.__originalClosePath()},Wt.beginPath=function(){xt.beginPath(),this.__originalBeginPath()}}class _t{constructor(xt){this.canvasFactory=xt,this.cache=Object.create(null)}getCanvas(xt,Et,jt){let Gt;return this.cache[xt]!==void 0?(Gt=this.cache[xt],this.canvasFactory.reset(Gt,Et,jt)):(Gt=this.canvasFactory.create(Et,jt),this.cache[xt]=Gt),Gt}delete(xt){delete this.cache[xt]}clear(){for(const xt in this.cache){const Et=this.cache[xt];this.canvasFactory.destroy(Et),delete this.cache[xt]}}}function ut(Wt,xt,Et,jt,Gt,Ht,qt,rn,sn,vt){const[Tt,Nt,Lt,zt,Zt,mn]=(0,j.getCurrentTransform)(Wt);if(Nt===0&&Lt===0){const vn=qt*Tt+Zt,pn=Math.round(vn),_n=rn*zt+mn,yn=Math.round(_n),$t=(qt+sn)*Tt+Zt,xn=Math.abs(Math.round($t)-pn)||1,On=(rn+vt)*zt+mn,Ln=Math.abs(Math.round(On)-yn)||1;return Wt.setTransform(Math.sign(Tt),0,0,Math.sign(zt),pn,yn),Wt.drawImage(xt,Et,jt,Gt,Ht,0,0,xn,Ln),Wt.setTransform(Tt,Nt,Lt,zt,Zt,mn),[xn,Ln]}if(Tt===0&&zt===0){const vn=rn*Lt+Zt,pn=Math.round(vn),_n=qt*Nt+mn,yn=Math.round(_n),$t=(rn+vt)*Lt+Zt,xn=Math.abs(Math.round($t)-pn)||1,On=(qt+sn)*Nt+mn,Ln=Math.abs(Math.round(On)-yn)||1;return Wt.setTransform(0,Math.sign(Nt),Math.sign(Lt),0,pn,yn),Wt.drawImage(xt,Et,jt,Gt,Ht,0,0,Ln,xn),Wt.setTransform(Tt,Nt,Lt,zt,Zt,mn),[Ln,xn]}Wt.drawImage(xt,Et,jt,Gt,Ht,qt,rn,sn,vt);const En=Math.hypot(Tt,Nt),un=Math.hypot(Lt,zt);return[En*sn,un*vt]}function kt(Wt){const{width:xt,height:Et}=Wt;if(xt>bt||Et>bt)return null;const jt=1e3,Gt=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Ht=xt+1;let qt=new Uint8Array(Ht*(Et+1)),rn,sn,vt;const Tt=xt+7&-8;let Nt=new Uint8Array(Tt*Et),Lt=0;for(const un of Wt.data){let vn=128;for(;vn>0;)Nt[Lt++]=un&vn?0:255,vn>>=1}let zt=0;for(Lt=0,Nt[Lt]!==0&&(qt[0]=1,++zt),sn=1;sn<xt;sn++)Nt[Lt]!==Nt[Lt+1]&&(qt[sn]=Nt[Lt]?2:1,++zt),Lt++;for(Nt[Lt]!==0&&(qt[sn]=2,++zt),rn=1;rn<Et;rn++){Lt=rn*Tt,vt=rn*Ht,Nt[Lt-Tt]!==Nt[Lt]&&(qt[vt]=Nt[Lt]?1:8,++zt);let un=(Nt[Lt]?4:0)+(Nt[Lt-Tt]?8:0);for(sn=1;sn<xt;sn++)un=(un>>2)+(Nt[Lt+1]?4:0)+(Nt[Lt-Tt+1]?8:0),Gt[un]&&(qt[vt+sn]=Gt[un],++zt),Lt++;if(Nt[Lt-Tt]!==Nt[Lt]&&(qt[vt+sn]=Nt[Lt]?2:4,++zt),zt>jt)return null}for(Lt=Tt*(Et-1),vt=rn*Ht,Nt[Lt]!==0&&(qt[vt]=8,++zt),sn=1;sn<xt;sn++)Nt[Lt]!==Nt[Lt+1]&&(qt[vt+sn]=Nt[Lt]?4:8,++zt),Lt++;if(Nt[Lt]!==0&&(qt[vt+sn]=4,++zt),zt>jt)return null;const Zt=new Int32Array([0,Ht,-1,0,-Ht,0,0,0,1]),mn=new Path2D;for(rn=0;zt&&rn<=Et;rn++){let un=rn*Ht;const vn=un+xt;for(;un<vn&&!qt[un];)un++;if(un===vn)continue;mn.moveTo(un%Ht,rn);const pn=un;let _n=qt[un];do{const yn=Zt[_n];do un+=yn;while(!qt[un]);const $t=qt[un];$t!==5&&$t!==10?(_n=$t,qt[un]=0):(_n=$t&51*_n>>4,qt[un]&=_n>>2|_n<<2),mn.lineTo(un%Ht,un/Ht|0),qt[un]||--zt}while(pn!==un);--rn}return Nt=null,qt=null,function(un){un.save(),un.scale(1/xt,-1/Et),un.translate(0,-Et),un.fill(mn),un.beginPath(),un.restore()}}class pt{constructor(xt,Et){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=_e.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=_e.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=_e.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,xt,Et])}clone(){const xt=Object.create(this);return xt.clipBox=this.clipBox.slice(),xt}setCurrentPoint(xt,Et){this.x=xt,this.y=Et}updatePathMinMax(xt,Et,jt){[Et,jt]=_e.Util.applyTransform([Et,jt],xt),this.minX=Math.min(this.minX,Et),this.minY=Math.min(this.minY,jt),this.maxX=Math.max(this.maxX,Et),this.maxY=Math.max(this.maxY,jt)}updateRectMinMax(xt,Et){const jt=_e.Util.applyTransform(Et,xt),Gt=_e.Util.applyTransform(Et.slice(2),xt);this.minX=Math.min(this.minX,jt[0],Gt[0]),this.minY=Math.min(this.minY,jt[1],Gt[1]),this.maxX=Math.max(this.maxX,jt[0],Gt[0]),this.maxY=Math.max(this.maxY,jt[1],Gt[1])}updateScalingPathMinMax(xt,Et){_e.Util.scaleMinMax(xt,Et),this.minX=Math.min(this.minX,Et[0]),this.maxX=Math.max(this.maxX,Et[1]),this.minY=Math.min(this.minY,Et[2]),this.maxY=Math.max(this.maxY,Et[3])}updateCurvePathMinMax(xt,Et,jt,Gt,Ht,qt,rn,sn,vt,Tt){const Nt=_e.Util.bezierBoundingBox(Et,jt,Gt,Ht,qt,rn,sn,vt);if(Tt){Tt[0]=Math.min(Tt[0],Nt[0],Nt[2]),Tt[1]=Math.max(Tt[1],Nt[0],Nt[2]),Tt[2]=Math.min(Tt[2],Nt[1],Nt[3]),Tt[3]=Math.max(Tt[3],Nt[1],Nt[3]);return}this.updateRectMinMax(xt,Nt)}getPathBoundingBox(xt=nt.PathType.FILL,Et=null){const jt=[this.minX,this.minY,this.maxX,this.maxY];if(xt===nt.PathType.STROKE){Et||(0,_e.unreachable)("Stroke bounding box must include transform.");const Gt=_e.Util.singularValueDecompose2dScale(Et),Ht=Gt[0]*this.lineWidth/2,qt=Gt[1]*this.lineWidth/2;jt[0]-=Ht,jt[1]-=qt,jt[2]+=Ht,jt[3]+=qt}return jt}updateClipFromPath(){const xt=_e.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(xt||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(xt){this.clipBox=xt,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(xt=nt.PathType.FILL,Et=null){return _e.Util.intersect(this.clipBox,this.getPathBoundingBox(xt,Et))}}function mt(Wt,xt,Et=null){if(typeof ImageData<"u"&&xt instanceof ImageData){Wt.putImageData(xt,0,0);return}const jt=xt.height,Gt=xt.width,Ht=jt%wt,qt=(jt-Ht)/wt,rn=Ht===0?qt:qt+1,sn=Wt.createImageData(Gt,wt);let vt=0,Tt;const Nt=xt.data,Lt=sn.data;let zt,Zt,mn,En,un,vn,pn,_n;if(Et)switch(Et.length){case 1:un=Et[0],vn=Et[0],pn=Et[0],_n=Et[0];break;case 4:un=Et[0],vn=Et[1],pn=Et[2],_n=Et[3];break}if(xt.kind===_e.ImageKind.GRAYSCALE_1BPP){const yn=Nt.byteLength,$t=new Uint32Array(Lt.buffer,0,Lt.byteLength>>2),xn=$t.length,On=Gt+7>>3;let Ln=4294967295,Vn=_e.FeatureTest.isLittleEndian?4278190080:255;for(_n&&_n[0]===255&&_n[255]===0&&([Ln,Vn]=[Vn,Ln]),zt=0;zt<rn;zt++){for(mn=zt<qt?wt:Ht,Tt=0,Zt=0;Zt<mn;Zt++){const Yn=yn-vt;let bo=0;const no=Yn>On?Gt:Yn*8-7,sr=no&-8;let $n=0,ho=0;for(;bo<sr;bo+=8)ho=Nt[vt++],$t[Tt++]=ho&128?Ln:Vn,$t[Tt++]=ho&64?Ln:Vn,$t[Tt++]=ho&32?Ln:Vn,$t[Tt++]=ho&16?Ln:Vn,$t[Tt++]=ho&8?Ln:Vn,$t[Tt++]=ho&4?Ln:Vn,$t[Tt++]=ho&2?Ln:Vn,$t[Tt++]=ho&1?Ln:Vn;for(;bo<no;bo++)$n===0&&(ho=Nt[vt++],$n=128),$t[Tt++]=ho&$n?Ln:Vn,$n>>=1}for(;Tt<xn;)$t[Tt++]=0;Wt.putImageData(sn,0,zt*wt)}}else if(xt.kind===_e.ImageKind.RGBA_32BPP){const yn=!!(un||vn||pn);for(Zt=0,En=Gt*wt*4,zt=0;zt<qt;zt++){if(Lt.set(Nt.subarray(vt,vt+En)),vt+=En,yn)for(let $t=0;$t<En;$t+=4)un&&(Lt[$t+0]=un[Lt[$t+0]]),vn&&(Lt[$t+1]=vn[Lt[$t+1]]),pn&&(Lt[$t+2]=pn[Lt[$t+2]]);Wt.putImageData(sn,0,Zt),Zt+=wt}if(zt<rn){if(En=Gt*Ht*4,Lt.set(Nt.subarray(vt,vt+En)),yn)for(let $t=0;$t<En;$t+=4)un&&(Lt[$t+0]=un[Lt[$t+0]]),vn&&(Lt[$t+1]=vn[Lt[$t+1]]),pn&&(Lt[$t+2]=pn[Lt[$t+2]]);Wt.putImageData(sn,0,Zt)}}else if(xt.kind===_e.ImageKind.RGB_24BPP){const yn=!!(un||vn||pn);for(mn=wt,En=Gt*mn,zt=0;zt<rn;zt++){for(zt>=qt&&(mn=Ht,En=Gt*mn),Tt=0,Zt=En;Zt--;)Lt[Tt++]=Nt[vt++],Lt[Tt++]=Nt[vt++],Lt[Tt++]=Nt[vt++],Lt[Tt++]=255;if(yn)for(let $t=0;$t<Tt;$t+=4)un&&(Lt[$t+0]=un[Lt[$t+0]]),vn&&(Lt[$t+1]=vn[Lt[$t+1]]),pn&&(Lt[$t+2]=pn[Lt[$t+2]]);Wt.putImageData(sn,0,zt*wt)}}else throw new Error(`bad image kind: ${xt.kind}`)}function Pt(Wt,xt){if(xt.bitmap){Wt.drawImage(xt.bitmap,0,0);return}const Et=xt.height,jt=xt.width,Gt=Et%wt,Ht=(Et-Gt)/wt,qt=Gt===0?Ht:Ht+1,rn=Wt.createImageData(jt,wt);let sn=0;const vt=xt.data,Tt=rn.data;for(let Nt=0;Nt<qt;Nt++){const Lt=Nt<Ht?wt:Gt;({srcPos:sn}=(0,rt.applyMaskImageData)({src:vt,srcPos:sn,dest:Tt,width:jt,height:Lt})),Wt.putImageData(rn,0,Nt*wt)}}function It(Wt,xt){const Et=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let jt=0,Gt=Et.length;jt<Gt;jt++){const Ht=Et[jt];Wt[Ht]!==void 0&&(xt[Ht]=Wt[Ht])}Wt.setLineDash!==void 0&&(xt.setLineDash(Wt.getLineDash()),xt.lineDashOffset=Wt.lineDashOffset)}function Ot(Wt,xt){Wt.strokeStyle=Wt.fillStyle=xt||"#000000",Wt.fillRule="nonzero",Wt.globalAlpha=1,Wt.lineWidth=1,Wt.lineCap="butt",Wt.lineJoin="miter",Wt.miterLimit=10,Wt.globalCompositeOperation="source-over",Wt.font="10px sans-serif",Wt.setLineDash!==void 0&&(Wt.setLineDash([]),Wt.lineDashOffset=0)}function at(Wt,xt,Et,jt){const Gt=Wt.length;for(let Ht=3;Ht<Gt;Ht+=4){const qt=Wt[Ht];if(qt===0)Wt[Ht-3]=xt,Wt[Ht-2]=Et,Wt[Ht-1]=jt;else if(qt<255){const rn=255-qt;Wt[Ht-3]=Wt[Ht-3]*qt+xt*rn>>8,Wt[Ht-2]=Wt[Ht-2]*qt+Et*rn>>8,Wt[Ht-1]=Wt[Ht-1]*qt+jt*rn>>8}}}function yt(Wt,xt,Et){const jt=Wt.length,Gt=1/255;for(let Ht=3;Ht<jt;Ht+=4){const qt=Et?Et[Wt[Ht]]:Wt[Ht];xt[Ht]=xt[Ht]*qt*Gt|0}}function Ct(Wt,xt,Et){const jt=Wt.length;for(let Gt=3;Gt<jt;Gt+=4){const Ht=Wt[Gt-3]*77+Wt[Gt-2]*152+Wt[Gt-1]*28;xt[Gt]=Et?xt[Gt]*Et[Ht>>8]>>8:xt[Gt]*Ht>>16}}function Bt(Wt,xt,Et,jt,Gt,Ht,qt,rn,sn,vt,Tt){const Nt=!!Ht,Lt=Nt?Ht[0]:0,zt=Nt?Ht[1]:0,Zt=Nt?Ht[2]:0;let mn;Gt==="Luminosity"?mn=Ct:mn=yt;const un=Math.min(jt,Math.ceil(1048576/Et));for(let vn=0;vn<jt;vn+=un){const pn=Math.min(un,jt-vn),_n=Wt.getImageData(rn-vt,vn+(sn-Tt),Et,pn),yn=xt.getImageData(rn,vn+sn,Et,pn);Nt&&at(_n.data,Lt,zt,Zt),mn(_n.data,yn.data,qt),xt.putImageData(yn,rn,vn+sn)}}function Vt(Wt,xt,Et,jt){const Gt=jt[0],Ht=jt[1],qt=jt[2]-Gt,rn=jt[3]-Ht;qt===0||rn===0||(Bt(xt.context,Et,qt,rn,xt.subtype,xt.backdrop,xt.transferMap,Gt,Ht,xt.offsetX,xt.offsetY),Wt.save(),Wt.globalAlpha=1,Wt.globalCompositeOperation="source-over",Wt.setTransform(1,0,0,1,0,0),Wt.drawImage(Et.canvas,0,0),Wt.restore())}function en(Wt,xt){const Et=_e.Util.singularValueDecompose2dScale(Wt);Et[0]=Math.fround(Et[0]),Et[1]=Math.fround(Et[1]);const jt=Math.fround((globalThis.devicePixelRatio||1)*j.PixelsPerInch.PDF_TO_CSS_UNITS);return xt!==void 0?xt:Et[0]<=jt||Et[1]<=jt}const Xt=["butt","round","square"],dn=["miter","round","bevel"],an={},Jt={},fn=class{constructor(xt,Et,jt,Gt,Ht,qt,rn,sn){An(this,tn);this.ctx=xt,this.current=new pt(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Et,this.objs=jt,this.canvasFactory=Gt,this.imageLayer=Ht,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=qt,this.cachedCanvases=new _t(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=rn,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(sn==null?void 0:sn.background)||null,this.foregroundColor=(sn==null?void 0:sn.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(xt,Et=null){return typeof xt=="string"?xt.startsWith("g_")?this.commonObjs.get(xt):this.objs.get(xt):Et}beginDrawing({transform:xt,viewport:Et,transparency:jt=!1,background:Gt=null}){const Ht=this.ctx.canvas.width,qt=this.ctx.canvas.height,rn=Gt||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const sn=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const vt=this.backgroundColor=this.ctx.fillStyle;let Tt=!0,Nt=rn;if(this.ctx.fillStyle=rn,Nt=this.ctx.fillStyle,Tt=typeof Nt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Nt),sn==="#000000"&&vt==="#ffffff"||sn===vt||!Tt)this.foregroundColor=this.backgroundColor=null;else{const[Lt,zt,Zt]=(0,j.getRGB)(Nt),mn=un=>(un/=255,un<=.03928?un/12.92:((un+.055)/1.055)**2.4),En=Math.round(.2126*mn(Lt)+.7152*mn(zt)+.0722*mn(Zt));this.selectColor=(un,vn,pn)=>{const _n=.2126*mn(un)+.7152*mn(vn)+.0722*mn(pn);return Math.round(_n)===En?vt:sn}}}if(this.ctx.fillStyle=this.backgroundColor||rn,this.ctx.fillRect(0,0,Ht,qt),this.ctx.restore(),jt){const sn=this.cachedCanvases.getCanvas("transparent",Ht,qt);this.compositeCtx=this.ctx,this.transparentCanvas=sn.canvas,this.ctx=sn.context,this.ctx.save(),this.ctx.transform(...(0,j.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),Ot(this.ctx,this.foregroundColor),xt&&(this.ctx.transform(...xt),this.outputScaleX=xt[0],this.outputScaleY=xt[0]),this.ctx.transform(...Et.transform),this.viewportScale=Et.scale,this.baseTransform=(0,j.getCurrentTransform)(this.ctx),this.imageLayer&&((0,j.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(xt,Et,jt,Gt){const Ht=xt.argsArray,qt=xt.fnArray;let rn=Et||0;const sn=Ht.length;if(sn===rn)return rn;const vt=sn-rn>ht&&typeof jt=="function",Tt=vt?Date.now()+ft:0;let Nt=0;const Lt=this.commonObjs,zt=this.objs;let Zt;for(;;){if(Gt!==void 0&&rn===Gt.nextBreakPoint)return Gt.breakIt(rn,jt),rn;if(Zt=qt[rn],Zt!==_e.OPS.dependency)this[Zt].apply(this,Ht[rn]);else for(const mn of Ht[rn]){const En=mn.startsWith("g_")?Lt:zt;if(!En.has(mn))return En.get(mn,jt),rn}if(rn++,rn===sn)return rn;if(vt&&++Nt>ht){if(Date.now()>Tt)return jt(),rn;Nt=0}}}endDrawing(){Sn(this,tn,d_).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const xt of this._cachedBitmapsMap.values()){for(const Et of xt.values())typeof HTMLCanvasElement<"u"&&Et instanceof HTMLCanvasElement&&(Et.width=Et.height=0);xt.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(xt,Et){const jt=xt.width,Gt=xt.height;let Ht=Math.max(Math.hypot(Et[0],Et[1]),1),qt=Math.max(Math.hypot(Et[2],Et[3]),1),rn=jt,sn=Gt,vt="prescale1",Tt,Nt;for(;Ht>2&&rn>1||qt>2&&sn>1;){let Lt=rn,zt=sn;Ht>2&&rn>1&&(Lt=Math.ceil(rn/2),Ht/=rn/Lt),qt>2&&sn>1&&(zt=Math.ceil(sn/2),qt/=sn/zt),Tt=this.cachedCanvases.getCanvas(vt,Lt,zt),Nt=Tt.context,Nt.clearRect(0,0,Lt,zt),Nt.drawImage(xt,0,0,rn,sn,0,0,Lt,zt),xt=Tt.canvas,rn=Lt,sn=zt,vt=vt==="prescale1"?"prescale2":"prescale1"}return{img:xt,paintWidth:rn,paintHeight:sn}}_createMaskCanvas(xt){const Et=this.ctx,{width:jt,height:Gt}=xt,Ht=this.current.fillColor,qt=this.current.patternFill,rn=(0,j.getCurrentTransform)(Et);let sn,vt,Tt,Nt;if((xt.bitmap||xt.data)&&xt.count>1){const xn=xt.bitmap||xt.data.buffer,On=rn.slice(0,4);vt=JSON.stringify(qt?On:[On,Ht]),sn=this._cachedBitmapsMap.get(xn),sn||(sn=new Map,this._cachedBitmapsMap.set(xn,sn));const Ln=sn.get(vt);if(Ln&&!qt){const Vn=Math.round(Math.min(rn[0],rn[2])+rn[4]),Yn=Math.round(Math.min(rn[1],rn[3])+rn[5]);return{canvas:Ln,offsetX:Vn,offsetY:Yn}}Tt=Ln}Tt||(Nt=this.cachedCanvases.getCanvas("maskCanvas",jt,Gt),Pt(Nt.context,xt));let Lt=_e.Util.transform(rn,[1/jt,0,0,-1/Gt,0,0]);Lt=_e.Util.transform(Lt,[1,0,0,1,0,-Gt]);const zt=_e.Util.applyTransform([0,0],Lt),Zt=_e.Util.applyTransform([jt,Gt],Lt),mn=_e.Util.normalizeRect([zt[0],zt[1],Zt[0],Zt[1]]),En=Math.round(mn[2]-mn[0])||1,un=Math.round(mn[3]-mn[1])||1,vn=this.cachedCanvases.getCanvas("fillCanvas",En,un),pn=vn.context,_n=Math.min(zt[0],Zt[0]),yn=Math.min(zt[1],Zt[1]);pn.translate(-_n,-yn),pn.transform(...Lt),Tt||(Tt=this._scaleImage(Nt.canvas,(0,j.getCurrentTransformInverse)(pn)),Tt=Tt.img,sn&&qt&&sn.set(vt,Tt)),pn.imageSmoothingEnabled=en((0,j.getCurrentTransform)(pn),xt.interpolate),ut(pn,Tt,0,0,Tt.width,Tt.height,0,0,jt,Gt),pn.globalCompositeOperation="source-in";const $t=_e.Util.transform((0,j.getCurrentTransformInverse)(pn),[1,0,0,1,-_n,-yn]);return pn.fillStyle=qt?Ht.getPattern(Et,this,$t,nt.PathType.FILL):Ht,pn.fillRect(0,0,jt,Gt),sn&&!qt&&(this.cachedCanvases.delete("fillCanvas"),sn.set(vt,vn.canvas)),{canvas:vn.canvas,offsetX:Math.round(_n),offsetY:Math.round(yn)}}setLineWidth(xt){xt!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=xt,this.ctx.lineWidth=xt}setLineCap(xt){this.ctx.lineCap=Xt[xt]}setLineJoin(xt){this.ctx.lineJoin=dn[xt]}setMiterLimit(xt){this.ctx.miterLimit=xt}setDash(xt,Et){const jt=this.ctx;jt.setLineDash!==void 0&&(jt.setLineDash(xt),jt.lineDashOffset=Et)}setRenderingIntent(xt){}setFlatness(xt){}setGState(xt){for(let Et=0,jt=xt.length;Et<jt;Et++){const Gt=xt[Et],Ht=Gt[0],qt=Gt[1];switch(Ht){case"LW":this.setLineWidth(qt);break;case"LC":this.setLineCap(qt);break;case"LJ":this.setLineJoin(qt);break;case"ML":this.setMiterLimit(qt);break;case"D":this.setDash(qt[0],qt[1]);break;case"RI":this.setRenderingIntent(qt);break;case"FL":this.setFlatness(qt);break;case"Font":this.setFont(qt[0],qt[1]);break;case"CA":this.current.strokeAlpha=Gt[1];break;case"ca":this.current.fillAlpha=Gt[1],this.ctx.globalAlpha=Gt[1];break;case"BM":this.ctx.globalCompositeOperation=qt;break;case"SMask":this.current.activeSMask=qt?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=qt}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const xt=this.inSMaskMode;this.current.activeSMask&&!xt?this.beginSMaskMode():!this.current.activeSMask&&xt&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const xt=this.ctx.canvas.width,Et=this.ctx.canvas.height,jt="smaskGroupAt"+this.groupLevel,Gt=this.cachedCanvases.getCanvas(jt,xt,Et);this.suspendedCtx=this.ctx,this.ctx=Gt.context;const Ht=this.ctx;Ht.setTransform(...(0,j.getCurrentTransform)(this.suspendedCtx)),It(this.suspendedCtx,Ht),lt(Ht,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),It(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(xt){if(!this.current.activeSMask)return;xt?(xt[0]=Math.floor(xt[0]),xt[1]=Math.floor(xt[1]),xt[2]=Math.ceil(xt[2]),xt[3]=Math.ceil(xt[3])):xt=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Et=this.current.activeSMask,jt=this.suspendedCtx;Vt(jt,Et,this.ctx,xt),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(It(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const xt=this.current;this.stateStack.push(xt),this.current=xt.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),It(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(xt,Et,jt,Gt,Ht,qt){this.ctx.transform(xt,Et,jt,Gt,Ht,qt),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(xt,Et,jt){const Gt=this.ctx,Ht=this.current;let qt=Ht.x,rn=Ht.y,sn,vt;const Tt=(0,j.getCurrentTransform)(Gt),Nt=Tt[0]===0&&Tt[3]===0||Tt[1]===0&&Tt[2]===0,Lt=Nt?jt.slice(0):null;for(let zt=0,Zt=0,mn=xt.length;zt<mn;zt++)switch(xt[zt]|0){case _e.OPS.rectangle:qt=Et[Zt++],rn=Et[Zt++];const En=Et[Zt++],un=Et[Zt++],vn=qt+En,pn=rn+un;Gt.moveTo(qt,rn),En===0||un===0?Gt.lineTo(vn,pn):(Gt.lineTo(vn,rn),Gt.lineTo(vn,pn),Gt.lineTo(qt,pn)),Nt||Ht.updateRectMinMax(Tt,[qt,rn,vn,pn]),Gt.closePath();break;case _e.OPS.moveTo:qt=Et[Zt++],rn=Et[Zt++],Gt.moveTo(qt,rn),Nt||Ht.updatePathMinMax(Tt,qt,rn);break;case _e.OPS.lineTo:qt=Et[Zt++],rn=Et[Zt++],Gt.lineTo(qt,rn),Nt||Ht.updatePathMinMax(Tt,qt,rn);break;case _e.OPS.curveTo:sn=qt,vt=rn,qt=Et[Zt+4],rn=Et[Zt+5],Gt.bezierCurveTo(Et[Zt],Et[Zt+1],Et[Zt+2],Et[Zt+3],qt,rn),Ht.updateCurvePathMinMax(Tt,sn,vt,Et[Zt],Et[Zt+1],Et[Zt+2],Et[Zt+3],qt,rn,Lt),Zt+=6;break;case _e.OPS.curveTo2:sn=qt,vt=rn,Gt.bezierCurveTo(qt,rn,Et[Zt],Et[Zt+1],Et[Zt+2],Et[Zt+3]),Ht.updateCurvePathMinMax(Tt,sn,vt,qt,rn,Et[Zt],Et[Zt+1],Et[Zt+2],Et[Zt+3],Lt),qt=Et[Zt+2],rn=Et[Zt+3],Zt+=4;break;case _e.OPS.curveTo3:sn=qt,vt=rn,qt=Et[Zt+2],rn=Et[Zt+3],Gt.bezierCurveTo(Et[Zt],Et[Zt+1],qt,rn,qt,rn),Ht.updateCurvePathMinMax(Tt,sn,vt,Et[Zt],Et[Zt+1],qt,rn,qt,rn,Lt),Zt+=4;break;case _e.OPS.closePath:Gt.closePath();break}Nt&&Ht.updateScalingPathMinMax(Tt,Lt),Ht.setCurrentPoint(qt,rn)}closePath(){this.ctx.closePath()}stroke(xt){xt=typeof xt<"u"?xt:!0;const Et=this.ctx,jt=this.current.strokeColor;Et.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof jt=="object"&&(jt!=null&&jt.getPattern)?(Et.save(),Et.strokeStyle=jt.getPattern(Et,this,(0,j.getCurrentTransformInverse)(Et),nt.PathType.STROKE),this.rescaleAndStroke(!1),Et.restore()):this.rescaleAndStroke(!0)),xt&&this.consumePath(this.current.getClippedPathBoundingBox()),Et.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(xt){xt=typeof xt<"u"?xt:!0;const Et=this.ctx,jt=this.current.fillColor,Gt=this.current.patternFill;let Ht=!1;Gt&&(Et.save(),Et.fillStyle=jt.getPattern(Et,this,(0,j.getCurrentTransformInverse)(Et),nt.PathType.FILL),Ht=!0);const qt=this.current.getClippedPathBoundingBox();this.contentVisible&&qt!==null&&(this.pendingEOFill?(Et.fill("evenodd"),this.pendingEOFill=!1):Et.fill()),Ht&&Et.restore(),xt&&this.consumePath(qt)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=an}eoClip(){this.pendingClip=Jt}beginText(){this.current.textMatrix=_e.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const xt=this.pendingTextPaths,Et=this.ctx;if(xt===void 0){Et.beginPath();return}Et.save(),Et.beginPath();for(const jt of xt)Et.setTransform(...jt.transform),Et.translate(jt.x,jt.y),jt.addToPath(Et,jt.fontSize);Et.restore(),Et.clip(),Et.beginPath(),delete this.pendingTextPaths}setCharSpacing(xt){this.current.charSpacing=xt}setWordSpacing(xt){this.current.wordSpacing=xt}setHScale(xt){this.current.textHScale=xt/100}setLeading(xt){this.current.leading=-xt}setFont(xt,Et){const jt=this.commonObjs.get(xt),Gt=this.current;if(!jt)throw new Error(`Can't find font for ${xt}`);if(Gt.fontMatrix=jt.fontMatrix||_e.FONT_IDENTITY_MATRIX,(Gt.fontMatrix[0]===0||Gt.fontMatrix[3]===0)&&(0,_e.warn)("Invalid font matrix for font "+xt),Et<0?(Et=-Et,Gt.fontDirection=-1):Gt.fontDirection=1,this.current.font=jt,this.current.fontSize=Et,jt.isType3Font)return;const Ht=jt.loadedName||"sans-serif";let qt="normal";jt.black?qt="900":jt.bold&&(qt="bold");const rn=jt.italic?"italic":"normal",sn=`"${Ht}", ${jt.fallbackName}`;let vt=Et;Et<it?vt=it:Et>ct&&(vt=ct),this.current.fontSizeScale=Et/vt,this.ctx.font=`${rn} ${qt} ${vt}px ${sn}`}setTextRenderingMode(xt){this.current.textRenderingMode=xt}setTextRise(xt){this.current.textRise=xt}moveText(xt,Et){this.current.x=this.current.lineX+=xt,this.current.y=this.current.lineY+=Et}setLeadingMoveText(xt,Et){this.setLeading(-Et),this.moveText(xt,Et)}setTextMatrix(xt,Et,jt,Gt,Ht,qt){this.current.textMatrix=[xt,Et,jt,Gt,Ht,qt],this.current.textMatrixScale=Math.hypot(xt,Et),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(xt,Et,jt,Gt){const Ht=this.ctx,qt=this.current,rn=qt.font,sn=qt.textRenderingMode,vt=qt.fontSize/qt.fontSizeScale,Tt=sn&_e.TextRenderingMode.FILL_STROKE_MASK,Nt=!!(sn&_e.TextRenderingMode.ADD_TO_PATH_FLAG),Lt=qt.patternFill&&!rn.missingFile;let zt;(rn.disableFontFace||Nt||Lt)&&(zt=rn.getPathGenerator(this.commonObjs,xt)),rn.disableFontFace||Lt?(Ht.save(),Ht.translate(Et,jt),Ht.beginPath(),zt(Ht,vt),Gt&&Ht.setTransform(...Gt),(Tt===_e.TextRenderingMode.FILL||Tt===_e.TextRenderingMode.FILL_STROKE)&&Ht.fill(),(Tt===_e.TextRenderingMode.STROKE||Tt===_e.TextRenderingMode.FILL_STROKE)&&Ht.stroke(),Ht.restore()):((Tt===_e.TextRenderingMode.FILL||Tt===_e.TextRenderingMode.FILL_STROKE)&&Ht.fillText(xt,Et,jt),(Tt===_e.TextRenderingMode.STROKE||Tt===_e.TextRenderingMode.FILL_STROKE)&&Ht.strokeText(xt,Et,jt)),Nt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,j.getCurrentTransform)(Ht),x:Et,y:jt,fontSize:vt,addToPath:zt})}get isFontSubpixelAAEnabled(){const{context:xt}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);xt.scale(1.5,1),xt.fillText("I",0,10);const Et=xt.getImageData(0,0,10,10).data;let jt=!1;for(let Gt=3;Gt<Et.length;Gt+=4)if(Et[Gt]>0&&Et[Gt]<255){jt=!0;break}return(0,_e.shadow)(this,"isFontSubpixelAAEnabled",jt)}showText(xt){const Et=this.current,jt=Et.font;if(jt.isType3Font)return this.showType3Text(xt);const Gt=Et.fontSize;if(Gt===0)return;const Ht=this.ctx,qt=Et.fontSizeScale,rn=Et.charSpacing,sn=Et.wordSpacing,vt=Et.fontDirection,Tt=Et.textHScale*vt,Nt=xt.length,Lt=jt.vertical,zt=Lt?1:-1,Zt=jt.defaultVMetrics,mn=Gt*Et.fontMatrix[0],En=Et.textRenderingMode===_e.TextRenderingMode.FILL&&!jt.disableFontFace&&!Et.patternFill;Ht.save(),Ht.transform(...Et.textMatrix),Ht.translate(Et.x,Et.y+Et.textRise),vt>0?Ht.scale(Tt,-1):Ht.scale(Tt,1);let un;if(Et.patternFill){Ht.save();const $t=Et.fillColor.getPattern(Ht,this,(0,j.getCurrentTransformInverse)(Ht),nt.PathType.FILL);un=(0,j.getCurrentTransform)(Ht),Ht.restore(),Ht.fillStyle=$t}let vn=Et.lineWidth;const pn=Et.textMatrixScale;if(pn===0||vn===0){const $t=Et.textRenderingMode&_e.TextRenderingMode.FILL_STROKE_MASK;($t===_e.TextRenderingMode.STROKE||$t===_e.TextRenderingMode.FILL_STROKE)&&(vn=this.getSinglePixelWidth())}else vn/=pn;qt!==1&&(Ht.scale(qt,qt),vn/=qt),Ht.lineWidth=vn;let _n=0,yn;for(yn=0;yn<Nt;++yn){const $t=xt[yn];if(typeof $t=="number"){_n+=zt*$t*Gt/1e3;continue}let xn=!1;const On=($t.isSpace?sn:0)+rn,Ln=$t.fontChar,Vn=$t.accent;let Yn,bo,no=$t.width;if(Lt){const $n=$t.vmetric||Zt,ho=-($t.vmetric?$n[1]:no*.5)*mn,tr=$n[2]*mn;no=$n?-$n[0]:no,Yn=ho/qt,bo=(_n+tr)/qt}else Yn=_n/qt,bo=0;if(jt.remeasure&&no>0){const $n=Ht.measureText(Ln).width*1e3/Gt*qt;if(no<$n&&this.isFontSubpixelAAEnabled){const ho=no/$n;xn=!0,Ht.save(),Ht.scale(ho,1),Yn/=ho}else no!==$n&&(Yn+=(no-$n)/2e3*Gt/qt)}if(this.contentVisible&&($t.isInFont||jt.missingFile)){if(En&&!Vn)Ht.fillText(Ln,Yn,bo);else if(this.paintChar(Ln,Yn,bo,un),Vn){const $n=Yn+Gt*Vn.offset.x/qt,ho=bo-Gt*Vn.offset.y/qt;this.paintChar(Vn.fontChar,$n,ho,un)}}let sr;Lt?sr=no*mn-On*vt:sr=no*mn+On*vt,_n+=sr,xn&&Ht.restore()}Lt?Et.y-=_n:Et.x+=_n*Tt,Ht.restore(),this.compose()}showType3Text(xt){const Et=this.ctx,jt=this.current,Gt=jt.font,Ht=jt.fontSize,qt=jt.fontDirection,rn=Gt.vertical?1:-1,sn=jt.charSpacing,vt=jt.wordSpacing,Tt=jt.textHScale*qt,Nt=jt.fontMatrix||_e.FONT_IDENTITY_MATRIX,Lt=xt.length,zt=jt.textRenderingMode===_e.TextRenderingMode.INVISIBLE;let Zt,mn,En,un;if(!(zt||Ht===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,Et.save(),Et.transform(...jt.textMatrix),Et.translate(jt.x,jt.y),Et.scale(Tt,qt),Zt=0;Zt<Lt;++Zt){if(mn=xt[Zt],typeof mn=="number"){un=rn*mn*Ht/1e3,this.ctx.translate(un,0),jt.x+=un*Tt;continue}const vn=(mn.isSpace?vt:0)+sn,pn=Gt.charProcOperatorList[mn.operatorListId];if(!pn){(0,_e.warn)(`Type3 character "${mn.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=mn,this.save(),Et.scale(Ht,Ht),Et.transform(...Nt),this.executeOperatorList(pn),this.restore()),En=_e.Util.applyTransform([mn.width,0],Nt)[0]*Ht+vn,Et.translate(En,0),jt.x+=En*Tt}Et.restore(),this.processingType3=null}}setCharWidth(xt,Et){}setCharWidthAndBounds(xt,Et,jt,Gt,Ht,qt){this.ctx.rect(jt,Gt,Ht-jt,qt-Gt),this.ctx.clip(),this.endPath()}getColorN_Pattern(xt){let Et;if(xt[0]==="TilingPattern"){const jt=xt[1],Gt=this.baseTransform||(0,j.getCurrentTransform)(this.ctx),Ht={createCanvasGraphics:qt=>new fn(qt,this.commonObjs,this.objs,this.canvasFactory)};Et=new nt.TilingPattern(xt,jt,this.ctx,Ht,Gt)}else Et=this._getPattern(xt[1],xt[2]);return Et}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(xt,Et,jt){var Ht;const Gt=((Ht=this.selectColor)==null?void 0:Ht.call(this,xt,Et,jt))||_e.Util.makeHexColor(xt,Et,jt);this.ctx.strokeStyle=Gt,this.current.strokeColor=Gt}setFillRGBColor(xt,Et,jt){var Ht;const Gt=((Ht=this.selectColor)==null?void 0:Ht.call(this,xt,Et,jt))||_e.Util.makeHexColor(xt,Et,jt);this.ctx.fillStyle=Gt,this.current.fillColor=Gt,this.current.patternFill=!1}_getPattern(xt,Et=null){let jt;return this.cachedPatterns.has(xt)?jt=this.cachedPatterns.get(xt):(jt=(0,nt.getShadingPattern)(this.objs.get(xt)),this.cachedPatterns.set(xt,jt)),Et&&(jt.matrix=Et),jt}shadingFill(xt){if(!this.contentVisible)return;const Et=this.ctx;this.save();const jt=this._getPattern(xt);Et.fillStyle=jt.getPattern(Et,this,(0,j.getCurrentTransformInverse)(Et),nt.PathType.SHADING);const Gt=(0,j.getCurrentTransformInverse)(Et);if(Gt){const Ht=Et.canvas,qt=Ht.width,rn=Ht.height,sn=_e.Util.applyTransform([0,0],Gt),vt=_e.Util.applyTransform([0,rn],Gt),Tt=_e.Util.applyTransform([qt,0],Gt),Nt=_e.Util.applyTransform([qt,rn],Gt),Lt=Math.min(sn[0],vt[0],Tt[0],Nt[0]),zt=Math.min(sn[1],vt[1],Tt[1],Nt[1]),Zt=Math.max(sn[0],vt[0],Tt[0],Nt[0]),mn=Math.max(sn[1],vt[1],Tt[1],Nt[1]);this.ctx.fillRect(Lt,zt,Zt-Lt,mn-zt)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,_e.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,_e.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(xt,Et){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(xt)&&xt.length===6&&this.transform(...xt),this.baseTransform=(0,j.getCurrentTransform)(this.ctx),Et)){const jt=Et[2]-Et[0],Gt=Et[3]-Et[1];this.ctx.rect(Et[0],Et[1],jt,Gt),this.current.updateRectMinMax((0,j.getCurrentTransform)(this.ctx),Et),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(xt){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Et=this.ctx;xt.isolated||(0,_e.info)("TODO: Support non-isolated groups."),xt.knockout&&(0,_e.warn)("Knockout groups not supported.");const jt=(0,j.getCurrentTransform)(Et);if(xt.matrix&&Et.transform(...xt.matrix),!xt.bbox)throw new Error("Bounding box is required.");let Gt=_e.Util.getAxialAlignedBoundingBox(xt.bbox,(0,j.getCurrentTransform)(Et));const Ht=[0,0,Et.canvas.width,Et.canvas.height];Gt=_e.Util.intersect(Gt,Ht)||[0,0,0,0];const qt=Math.floor(Gt[0]),rn=Math.floor(Gt[1]);let sn=Math.max(Math.ceil(Gt[2])-qt,1),vt=Math.max(Math.ceil(Gt[3])-rn,1),Tt=1,Nt=1;sn>gt&&(Tt=sn/gt,sn=gt),vt>gt&&(Nt=vt/gt,vt=gt),this.current.startNewPathAndClipBox([0,0,sn,vt]);let Lt="groupAt"+this.groupLevel;xt.smask&&(Lt+="_smask_"+this.smaskCounter++%2);const zt=this.cachedCanvases.getCanvas(Lt,sn,vt),Zt=zt.context;Zt.scale(1/Tt,1/Nt),Zt.translate(-qt,-rn),Zt.transform(...jt),xt.smask?this.smaskStack.push({canvas:zt.canvas,context:Zt,offsetX:qt,offsetY:rn,scaleX:Tt,scaleY:Nt,subtype:xt.smask.subtype,backdrop:xt.smask.backdrop,transferMap:xt.smask.transferMap||null,startTransformInverse:null}):(Et.setTransform(1,0,0,1,0,0),Et.translate(qt,rn),Et.scale(Tt,Nt),Et.save()),It(Et,Zt),this.ctx=Zt,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Et),this.groupLevel++}endGroup(xt){if(!this.contentVisible)return;this.groupLevel--;const Et=this.ctx,jt=this.groupStack.pop();if(this.ctx=jt,this.ctx.imageSmoothingEnabled=!1,xt.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Gt=(0,j.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Gt);const Ht=_e.Util.getAxialAlignedBoundingBox([0,0,Et.canvas.width,Et.canvas.height],Gt);this.ctx.drawImage(Et.canvas,0,0),this.ctx.restore(),this.compose(Ht)}}beginAnnotation(xt,Et,jt,Gt,Ht){if(Sn(this,tn,d_).call(this),Ot(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(Et)&&Et.length===4){const qt=Et[2]-Et[0],rn=Et[3]-Et[1];if(Ht&&this.annotationCanvasMap){jt=jt.slice(),jt[4]-=Et[0],jt[5]-=Et[1],Et=Et.slice(),Et[0]=Et[1]=0,Et[2]=qt,Et[3]=rn;const[sn,vt]=_e.Util.singularValueDecompose2dScale((0,j.getCurrentTransform)(this.ctx)),{viewportScale:Tt}=this,Nt=Math.ceil(qt*this.outputScaleX*Tt),Lt=Math.ceil(rn*this.outputScaleY*Tt);this.annotationCanvas=this.canvasFactory.create(Nt,Lt);const{canvas:zt,context:Zt}=this.annotationCanvas;this.annotationCanvasMap.set(xt,zt),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Zt,this.ctx.setTransform(sn,0,0,-vt,0,rn*vt),Ot(this.ctx,this.foregroundColor)}else Ot(this.ctx,this.foregroundColor),this.ctx.rect(Et[0],Et[1],qt,rn),this.ctx.clip(),this.endPath()}this.current=new pt(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...jt),this.transform(...Gt)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(xt){if(!this.contentVisible)return;const Et=xt.count;xt=this.getObject(xt.data,xt),xt.count=Et;const jt=this.ctx,Gt=this.processingType3;if(Gt&&(Gt.compiled===void 0&&(Gt.compiled=kt(xt)),Gt.compiled)){Gt.compiled(jt);return}const Ht=this._createMaskCanvas(xt),qt=Ht.canvas;jt.save(),jt.setTransform(1,0,0,1,0,0),jt.drawImage(qt,Ht.offsetX,Ht.offsetY),jt.restore(),this.compose()}paintImageMaskXObjectRepeat(xt,Et,jt=0,Gt=0,Ht,qt){if(!this.contentVisible)return;xt=this.getObject(xt.data,xt);const rn=this.ctx;rn.save();const sn=(0,j.getCurrentTransform)(rn);rn.transform(Et,jt,Gt,Ht,0,0);const vt=this._createMaskCanvas(xt);rn.setTransform(1,0,0,1,0,0);for(let Tt=0,Nt=qt.length;Tt<Nt;Tt+=2){const Lt=_e.Util.transform(sn,[Et,jt,Gt,Ht,qt[Tt],qt[Tt+1]]),[zt,Zt]=_e.Util.applyTransform([0,0],Lt);rn.drawImage(vt.canvas,zt,Zt)}rn.restore(),this.compose()}paintImageMaskXObjectGroup(xt){if(!this.contentVisible)return;const Et=this.ctx,jt=this.current.fillColor,Gt=this.current.patternFill;for(const Ht of xt){const{data:qt,width:rn,height:sn,transform:vt}=Ht,Tt=this.cachedCanvases.getCanvas("maskCanvas",rn,sn),Nt=Tt.context;Nt.save();const Lt=this.getObject(qt,Ht);Pt(Nt,Lt),Nt.globalCompositeOperation="source-in",Nt.fillStyle=Gt?jt.getPattern(Nt,this,(0,j.getCurrentTransformInverse)(Et),nt.PathType.FILL):jt,Nt.fillRect(0,0,rn,sn),Nt.restore(),Et.save(),Et.transform(...vt),Et.scale(1,-1),ut(Et,Tt.canvas,0,0,rn,sn,0,-1,1,1),Et.restore()}this.compose()}paintImageXObject(xt){if(!this.contentVisible)return;const Et=this.getObject(xt);if(!Et){(0,_e.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(Et)}paintImageXObjectRepeat(xt,Et,jt,Gt){if(!this.contentVisible)return;const Ht=this.getObject(xt);if(!Ht){(0,_e.warn)("Dependent image isn't ready yet");return}const qt=Ht.width,rn=Ht.height,sn=[];for(let vt=0,Tt=Gt.length;vt<Tt;vt+=2)sn.push({transform:[Et,0,0,jt,Gt[vt],Gt[vt+1]],x:0,y:0,w:qt,h:rn});this.paintInlineImageXObjectGroup(Ht,sn)}paintInlineImageXObject(xt){if(!this.contentVisible)return;const Et=xt.width,jt=xt.height,Gt=this.ctx;this.save(),Gt.scale(1/Et,-1/jt);let Ht;if(typeof HTMLElement=="function"&&xt instanceof HTMLElement||!xt.data)Ht=xt;else{const vt=this.cachedCanvases.getCanvas("inlineImage",Et,jt),Tt=vt.context;mt(Tt,xt,this.current.transferMaps),Ht=vt.canvas}const qt=this._scaleImage(Ht,(0,j.getCurrentTransformInverse)(Gt));Gt.imageSmoothingEnabled=en((0,j.getCurrentTransform)(Gt),xt.interpolate);const[rn,sn]=ut(Gt,qt.img,0,0,qt.paintWidth,qt.paintHeight,0,-jt,Et,jt);if(this.imageLayer){const[vt,Tt]=_e.Util.applyTransform([0,-jt],(0,j.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:xt,left:vt,top:Tt,width:rn,height:sn})}this.compose(),this.restore()}paintInlineImageXObjectGroup(xt,Et){if(!this.contentVisible)return;const jt=this.ctx,Gt=xt.width,Ht=xt.height,qt=this.cachedCanvases.getCanvas("inlineImage",Gt,Ht),rn=qt.context;mt(rn,xt,this.current.transferMaps);for(const sn of Et){if(jt.save(),jt.transform(...sn.transform),jt.scale(1,-1),ut(jt,qt.canvas,sn.x,sn.y,sn.w,sn.h,0,-1,1,1),this.imageLayer){const[vt,Tt]=_e.Util.applyTransform([sn.x,sn.y],(0,j.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:xt,left:vt,top:Tt,width:Gt,height:Ht})}jt.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(xt){}markPointProps(xt,Et){}beginMarkedContent(xt){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(xt,Et){xt==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Et)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(xt){const Et=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(xt);const jt=this.ctx;this.pendingClip&&(Et||(this.pendingClip===Jt?jt.clip("evenodd"):jt.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),jt.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const xt=(0,j.getCurrentTransform)(this.ctx);if(xt[1]===0&&xt[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(xt[0]),Math.abs(xt[3]));else{const Et=Math.abs(xt[0]*xt[3]-xt[2]*xt[1]),jt=Math.hypot(xt[0],xt[2]),Gt=Math.hypot(xt[1],xt[3]);this._cachedGetSinglePixelWidth=Math.max(jt,Gt)/Et}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:xt}=this.current,Et=(0,j.getCurrentTransform)(this.ctx);let jt,Gt;if(Et[1]===0&&Et[2]===0){const Ht=Math.abs(Et[0]),qt=Math.abs(Et[3]);if(xt===0)jt=1/Ht,Gt=1/qt;else{const rn=Ht*xt,sn=qt*xt;jt=rn<1?1/rn:1,Gt=sn<1?1/sn:1}}else{const Ht=Math.abs(Et[0]*Et[3]-Et[2]*Et[1]),qt=Math.hypot(Et[0],Et[1]),rn=Math.hypot(Et[2],Et[3]);if(xt===0)jt=rn/Ht,Gt=qt/Ht;else{const sn=xt*Ht;jt=rn>sn?rn/sn:1,Gt=qt>sn?qt/sn:1}}this._cachedScaleForStroking=[jt,Gt]}return this._cachedScaleForStroking}rescaleAndStroke(xt){const{ctx:Et}=this,{lineWidth:jt}=this.current,[Gt,Ht]=this.getScaleForStroking();if(Et.lineWidth=jt||1,Gt===1&&Ht===1){Et.stroke();return}let qt,rn,sn;xt&&(qt=(0,j.getCurrentTransform)(Et),rn=Et.getLineDash().slice(),sn=Et.lineDashOffset),Et.scale(Gt,Ht);const vt=Math.max(Gt,Ht);Et.setLineDash(Et.getLineDash().map(Tt=>Tt/vt)),Et.lineDashOffset/=vt,Et.stroke(),xt&&(Et.setTransform(...qt),Et.setLineDash(rn),Et.lineDashOffset=sn)}isContentVisible(){for(let xt=this.markedContentStack.length-1;xt>=0;xt--)if(!this.markedContentStack[xt].visible)return!1;return!0}};let Kt=fn;tn=new WeakSet,d_=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},d.CanvasGraphics=Kt;for(const Wt in _e.OPS)Kt.prototype[Wt]!==void 0&&(Kt.prototype[_e.OPS[Wt]]=Kt.prototype[Wt])},(c,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TilingPattern=d.PathType=void 0,d.getShadingPattern=wt;var j=b(1),_e=b(8),nt=b(3);const rt={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};d.PathType=rt;function st(ut,kt){if(!kt||nt.isNodeJS)return;const pt=kt[2]-kt[0],mt=kt[3]-kt[1],Pt=new Path2D;Pt.rect(kt[0],kt[1],pt,mt),ut.clip(Pt)}class it{constructor(){this.constructor===it&&(0,j.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,j.unreachable)("Abstract method `getPattern` called.")}}class ct extends it{constructor(kt){super(),this._type=kt[1],this._bbox=kt[2],this._colorStops=kt[3],this._p0=kt[4],this._p1=kt[5],this._r0=kt[6],this._r1=kt[7],this.matrix=null}_createGradient(kt){let pt;this._type==="axial"?pt=kt.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(pt=kt.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const mt of this._colorStops)pt.addColorStop(mt[0],mt[1]);return pt}getPattern(kt,pt,mt,Pt){let It;if(Pt===rt.STROKE||Pt===rt.FILL){const Ot=pt.current.getClippedPathBoundingBox(Pt,(0,_e.getCurrentTransform)(kt))||[0,0,0,0],at=Math.ceil(Ot[2]-Ot[0])||1,yt=Math.ceil(Ot[3]-Ot[1])||1,Ct=pt.cachedCanvases.getCanvas("pattern",at,yt,!0),Bt=Ct.context;Bt.clearRect(0,0,Bt.canvas.width,Bt.canvas.height),Bt.beginPath(),Bt.rect(0,0,Bt.canvas.width,Bt.canvas.height),Bt.translate(-Ot[0],-Ot[1]),mt=j.Util.transform(mt,[1,0,0,1,Ot[0],Ot[1]]),Bt.transform(...pt.baseTransform),this.matrix&&Bt.transform(...this.matrix),st(Bt,this._bbox),Bt.fillStyle=this._createGradient(Bt),Bt.fill(),It=kt.createPattern(Ct.canvas,"no-repeat");const Vt=new DOMMatrix(mt);try{It.setTransform(Vt)}catch(en){(0,j.warn)(`RadialAxialShadingPattern.getPattern: "${en==null?void 0:en.message}".`)}}else st(kt,this._bbox),It=this._createGradient(kt);return It}}function gt(ut,kt,pt,mt,Pt,It,Ot,at){const yt=kt.coords,Ct=kt.colors,Bt=ut.data,Vt=ut.width*4;let en;yt[pt+1]>yt[mt+1]&&(en=pt,pt=mt,mt=en,en=It,It=Ot,Ot=en),yt[mt+1]>yt[Pt+1]&&(en=mt,mt=Pt,Pt=en,en=Ot,Ot=at,at=en),yt[pt+1]>yt[mt+1]&&(en=pt,pt=mt,mt=en,en=It,It=Ot,Ot=en);const Xt=(yt[pt]+kt.offsetX)*kt.scaleX,dn=(yt[pt+1]+kt.offsetY)*kt.scaleY,an=(yt[mt]+kt.offsetX)*kt.scaleX,Jt=(yt[mt+1]+kt.offsetY)*kt.scaleY,Kt=(yt[Pt]+kt.offsetX)*kt.scaleX,tn=(yt[Pt+1]+kt.offsetY)*kt.scaleY;if(dn>=tn)return;const hn=Ct[It],fn=Ct[It+1],Wt=Ct[It+2],xt=Ct[Ot],Et=Ct[Ot+1],jt=Ct[Ot+2],Gt=Ct[at],Ht=Ct[at+1],qt=Ct[at+2],rn=Math.round(dn),sn=Math.round(tn);let vt,Tt,Nt,Lt,zt,Zt,mn,En;for(let un=rn;un<=sn;un++){if(un<Jt){let $t;un<dn?$t=0:$t=(dn-un)/(dn-Jt),vt=Xt-(Xt-an)*$t,Tt=hn-(hn-xt)*$t,Nt=fn-(fn-Et)*$t,Lt=Wt-(Wt-jt)*$t}else{let $t;un>tn?$t=1:Jt===tn?$t=0:$t=(Jt-un)/(Jt-tn),vt=an-(an-Kt)*$t,Tt=xt-(xt-Gt)*$t,Nt=Et-(Et-Ht)*$t,Lt=jt-(jt-qt)*$t}let vn;un<dn?vn=0:un>tn?vn=1:vn=(dn-un)/(dn-tn),zt=Xt-(Xt-Kt)*vn,Zt=hn-(hn-Gt)*vn,mn=fn-(fn-Ht)*vn,En=Wt-(Wt-qt)*vn;const pn=Math.round(Math.min(vt,zt)),_n=Math.round(Math.max(vt,zt));let yn=Vt*un+pn*4;for(let $t=pn;$t<=_n;$t++)vn=(vt-$t)/(vt-zt),vn<0?vn=0:vn>1&&(vn=1),Bt[yn++]=Tt-(Tt-Zt)*vn|0,Bt[yn++]=Nt-(Nt-mn)*vn|0,Bt[yn++]=Lt-(Lt-En)*vn|0,Bt[yn++]=255}}function ft(ut,kt,pt){const mt=kt.coords,Pt=kt.colors;let It,Ot;switch(kt.type){case"lattice":const at=kt.verticesPerRow,yt=Math.floor(mt.length/at)-1,Ct=at-1;for(It=0;It<yt;It++){let Bt=It*at;for(let Vt=0;Vt<Ct;Vt++,Bt++)gt(ut,pt,mt[Bt],mt[Bt+1],mt[Bt+at],Pt[Bt],Pt[Bt+1],Pt[Bt+at]),gt(ut,pt,mt[Bt+at+1],mt[Bt+1],mt[Bt+at],Pt[Bt+at+1],Pt[Bt+1],Pt[Bt+at])}break;case"triangles":for(It=0,Ot=mt.length;It<Ot;It+=3)gt(ut,pt,mt[It],mt[It+1],mt[It+2],Pt[It],Pt[It+1],Pt[It+2]);break;default:throw new Error("illegal figure")}}class ht extends it{constructor(kt){super(),this._coords=kt[2],this._colors=kt[3],this._figures=kt[4],this._bounds=kt[5],this._bbox=kt[7],this._background=kt[8],this.matrix=null}_createMeshCanvas(kt,pt,mt){const at=Math.floor(this._bounds[0]),yt=Math.floor(this._bounds[1]),Ct=Math.ceil(this._bounds[2])-at,Bt=Math.ceil(this._bounds[3])-yt,Vt=Math.min(Math.ceil(Math.abs(Ct*kt[0]*1.1)),3e3),en=Math.min(Math.ceil(Math.abs(Bt*kt[1]*1.1)),3e3),Xt=Ct/Vt,dn=Bt/en,an={coords:this._coords,colors:this._colors,offsetX:-at,offsetY:-yt,scaleX:1/Xt,scaleY:1/dn},Jt=Vt+2*2,Kt=en+2*2,tn=mt.getCanvas("mesh",Jt,Kt,!1),hn=tn.context,fn=hn.createImageData(Vt,en);if(pt){const xt=fn.data;for(let Et=0,jt=xt.length;Et<jt;Et+=4)xt[Et]=pt[0],xt[Et+1]=pt[1],xt[Et+2]=pt[2],xt[Et+3]=255}for(const xt of this._figures)ft(fn,xt,an);return hn.putImageData(fn,2,2),{canvas:tn.canvas,offsetX:at-2*Xt,offsetY:yt-2*dn,scaleX:Xt,scaleY:dn}}getPattern(kt,pt,mt,Pt){st(kt,this._bbox);let It;if(Pt===rt.SHADING)It=j.Util.singularValueDecompose2dScale((0,_e.getCurrentTransform)(kt));else if(It=j.Util.singularValueDecompose2dScale(pt.baseTransform),this.matrix){const at=j.Util.singularValueDecompose2dScale(this.matrix);It=[It[0]*at[0],It[1]*at[1]]}const Ot=this._createMeshCanvas(It,Pt===rt.SHADING?null:this._background,pt.cachedCanvases);return Pt!==rt.SHADING&&(kt.setTransform(...pt.baseTransform),this.matrix&&kt.transform(...this.matrix)),kt.translate(Ot.offsetX,Ot.offsetY),kt.scale(Ot.scaleX,Ot.scaleY),kt.createPattern(Ot.canvas,"no-repeat")}}class bt extends it{getPattern(){return"hotpink"}}function wt(ut){switch(ut[0]){case"RadialAxial":return new ct(ut);case"Mesh":return new ht(ut);case"Dummy":return new bt}throw new Error(`Unknown IR type: ${ut[0]}`)}const lt={COLORED:1,UNCOLORED:2};class _t{static get MAX_PATTERN_SIZE(){return(0,j.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(kt,pt,mt,Pt,It){this.operatorList=kt[2],this.matrix=kt[3]||[1,0,0,1,0,0],this.bbox=kt[4],this.xstep=kt[5],this.ystep=kt[6],this.paintType=kt[7],this.tilingType=kt[8],this.color=pt,this.ctx=mt,this.canvasGraphicsFactory=Pt,this.baseTransform=It}createPatternCanvas(kt){const pt=this.operatorList,mt=this.bbox,Pt=this.xstep,It=this.ystep,Ot=this.paintType,at=this.tilingType,yt=this.color,Ct=this.canvasGraphicsFactory;(0,j.info)("TilingType: "+at);const Bt=mt[0],Vt=mt[1],en=mt[2],Xt=mt[3],dn=j.Util.singularValueDecompose2dScale(this.matrix),an=j.Util.singularValueDecompose2dScale(this.baseTransform),Jt=[dn[0]*an[0],dn[1]*an[1]],Kt=this.getSizeAndScale(Pt,this.ctx.canvas.width,Jt[0]),tn=this.getSizeAndScale(It,this.ctx.canvas.height,Jt[1]),hn=kt.cachedCanvases.getCanvas("pattern",Kt.size,tn.size,!0),fn=hn.context,Wt=Ct.createCanvasGraphics(fn);Wt.groupLevel=kt.groupLevel,this.setFillAndStrokeStyleToContext(Wt,Ot,yt);let xt=Bt,Et=Vt,jt=en,Gt=Xt;return Bt<0&&(xt=0,jt+=Math.abs(Bt)),Vt<0&&(Et=0,Gt+=Math.abs(Vt)),fn.translate(-(Kt.scale*xt),-(tn.scale*Et)),Wt.transform(Kt.scale,0,0,tn.scale,0,0),fn.save(),this.clipBbox(Wt,xt,Et,jt,Gt),Wt.baseTransform=(0,_e.getCurrentTransform)(Wt.ctx),Wt.executeOperatorList(pt),Wt.endDrawing(),{canvas:hn.canvas,scaleX:Kt.scale,scaleY:tn.scale,offsetX:xt,offsetY:Et}}getSizeAndScale(kt,pt,mt){kt=Math.abs(kt);const Pt=Math.max(_t.MAX_PATTERN_SIZE,pt);let It=Math.ceil(kt*mt);return It>=Pt?It=Pt:mt=It/kt,{scale:mt,size:It}}clipBbox(kt,pt,mt,Pt,It){const Ot=Pt-pt,at=It-mt;kt.ctx.rect(pt,mt,Ot,at),kt.current.updateRectMinMax((0,_e.getCurrentTransform)(kt.ctx),[pt,mt,Pt,It]),kt.clip(),kt.endPath()}setFillAndStrokeStyleToContext(kt,pt,mt){const Pt=kt.ctx,It=kt.current;switch(pt){case lt.COLORED:const Ot=this.ctx;Pt.fillStyle=Ot.fillStyle,Pt.strokeStyle=Ot.strokeStyle,It.fillColor=Ot.fillStyle,It.strokeColor=Ot.strokeStyle;break;case lt.UNCOLORED:const at=j.Util.makeHexColor(mt[0],mt[1],mt[2]);Pt.fillStyle=at,Pt.strokeStyle=at,It.fillColor=at,It.strokeColor=at;break;default:throw new j.FormatError(`Unsupported paint type: ${pt}`)}}getPattern(kt,pt,mt,Pt){let It=mt;Pt!==rt.SHADING&&(It=j.Util.transform(It,pt.baseTransform),this.matrix&&(It=j.Util.transform(It,this.matrix)));const Ot=this.createPatternCanvas(pt);let at=new DOMMatrix(It);at=at.translate(Ot.offsetX,Ot.offsetY),at=at.scale(1/Ot.scaleX,1/Ot.scaleY);const yt=kt.createPattern(Ot.canvas,"repeat");try{yt.setTransform(at)}catch(Ct){(0,j.warn)(`TilingPattern.getPattern: "${Ct==null?void 0:Ct.message}".`)}return yt}}d.TilingPattern=_t},(c,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.applyMaskImageData=_e;var j=b(1);function _e({src:nt,srcPos:rt=0,dest:st,destPos:it=0,width:ct,height:gt,inverseDecode:ft=!1}){const ht=j.FeatureTest.isLittleEndian?4278190080:255,[bt,wt]=ft?[0,ht]:[ht,0],lt=ct>>3,_t=ct&7,ut=nt.length;st=new Uint32Array(st.buffer);for(let kt=0;kt<gt;kt++){for(const mt=rt+lt;rt<mt;rt++){const Pt=rt<ut?nt[rt]:255;st[it++]=Pt&128?wt:bt,st[it++]=Pt&64?wt:bt,st[it++]=Pt&32?wt:bt,st[it++]=Pt&16?wt:bt,st[it++]=Pt&8?wt:bt,st[it++]=Pt&4?wt:bt,st[it++]=Pt&2?wt:bt,st[it++]=Pt&1?wt:bt}if(_t===0)continue;const pt=rt<ut?nt[rt++]:255;for(let mt=0;mt<_t;mt++)st[it++]=pt&1<<7-mt?wt:bt}return{srcPos:rt,destPos:it}}},(c,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.GlobalWorkerOptions=void 0;const b=Object.create(null);d.GlobalWorkerOptions=b,b.workerPort=b.workerPort===void 0?null:b.workerPort,b.workerSrc=b.workerSrc===void 0?"":b.workerSrc},(c,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.MessageHandler=void 0;var j=b(1);const _e={UNKNOWN:0,DATA:1,ERROR:2},nt={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function rt(it){switch(it instanceof Error||typeof it=="object"&&it!==null||(0,j.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),it.name){case"AbortException":return new j.AbortException(it.message);case"MissingPDFException":return new j.MissingPDFException(it.message);case"PasswordException":return new j.PasswordException(it.message,it.code);case"UnexpectedResponseException":return new j.UnexpectedResponseException(it.message,it.status);case"UnknownErrorException":return new j.UnknownErrorException(it.message,it.details);default:return new j.UnknownErrorException(it.message,it.toString())}}class st{constructor(ct,gt,ft){this.sourceName=ct,this.targetName=gt,this.comObj=ft,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=ht=>{const bt=ht.data;if(bt.targetName!==this.sourceName)return;if(bt.stream){this._processStreamMessage(bt);return}if(bt.callback){const lt=bt.callbackId,_t=this.callbackCapabilities[lt];if(!_t)throw new Error(`Cannot resolve callback ${lt}`);if(delete this.callbackCapabilities[lt],bt.callback===_e.DATA)_t.resolve(bt.data);else if(bt.callback===_e.ERROR)_t.reject(rt(bt.reason));else throw new Error("Unexpected callback case");return}const wt=this.actionHandler[bt.action];if(!wt)throw new Error(`Unknown action from worker: ${bt.action}`);if(bt.callbackId){const lt=this.sourceName,_t=bt.sourceName;new Promise(function(ut){ut(wt(bt.data))}).then(function(ut){ft.postMessage({sourceName:lt,targetName:_t,callback:_e.DATA,callbackId:bt.callbackId,data:ut})},function(ut){ft.postMessage({sourceName:lt,targetName:_t,callback:_e.ERROR,callbackId:bt.callbackId,reason:rt(ut)})});return}if(bt.streamId){this._createStreamSink(bt);return}wt(bt.data)},ft.addEventListener("message",this._onComObjOnMessage)}on(ct,gt){const ft=this.actionHandler;if(ft[ct])throw new Error(`There is already an actionName called "${ct}"`);ft[ct]=gt}send(ct,gt,ft){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ct,data:gt},ft)}sendWithPromise(ct,gt,ft){const ht=this.callbackId++,bt=(0,j.createPromiseCapability)();this.callbackCapabilities[ht]=bt;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ct,callbackId:ht,data:gt},ft)}catch(wt){bt.reject(wt)}return bt.promise}sendWithStream(ct,gt,ft,ht){const bt=this.streamId++,wt=this.sourceName,lt=this.targetName,_t=this.comObj;return new ReadableStream({start:ut=>{const kt=(0,j.createPromiseCapability)();return this.streamControllers[bt]={controller:ut,startCall:kt,pullCall:null,cancelCall:null,isClosed:!1},_t.postMessage({sourceName:wt,targetName:lt,action:ct,streamId:bt,data:gt,desiredSize:ut.desiredSize},ht),kt.promise},pull:ut=>{const kt=(0,j.createPromiseCapability)();return this.streamControllers[bt].pullCall=kt,_t.postMessage({sourceName:wt,targetName:lt,stream:nt.PULL,streamId:bt,desiredSize:ut.desiredSize}),kt.promise},cancel:ut=>{(0,j.assert)(ut instanceof Error,"cancel must have a valid reason");const kt=(0,j.createPromiseCapability)();return this.streamControllers[bt].cancelCall=kt,this.streamControllers[bt].isClosed=!0,_t.postMessage({sourceName:wt,targetName:lt,stream:nt.CANCEL,streamId:bt,reason:rt(ut)}),kt.promise}},ft)}_createStreamSink(ct){const gt=ct.streamId,ft=this.sourceName,ht=ct.sourceName,bt=this.comObj,wt=this,lt=this.actionHandler[ct.action],_t={enqueue(ut,kt=1,pt){if(this.isCancelled)return;const mt=this.desiredSize;this.desiredSize-=kt,mt>0&&this.desiredSize<=0&&(this.sinkCapability=(0,j.createPromiseCapability)(),this.ready=this.sinkCapability.promise),bt.postMessage({sourceName:ft,targetName:ht,stream:nt.ENQUEUE,streamId:gt,chunk:ut},pt)},close(){this.isCancelled||(this.isCancelled=!0,bt.postMessage({sourceName:ft,targetName:ht,stream:nt.CLOSE,streamId:gt}),delete wt.streamSinks[gt])},error(ut){(0,j.assert)(ut instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,bt.postMessage({sourceName:ft,targetName:ht,stream:nt.ERROR,streamId:gt,reason:rt(ut)}))},sinkCapability:(0,j.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:ct.desiredSize,ready:null};_t.sinkCapability.resolve(),_t.ready=_t.sinkCapability.promise,this.streamSinks[gt]=_t,new Promise(function(ut){ut(lt(ct.data,_t))}).then(function(){bt.postMessage({sourceName:ft,targetName:ht,stream:nt.START_COMPLETE,streamId:gt,success:!0})},function(ut){bt.postMessage({sourceName:ft,targetName:ht,stream:nt.START_COMPLETE,streamId:gt,reason:rt(ut)})})}_processStreamMessage(ct){const gt=ct.streamId,ft=this.sourceName,ht=ct.sourceName,bt=this.comObj,wt=this.streamControllers[gt],lt=this.streamSinks[gt];switch(ct.stream){case nt.START_COMPLETE:ct.success?wt.startCall.resolve():wt.startCall.reject(rt(ct.reason));break;case nt.PULL_COMPLETE:ct.success?wt.pullCall.resolve():wt.pullCall.reject(rt(ct.reason));break;case nt.PULL:if(!lt){bt.postMessage({sourceName:ft,targetName:ht,stream:nt.PULL_COMPLETE,streamId:gt,success:!0});break}lt.desiredSize<=0&&ct.desiredSize>0&&lt.sinkCapability.resolve(),lt.desiredSize=ct.desiredSize,new Promise(function(_t){_t(lt.onPull&&lt.onPull())}).then(function(){bt.postMessage({sourceName:ft,targetName:ht,stream:nt.PULL_COMPLETE,streamId:gt,success:!0})},function(_t){bt.postMessage({sourceName:ft,targetName:ht,stream:nt.PULL_COMPLETE,streamId:gt,reason:rt(_t)})});break;case nt.ENQUEUE:if((0,j.assert)(wt,"enqueue should have stream controller"),wt.isClosed)break;wt.controller.enqueue(ct.chunk);break;case nt.CLOSE:if((0,j.assert)(wt,"close should have stream controller"),wt.isClosed)break;wt.isClosed=!0,wt.controller.close(),this._deleteStreamController(wt,gt);break;case nt.ERROR:(0,j.assert)(wt,"error should have stream controller"),wt.controller.error(rt(ct.reason)),this._deleteStreamController(wt,gt);break;case nt.CANCEL_COMPLETE:ct.success?wt.cancelCall.resolve():wt.cancelCall.reject(rt(ct.reason)),this._deleteStreamController(wt,gt);break;case nt.CANCEL:if(!lt)break;new Promise(function(_t){_t(lt.onCancel&&lt.onCancel(rt(ct.reason)))}).then(function(){bt.postMessage({sourceName:ft,targetName:ht,stream:nt.CANCEL_COMPLETE,streamId:gt,success:!0})},function(_t){bt.postMessage({sourceName:ft,targetName:ht,stream:nt.CANCEL_COMPLETE,streamId:gt,reason:rt(_t)})}),lt.sinkCapability.reject(rt(ct.reason)),lt.isCancelled=!0,delete this.streamSinks[gt];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(ct,gt){await Promise.allSettled([ct.startCall&&ct.startCall.promise,ct.pullCall&&ct.pullCall.promise,ct.cancelCall&&ct.cancelCall.promise]),delete this.streamControllers[gt]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}d.MessageHandler=st},(c,d,b)=>{var nt,rt;Object.defineProperty(d,"__esModule",{value:!0}),d.Metadata=void 0;var j=b(1);class _e{constructor({parsedData:it,rawData:ct}){An(this,nt,void 0);An(this,rt,void 0);Nn(this,nt,it),Nn(this,rt,ct)}getRaw(){return Ut(this,rt)}get(it){return Ut(this,nt).get(it)??null}getAll(){return(0,j.objectFromMap)(Ut(this,nt))}has(it){return Ut(this,nt).has(it)}}nt=new WeakMap,rt=new WeakMap,d.Metadata=_e},(c,d,b)=>{var st,it,ct,gt,ft,ht,u_;Object.defineProperty(d,"__esModule",{value:!0}),d.OptionalContentConfig=void 0;var j=b(1);const _e=Symbol("INTERNAL");class nt{constructor(lt,_t){An(this,st,!0);this.name=lt,this.intent=_t}get visible(){return Ut(this,st)}_setVisible(lt,_t){lt!==_e&&(0,j.unreachable)("Internal method `_setVisible` called."),Nn(this,st,_t)}}st=new WeakMap;class rt{constructor(lt){An(this,ht);An(this,it,!0);An(this,ct,new Map);An(this,gt,null);An(this,ft,null);if(this.name=null,this.creator=null,lt!==null){this.name=lt.name,this.creator=lt.creator,Nn(this,ft,lt.order);for(const _t of lt.groups)Ut(this,ct).set(_t.id,new nt(_t.name,_t.intent));if(lt.baseState==="OFF")for(const _t of Ut(this,ct).values())_t._setVisible(_e,!1);for(const _t of lt.on)Ut(this,ct).get(_t)._setVisible(_e,!0);for(const _t of lt.off)Ut(this,ct).get(_t)._setVisible(_e,!1);Nn(this,gt,new Map);for(const[_t,ut]of Ut(this,ct))Ut(this,gt).set(_t,ut.visible)}}isVisible(lt){if(Ut(this,ct).size===0)return!0;if(!lt)return(0,j.warn)("Optional content group not defined."),!0;if(lt.type==="OCG")return Ut(this,ct).has(lt.id)?Ut(this,ct).get(lt.id).visible:((0,j.warn)(`Optional content group not found: ${lt.id}`),!0);if(lt.type==="OCMD"){if(lt.expression)return Sn(this,ht,u_).call(this,lt.expression);if(!lt.policy||lt.policy==="AnyOn"){for(const _t of lt.ids){if(!Ut(this,ct).has(_t))return(0,j.warn)(`Optional content group not found: ${_t}`),!0;if(Ut(this,ct).get(_t).visible)return!0}return!1}else if(lt.policy==="AllOn"){for(const _t of lt.ids){if(!Ut(this,ct).has(_t))return(0,j.warn)(`Optional content group not found: ${_t}`),!0;if(!Ut(this,ct).get(_t).visible)return!1}return!0}else if(lt.policy==="AnyOff"){for(const _t of lt.ids){if(!Ut(this,ct).has(_t))return(0,j.warn)(`Optional content group not found: ${_t}`),!0;if(!Ut(this,ct).get(_t).visible)return!0}return!1}else if(lt.policy==="AllOff"){for(const _t of lt.ids){if(!Ut(this,ct).has(_t))return(0,j.warn)(`Optional content group not found: ${_t}`),!0;if(Ut(this,ct).get(_t).visible)return!1}return!0}return(0,j.warn)(`Unknown optional content policy ${lt.policy}.`),!0}return(0,j.warn)(`Unknown group type ${lt.type}.`),!0}setVisibility(lt,_t=!0){if(!Ut(this,ct).has(lt)){(0,j.warn)(`Optional content group not found: ${lt}`);return}Ut(this,ct).get(lt)._setVisible(_e,!!_t),Nn(this,it,null)}get hasInitialVisibility(){if(Ut(this,it)!==null)return Ut(this,it);for(const[lt,_t]of Ut(this,ct)){const ut=Ut(this,gt).get(lt);if(_t.visible!==ut)return Nn(this,it,!1)}return Nn(this,it,!0)}getOrder(){return Ut(this,ct).size?Ut(this,ft)?Ut(this,ft).slice():[...Ut(this,ct).keys()]:null}getGroups(){return Ut(this,ct).size>0?(0,j.objectFromMap)(Ut(this,ct)):null}getGroup(lt){return Ut(this,ct).get(lt)||null}}it=new WeakMap,ct=new WeakMap,gt=new WeakMap,ft=new WeakMap,ht=new WeakSet,u_=function(lt){const _t=lt.length;if(_t<2)return!0;const ut=lt[0];for(let kt=1;kt<_t;kt++){const pt=lt[kt];let mt;if(Array.isArray(pt))mt=Sn(this,ht,u_).call(this,pt);else if(Ut(this,ct).has(pt))mt=Ut(this,ct).get(pt).visible;else return(0,j.warn)(`Optional content group not found: ${pt}`),!0;switch(ut){case"And":if(!mt)return!1;break;case"Or":if(mt)return!0;break;case"Not":return!mt;default:return!0}}return ut==="And"},d.OptionalContentConfig=rt},(c,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFDataTransportStream=void 0;var j=b(1),_e=b(8);class nt{constructor(ct,gt){(0,j.assert)(gt,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=ct.progressiveDone||!1,this._contentDispositionFilename=ct.contentDispositionFilename||null;const ft=ct.initialData;if((ft==null?void 0:ft.length)>0){const ht=new Uint8Array(ft).buffer;this._queuedChunks.push(ht)}this._pdfDataRangeTransport=gt,this._isStreamingSupported=!ct.disableStream,this._isRangeSupported=!ct.disableRange,this._contentLength=ct.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((ht,bt)=>{this._onReceiveData({begin:ht,chunk:bt})}),this._pdfDataRangeTransport.addProgressListener((ht,bt)=>{this._onProgress({loaded:ht,total:bt})}),this._pdfDataRangeTransport.addProgressiveReadListener(ht=>{this._onReceiveData({chunk:ht})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(ct){const gt=new Uint8Array(ct.chunk).buffer;if(ct.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(gt):this._queuedChunks.push(gt);else{const ft=this._rangeReaders.some(function(ht){return ht._begin!==ct.begin?!1:(ht._enqueue(gt),!0)});(0,j.assert)(ft,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var ct;return((ct=this._fullRequestReader)==null?void 0:ct._loaded)??0}_onProgress(ct){if(ct.total===void 0){const gt=this._rangeReaders[0];gt!=null&&gt.onProgress&&gt.onProgress({loaded:ct.loaded})}else{const gt=this._fullRequestReader;gt!=null&&gt.onProgress&&gt.onProgress({loaded:ct.loaded,total:ct.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(ct){const gt=this._rangeReaders.indexOf(ct);gt>=0&&this._rangeReaders.splice(gt,1)}getFullReader(){(0,j.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const ct=this._queuedChunks;return this._queuedChunks=null,new rt(this,ct,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(ct,gt){if(gt<=this._progressiveDataLength)return null;const ft=new st(this,ct,gt);return this._pdfDataRangeTransport.requestDataRange(ct,gt),this._rangeReaders.push(ft),ft}cancelAllRequests(ct){this._fullRequestReader&&this._fullRequestReader.cancel(ct);for(const gt of this._rangeReaders.slice(0))gt.cancel(ct);this._pdfDataRangeTransport.abort()}}d.PDFDataTransportStream=nt;class rt{constructor(ct,gt,ft=!1,ht=null){this._stream=ct,this._done=ft||!1,this._filename=(0,_e.isPdfFile)(ht)?ht:null,this._queuedChunks=gt||[],this._loaded=0;for(const bt of this._queuedChunks)this._loaded+=bt.byteLength;this._requests=[],this._headersReady=Promise.resolve(),ct._fullRequestReader=this,this.onProgress=null}_enqueue(ct){this._done||(this._requests.length>0?this._requests.shift().resolve({value:ct,done:!1}):this._queuedChunks.push(ct),this._loaded+=ct.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ct=(0,j.createPromiseCapability)();return this._requests.push(ct),ct.promise}cancel(ct){this._done=!0;for(const gt of this._requests)gt.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class st{constructor(ct,gt,ft){this._stream=ct,this._begin=gt,this._end=ft,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(ct){if(!this._done){if(this._requests.length===0)this._queuedChunk=ct;else{this._requests.shift().resolve({value:ct,done:!1});for(const ft of this._requests)ft.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const gt=this._queuedChunk;return this._queuedChunk=null,{value:gt,done:!1}}if(this._done)return{value:void 0,done:!0};const ct=(0,j.createPromiseCapability)();return this._requests.push(ct),ct.promise}cancel(ct){this._done=!0;for(const gt of this._requests)gt.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(c,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.XfaText=void 0;class b{static textContent(_e){const nt=[],rt={items:nt,styles:Object.create(null)};function st(it){var ft;if(!it)return;let ct=null;const gt=it.name;if(gt==="#text")ct=it.value;else if(b.shouldBuildText(gt))(ft=it==null?void 0:it.attributes)!=null&&ft.textContent?ct=it.attributes.textContent:it.value&&(ct=it.value);else return;if(ct!==null&&nt.push({str:ct}),!!it.children)for(const ht of it.children)st(ht)}return st(_e),rt}static shouldBuildText(_e){return!(_e==="textarea"||_e==="input"||_e==="option"||_e==="select")}}d.XfaText=b},(c,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.NodeStandardFontDataFactory=d.NodeCanvasFactory=d.NodeCMapReaderFactory=void 0;var j=b(9);const _e=function(it){return new Promise((ct,gt)=>{require$$5.readFile(it,(ht,bt)=>{if(ht||!bt){gt(new Error(ht));return}ct(new Uint8Array(bt))})})};class nt extends j.BaseCanvasFactory{_createCanvas(ct,gt){return require$$5.createCanvas(ct,gt)}}d.NodeCanvasFactory=nt;class rt extends j.BaseCMapReaderFactory{_fetchData(ct,gt){return _e(ct).then(ft=>({cMapData:ft,compressionType:gt}))}}d.NodeCMapReaderFactory=rt;class st extends j.BaseStandardFontDataFactory{_fetchData(ct){return _e(ct)}}d.NodeStandardFontDataFactory=st},(c,d,b)=>{var it,ct,gt,ft,ht,bt,wt,lt,_t,h_,kt,Z1,mt,p_,It,X1;Object.defineProperty(d,"__esModule",{value:!0}),d.AnnotationEditorLayer=void 0;var j=b(7),_e=b(1),nt=b(23),rt=b(24);const at=class{constructor(Ct){An(this,_t);An(this,kt);An(this,mt);An(this,It);An(this,it,void 0);An(this,ct,!1);An(this,gt,this.pointerup.bind(this));An(this,ft,this.pointerdown.bind(this));An(this,ht,new Map);An(this,bt,!1);An(this,wt,!1);An(this,lt,void 0);at._initialized||(at._initialized=!0,nt.FreeTextEditor.initialize(Ct.l10n),rt.InkEditor.initialize(Ct.l10n),Ct.uiManager.registerEditorTypes([nt.FreeTextEditor,rt.InkEditor])),Nn(this,lt,Ct.uiManager),this.annotationStorage=Ct.annotationStorage,this.pageIndex=Ct.pageIndex,this.div=Ct.div,Nn(this,it,Ct.accessibilityManager),Ut(this,lt).addLayer(this)}updateToolbar(Ct){Ut(this,lt).updateToolbar(Ct)}updateMode(Ct=Ut(this,lt).getMode()){Sn(this,It,X1).call(this),Ct===_e.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),Ut(this,lt).unselectAll()}addInkEditorIfNeeded(Ct){if(!Ct&&Ut(this,lt).getMode()!==_e.AnnotationEditorType.INK)return;if(!Ct){for(const Vt of Ut(this,ht).values())if(Vt.isEmpty()){Vt.setInBackground();return}}Sn(this,mt,p_).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(Ct){Ut(this,lt).setEditingState(Ct)}addCommands(Ct){Ut(this,lt).addCommands(Ct)}enable(){this.div.style.pointerEvents="auto";for(const Ct of Ut(this,ht).values())Ct.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const Ct of Ut(this,ht).values())Ct.disableEditing()}setActiveEditor(Ct){Ut(this,lt).getActive()!==Ct&&Ut(this,lt).setActiveEditor(Ct)}enableClick(){this.div.addEventListener("pointerdown",Ut(this,ft)),this.div.addEventListener("pointerup",Ut(this,gt))}disableClick(){this.div.removeEventListener("pointerdown",Ut(this,ft)),this.div.removeEventListener("pointerup",Ut(this,gt))}attach(Ct){Ut(this,ht).set(Ct.id,Ct)}detach(Ct){var Bt;Ut(this,ht).delete(Ct.id),(Bt=Ut(this,it))==null||Bt.removePointerInTextLayer(Ct.contentDiv)}remove(Ct){Ut(this,lt).removeEditor(Ct),this.detach(Ct),this.annotationStorage.remove(Ct.id),Ct.div.style.display="none",setTimeout(()=>{Ct.div.style.display="",Ct.div.remove(),Ct.isAttachedToDOM=!1,document.activeElement===document.body&&Ut(this,lt).focusMainContainer()},0),Ut(this,wt)||this.addInkEditorIfNeeded(!1)}add(Ct){if(Sn(this,_t,h_).call(this,Ct),Ut(this,lt).addEditor(Ct),this.attach(Ct),!Ct.isAttachedToDOM){const Bt=Ct.render();this.div.append(Bt),Ct.isAttachedToDOM=!0}this.moveEditorInDOM(Ct),Ct.onceAdded(),this.addToAnnotationStorage(Ct)}moveEditorInDOM(Ct){var Bt;(Bt=Ut(this,it))==null||Bt.moveElementInDOM(this.div,Ct.div,Ct.contentDiv,!0)}addToAnnotationStorage(Ct){!Ct.isEmpty()&&!this.annotationStorage.has(Ct.id)&&this.annotationStorage.setValue(Ct.id,Ct)}addOrRebuild(Ct){Ct.needsToBeRebuilt()?Ct.rebuild():this.add(Ct)}addANewEditor(Ct){const Bt=()=>{this.addOrRebuild(Ct)},Vt=()=>{Ct.remove()};this.addCommands({cmd:Bt,undo:Vt,mustExec:!0})}addUndoableEditor(Ct){const Bt=()=>{this.addOrRebuild(Ct)},Vt=()=>{Ct.remove()};this.addCommands({cmd:Bt,undo:Vt,mustExec:!1})}getNextId(){return Ut(this,lt).getId()}deserialize(Ct){switch(Ct.annotationType){case _e.AnnotationEditorType.FREETEXT:return nt.FreeTextEditor.deserialize(Ct,this);case _e.AnnotationEditorType.INK:return rt.InkEditor.deserialize(Ct,this)}return null}setSelected(Ct){Ut(this,lt).setSelected(Ct)}toggleSelected(Ct){Ut(this,lt).toggleSelected(Ct)}isSelected(Ct){return Ut(this,lt).isSelected(Ct)}unselect(Ct){Ut(this,lt).unselect(Ct)}pointerup(Ct){const Bt=j.KeyboardManager.platform.isMac;if(!(Ct.button!==0||Ct.ctrlKey&&Bt)&&Ct.target===this.div&&Ut(this,bt)){if(Nn(this,bt,!1),!Ut(this,ct)){Nn(this,ct,!0);return}Sn(this,mt,p_).call(this,Ct)}}pointerdown(Ct){const Bt=j.KeyboardManager.platform.isMac;if(Ct.button!==0||Ct.ctrlKey&&Bt||Ct.target!==this.div)return;Nn(this,bt,!0);const Vt=Ut(this,lt).getActive();Nn(this,ct,!Vt||Vt.isEmpty())}drop(Ct){const Bt=Ct.dataTransfer.getData("text/plain"),Vt=Ut(this,lt).getEditor(Bt);if(!Vt)return;Ct.preventDefault(),Ct.dataTransfer.dropEffect="move",Sn(this,_t,h_).call(this,Vt);const en=this.div.getBoundingClientRect(),Xt=Ct.clientX-en.x,dn=Ct.clientY-en.y;Vt.translate(Xt-Vt.startX,dn-Vt.startY),this.moveEditorInDOM(Vt),Vt.div.focus()}dragover(Ct){Ct.preventDefault()}destroy(){var Ct,Bt;((Ct=Ut(this,lt).getActive())==null?void 0:Ct.parent)===this&&Ut(this,lt).setActiveEditor(null);for(const Vt of Ut(this,ht).values())(Bt=Ut(this,it))==null||Bt.removePointerInTextLayer(Vt.contentDiv),Vt.isAttachedToDOM=!1,Vt.div.remove(),Vt.parent=null;this.div=null,Ut(this,ht).clear(),Ut(this,lt).removeLayer(this)}render(Ct){this.viewport=Ct.viewport,(0,j.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(const Bt of Ut(this,lt).getEditors(this.pageIndex))this.add(Bt);this.updateMode()}update(Ct){this.viewport=Ct.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){const[Ct,Bt,Vt,en]=this.viewport.viewBox,Xt=Vt-Ct,dn=en-Bt;return[Xt,dn]}get viewportBaseDimensions(){const{width:Ct,height:Bt,rotation:Vt}=this.viewport;return Vt%180===0?[Ct,Bt]:[Bt,Ct]}setDimensions(){const{width:Ct,height:Bt,rotation:Vt}=this.viewport,en=Vt%180!==0,Xt=Math.floor(Ct)+"px",dn=Math.floor(Bt)+"px";this.div.style.width=en?dn:Xt,this.div.style.height=en?Xt:dn,this.div.setAttribute("data-main-rotation",Vt)}};let st=at;it=new WeakMap,ct=new WeakMap,gt=new WeakMap,ft=new WeakMap,ht=new WeakMap,bt=new WeakMap,wt=new WeakMap,lt=new WeakMap,_t=new WeakSet,h_=function(Ct){var Bt;Ct.parent!==this&&(this.attach(Ct),Ct.pageIndex=this.pageIndex,(Bt=Ct.parent)==null||Bt.detach(Ct),Ct.parent=this,Ct.div&&Ct.isAttachedToDOM&&(Ct.div.remove(),this.div.append(Ct.div)))},kt=new WeakSet,Z1=function(Ct){switch(Ut(this,lt).getMode()){case _e.AnnotationEditorType.FREETEXT:return new nt.FreeTextEditor(Ct);case _e.AnnotationEditorType.INK:return new rt.InkEditor(Ct)}return null},mt=new WeakSet,p_=function(Ct){const Bt=this.getNextId(),Vt=Sn(this,kt,Z1).call(this,{parent:this,id:Bt,x:Ct.offsetX,y:Ct.offsetY});return Vt&&this.add(Vt),Vt},It=new WeakSet,X1=function(){Nn(this,wt,!0);for(const Ct of Ut(this,ht).values())Ct.isEmpty()&&Ct.remove();Nn(this,wt,!1)},Fo(st,"_initialized",!1),d.AnnotationEditorLayer=st},(c,d,b)=>{var st,it,ct,gt,ft,ht,bt,wt,J1,_t,eE,kt,tE,mt,f_;Object.defineProperty(d,"__esModule",{value:!0}),d.FreeTextEditor=void 0;var j=b(1),_e=b(7),nt=b(6);const It=class extends nt.AnnotationEditor{constructor(yt){super({...yt,name:"freeTextEditor"});An(this,wt);An(this,_t);An(this,kt);An(this,mt);An(this,st,this.editorDivBlur.bind(this));An(this,it,this.editorDivFocus.bind(this));An(this,ct,this.editorDivKeydown.bind(this));An(this,gt,void 0);An(this,ft,"");An(this,ht,!1);An(this,bt,void 0);Nn(this,gt,yt.color||It._defaultColor||nt.AnnotationEditor._defaultLineColor),Nn(this,bt,yt.fontSize||It._defaultFontSize)}static initialize(yt){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(Bt=>[Bt,yt.get(Bt)]));const Ct=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Ct.getPropertyValue("--freetext-padding"))}static updateDefaultParams(yt,Ct){switch(yt){case j.AnnotationEditorParamsType.FREETEXT_SIZE:It._defaultFontSize=Ct;break;case j.AnnotationEditorParamsType.FREETEXT_COLOR:It._defaultColor=Ct;break}}updateParams(yt,Ct){switch(yt){case j.AnnotationEditorParamsType.FREETEXT_SIZE:Sn(this,wt,J1).call(this,Ct);break;case j.AnnotationEditorParamsType.FREETEXT_COLOR:Sn(this,_t,eE).call(this,Ct);break}}static get defaultPropertiesToUpdate(){return[[j.AnnotationEditorParamsType.FREETEXT_SIZE,It._defaultFontSize],[j.AnnotationEditorParamsType.FREETEXT_COLOR,It._defaultColor||nt.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[j.AnnotationEditorParamsType.FREETEXT_SIZE,Ut(this,bt)],[j.AnnotationEditorParamsType.FREETEXT_COLOR,Ut(this,gt)]]}getInitialTranslation(){return[-It._internalPadding*this.parent.scaleFactor,-(It._internalPadding+Ut(this,bt))*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(j.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",Ut(this,ct)),this.editorDiv.addEventListener("focus",Ut(this,it)),this.editorDiv.addEventListener("blur",Ut(this,st)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",Ut(this,ct)),this.editorDiv.removeEventListener("focus",Ut(this,it)),this.editorDiv.removeEventListener("blur",Ut(this,st)),this.div.focus(),this.isEditing=!1)}focusin(yt){super.focusin(yt),yt.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}commit(){super.commit(),Ut(this,ht)||(Nn(this,ht,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),Nn(this,ft,Sn(this,kt,tE).call(this).trimEnd()),Sn(this,mt,f_).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(yt){this.enableEditMode(),this.editorDiv.focus()}keydown(yt){yt.target===this.div&&yt.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(yt){It._keyboardManager.exec(this,yt)}editorDivFocus(yt){this.isEditing=!0}editorDivBlur(yt){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let yt,Ct;this.width&&(yt=this.x,Ct=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),It._l10nPromise.get("editor_free_text_aria_label").then(Vt=>{var en;return(en=this.editorDiv)==null?void 0:en.setAttribute("aria-label",Vt)}),It._l10nPromise.get("free_text_default_content").then(Vt=>{var en;return(en=this.editorDiv)==null?void 0:en.setAttribute("default-content",Vt)}),this.editorDiv.contentEditable=!0;const{style:Bt}=this.editorDiv;if(Bt.fontSize=`calc(${Ut(this,bt)}px * var(--scale-factor))`,Bt.color=Ut(this,gt),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,_e.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[Vt,en]=this.parent.viewportBaseDimensions;this.setAt(yt*Vt,Ct*en,this.width*Vt,this.height*en);for(const Xt of Ut(this,ft).split(`
`)){const dn=document.createElement("div");dn.append(Xt?document.createTextNode(Xt):document.createElement("br")),this.editorDiv.append(dn)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(yt,Ct){const Bt=super.deserialize(yt,Ct);return Nn(Bt,bt,yt.fontSize),Nn(Bt,gt,j.Util.makeHexColor(...yt.color)),Nn(Bt,ft,yt.value),Bt}serialize(){if(this.isEmpty())return null;const yt=It._internalPadding*this.parent.scaleFactor,Ct=this.getRect(yt,yt),Bt=nt.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:j.AnnotationEditorType.FREETEXT,color:Bt,fontSize:Ut(this,bt),value:Ut(this,ft),pageIndex:this.parent.pageIndex,rect:Ct,rotation:this.rotation}}};let rt=It;st=new WeakMap,it=new WeakMap,ct=new WeakMap,gt=new WeakMap,ft=new WeakMap,ht=new WeakMap,bt=new WeakMap,wt=new WeakSet,J1=function(yt){const Ct=Vt=>{this.editorDiv.style.fontSize=`calc(${Vt}px * var(--scale-factor))`,this.translate(0,-(Vt-Ut(this,bt))*this.parent.scaleFactor),Nn(this,bt,Vt),Sn(this,mt,f_).call(this)},Bt=Ut(this,bt);this.parent.addCommands({cmd:()=>{Ct(yt)},undo:()=>{Ct(Bt)},mustExec:!0,type:j.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},_t=new WeakSet,eE=function(yt){const Ct=Ut(this,gt);this.parent.addCommands({cmd:()=>{Nn(this,gt,yt),this.editorDiv.style.color=yt},undo:()=>{Nn(this,gt,Ct),this.editorDiv.style.color=Ct},mustExec:!0,type:j.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},kt=new WeakSet,tE=function(){const yt=this.editorDiv.getElementsByTagName("div");if(yt.length===0)return this.editorDiv.innerText;const Ct=[];for(let Bt=0,Vt=yt.length;Bt<Vt;Bt++){const Xt=yt[Bt].firstChild;(Xt==null?void 0:Xt.nodeName)==="#text"?Ct.push(Xt.data):Ct.push("")}return Ct.join(`
`)},mt=new WeakSet,f_=function(){const[yt,Ct]=this.parent.viewportBaseDimensions,Bt=this.div.getBoundingClientRect();this.width=Bt.width/yt,this.height=Bt.height/Ct},Fo(rt,"_freeTextDefaultContent",""),Fo(rt,"_l10nPromise"),Fo(rt,"_internalPadding",0),Fo(rt,"_defaultColor",null),Fo(rt,"_defaultFontSize",10),Fo(rt,"_keyboardManager",new _e.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],It.prototype.commitOrRemove]])),Fo(rt,"_type","freetext"),d.FreeTextEditor=rt},(c,d,b)=>{var ct,gt,ft,ht,bt,wt,lt,_t,ut,kt,pt,mt,Pt,It,Ot,nE,yt,iE,Bt,oE,en,rE,dn,g_,Jt,sE,tn,aE,fn,lE,xt,Fr,jt,m_,Ht,_f,rn,_g,vt,Fl,Nt,k_,zt,em,mn,b_,un,cE,pn,dE,yn,uE,xn,w_,Ln,tm,Yn,zl,no,__;Object.defineProperty(d,"__esModule",{value:!0}),d.InkEditor=void 0,Object.defineProperty(d,"fitCurve",{enumerable:!0,get:function(){return nt.fitCurve}});var j=b(1),_e=b(6),nt=b(25),rt=b(7);const st=16,$n=class extends _e.AnnotationEditor{constructor(kn){super({...kn,name:"inkEditor"});An(this,Ot);An(this,yt);An(this,Bt);An(this,en);An(this,dn);An(this,Jt);An(this,tn);An(this,fn);An(this,xt);An(this,jt);An(this,Ht);An(this,rn);An(this,vt);An(this,Nt);An(this,zt);An(this,un);An(this,pn);An(this,yn);An(this,xn);An(this,Ln);An(this,Yn);An(this,no);An(this,ct,0);An(this,gt,0);An(this,ft,0);An(this,ht,this.canvasPointermove.bind(this));An(this,bt,this.canvasPointerleave.bind(this));An(this,wt,this.canvasPointerup.bind(this));An(this,lt,this.canvasPointerdown.bind(this));An(this,_t,!1);An(this,ut,!1);An(this,kt,null);An(this,pt,null);An(this,mt,0);An(this,Pt,0);An(this,It,null);this.color=kn.color||null,this.thickness=kn.thickness||null,this.opacity=kn.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(kn){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(Cn=>[Cn,kn.get(Cn)]))}static updateDefaultParams(kn,Cn){switch(kn){case j.AnnotationEditorParamsType.INK_THICKNESS:$n._defaultThickness=Cn;break;case j.AnnotationEditorParamsType.INK_COLOR:$n._defaultColor=Cn;break;case j.AnnotationEditorParamsType.INK_OPACITY:$n._defaultOpacity=Cn/100;break}}updateParams(kn,Cn){switch(kn){case j.AnnotationEditorParamsType.INK_THICKNESS:Sn(this,Ot,nE).call(this,Cn);break;case j.AnnotationEditorParamsType.INK_COLOR:Sn(this,yt,iE).call(this,Cn);break;case j.AnnotationEditorParamsType.INK_OPACITY:Sn(this,Bt,oE).call(this,Cn);break}}static get defaultPropertiesToUpdate(){return[[j.AnnotationEditorParamsType.INK_THICKNESS,$n._defaultThickness],[j.AnnotationEditorParamsType.INK_COLOR,$n._defaultColor||_e.AnnotationEditor._defaultLineColor],[j.AnnotationEditorParamsType.INK_OPACITY,Math.round($n._defaultOpacity*100)]]}get propertiesToUpdate(){return[[j.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||$n._defaultThickness],[j.AnnotationEditorParamsType.INK_COLOR,this.color||$n._defaultColor||_e.AnnotationEditor._defaultLineColor],[j.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??$n._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(Sn(this,Ht,_f).call(this),Sn(this,rn,_g).call(this)),this.isAttachedToDOM||(this.parent.add(this),Sn(this,vt,Fl).call(this)),Sn(this,Yn,zl).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,Ut(this,pt).disconnect(),Nn(this,pt,null),super.remove())}enableEditMode(){Ut(this,_t)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",Ut(this,lt)),this.canvas.addEventListener("pointerup",Ut(this,wt)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",Ut(this,lt)),this.canvas.removeEventListener("pointerup",Ut(this,wt)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){Ut(this,_t)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),Nn(this,_t,!0),this.div.classList.add("disabled"),Sn(this,Yn,zl).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(kn){super.focusin(kn),this.enableEditMode()}canvasPointerdown(kn){kn.button!==0||!this.isInEditMode()||Ut(this,_t)||(this.setInForeground(),kn.type!=="mouse"&&this.div.focus(),kn.stopPropagation(),this.canvas.addEventListener("pointerleave",Ut(this,bt)),this.canvas.addEventListener("pointermove",Ut(this,ht)),Sn(this,Jt,sE).call(this,kn.offsetX,kn.offsetY))}canvasPointermove(kn){kn.stopPropagation(),Sn(this,tn,aE).call(this,kn.offsetX,kn.offsetY)}canvasPointerup(kn){kn.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(kn.stopPropagation(),Sn(this,jt,m_).call(this,kn),this.setInBackground())}canvasPointerleave(kn){Sn(this,jt,m_).call(this,kn),this.setInBackground()}render(){if(this.div)return this.div;let kn,Cn;this.width&&(kn=this.x,Cn=this.y),super.render(),$n._l10nPromise.get("editor_ink_aria_label").then(Mn=>{var Bn;return(Bn=this.div)==null?void 0:Bn.setAttribute("aria-label",Mn)});const[ln,nn,on,Dn]=Sn(this,en,rE).call(this);if(this.setAt(ln,nn,0,0),this.setDims(on,Dn),Sn(this,Ht,_f).call(this),this.width){const[Mn,Bn]=this.parent.viewportBaseDimensions;this.setAt(kn*Mn,Cn*Bn,this.width*Mn,this.height*Bn),Nn(this,ut,!0),Sn(this,vt,Fl).call(this),this.setDims(this.width*Mn,this.height*Bn),Sn(this,xt,Fr).call(this),Sn(this,no,__).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return Sn(this,rn,_g).call(this),this.div}setDimensions(kn,Cn){const ln=Math.round(kn),nn=Math.round(Cn);if(Ut(this,mt)===ln&&Ut(this,Pt)===nn)return;Nn(this,mt,ln),Nn(this,Pt,nn),this.canvas.style.visibility="hidden",Ut(this,ct)&&Math.abs(Ut(this,ct)-kn/Cn)>.01&&(Cn=Math.ceil(kn/Ut(this,ct)),this.setDims(kn,Cn));const[on,Dn]=this.parent.viewportBaseDimensions;this.width=kn/on,this.height=Cn/Dn,Ut(this,_t)&&Sn(this,Nt,k_).call(this,kn,Cn),Sn(this,vt,Fl).call(this),Sn(this,xt,Fr).call(this),this.canvas.style.visibility="visible"}static deserialize(kn,Cn){var yo,to;const ln=super.deserialize(kn,Cn);ln.thickness=kn.thickness,ln.color=j.Util.makeHexColor(...kn.color),ln.opacity=kn.opacity;const[nn,on]=Cn.pageDimensions,Dn=ln.width*nn,Mn=ln.height*on,Bn=Cn.scaleFactor,zn=kn.thickness/2;Nn(ln,ct,Dn/Mn),Nn(ln,_t,!0),Nn(ln,mt,Math.round(Dn)),Nn(ln,Pt,Math.round(Mn));for(const{bezier:jn}of kn.paths){const So=[];ln.paths.push(So);let po=Bn*(jn[0]-zn),Io=Bn*(Mn-jn[1]-zn);for(let To=2,Zo=jn.length;To<Zo;To+=6){const qo=Bn*(jn[To]-zn),ar=Bn*(Mn-jn[To+1]-zn),zo=Bn*(jn[To+2]-zn),_o=Bn*(Mn-jn[To+3]-zn),Qo=Bn*(jn[To+4]-zn),yr=Bn*(Mn-jn[To+5]-zn);So.push([[po,Io],[qo,ar],[zo,_o],[Qo,yr]]),po=Qo,Io=yr}const Xn=Sn(this,mn,b_).call(this,So);ln.bezierPath2D.push(Xn)}const Qn=Sn(yo=ln,xn,w_).call(yo);return Nn(ln,ft,Math.max(st,Qn[2]-Qn[0])),Nn(ln,gt,Math.max(st,Qn[3]-Qn[1])),Sn(to=ln,Nt,k_).call(to,Dn,Mn),ln}serialize(){if(this.isEmpty())return null;const kn=this.getRect(0,0),Cn=this.rotation%180===0?kn[3]-kn[1]:kn[2]-kn[0],ln=_e.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:j.AnnotationEditorType.INK,color:ln,thickness:this.thickness,opacity:this.opacity,paths:Sn(this,un,cE).call(this,this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,Cn),pageIndex:this.parent.pageIndex,rect:kn,rotation:this.rotation}}};let it=$n;ct=new WeakMap,gt=new WeakMap,ft=new WeakMap,ht=new WeakMap,bt=new WeakMap,wt=new WeakMap,lt=new WeakMap,_t=new WeakMap,ut=new WeakMap,kt=new WeakMap,pt=new WeakMap,mt=new WeakMap,Pt=new WeakMap,It=new WeakMap,Ot=new WeakSet,nE=function(kn){const Cn=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=kn,Sn(this,Yn,zl).call(this)},undo:()=>{this.thickness=Cn,Sn(this,Yn,zl).call(this)},mustExec:!0,type:j.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},yt=new WeakSet,iE=function(kn){const Cn=this.color;this.parent.addCommands({cmd:()=>{this.color=kn,Sn(this,xt,Fr).call(this)},undo:()=>{this.color=Cn,Sn(this,xt,Fr).call(this)},mustExec:!0,type:j.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Bt=new WeakSet,oE=function(kn){kn/=100;const Cn=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=kn,Sn(this,xt,Fr).call(this)},undo:()=>{this.opacity=Cn,Sn(this,xt,Fr).call(this)},mustExec:!0,type:j.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},en=new WeakSet,rE=function(){const{width:kn,height:Cn,rotation:ln}=this.parent.viewport;switch(ln){case 90:return[0,kn,kn,Cn];case 180:return[kn,Cn,kn,Cn];case 270:return[Cn,0,kn,Cn];default:return[0,0,kn,Cn]}},dn=new WeakSet,g_=function(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,rt.opacityToHex)(this.opacity)}`},Jt=new WeakSet,sE=function(kn,Cn){this.isEditing=!0,Ut(this,ut)||(Nn(this,ut,!0),Sn(this,vt,Fl).call(this),this.thickness||(this.thickness=$n._defaultThickness),this.color||(this.color=$n._defaultColor||_e.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=$n._defaultOpacity)),this.currentPath.push([kn,Cn]),Nn(this,kt,null),Sn(this,dn,g_).call(this),this.ctx.beginPath(),this.ctx.moveTo(kn,Cn),Nn(this,It,()=>{Ut(this,It)&&(Ut(this,kt)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):Sn(this,xt,Fr).call(this),this.ctx.lineTo(...Ut(this,kt)),Nn(this,kt,null),this.ctx.stroke()),window.requestAnimationFrame(Ut(this,It)))}),window.requestAnimationFrame(Ut(this,It))},tn=new WeakSet,aE=function(kn,Cn){const[ln,nn]=this.currentPath.at(-1);kn===ln&&Cn===nn||(this.currentPath.push([kn,Cn]),Nn(this,kt,[kn,Cn]))},fn=new WeakSet,lE=function(kn,Cn){var zn;this.ctx.closePath(),Nn(this,It,null),kn=Math.min(Math.max(kn,0),this.canvas.width),Cn=Math.min(Math.max(Cn,0),this.canvas.height);const[ln,nn]=this.currentPath.at(-1);(kn!==ln||Cn!==nn)&&this.currentPath.push([kn,Cn]);let on;if(this.currentPath.length!==1)on=(0,nt.fitCurve)(this.currentPath,30,null);else{const Qn=[kn,Cn];on=[[Qn,Qn.slice(),Qn.slice(),Qn]]}const Dn=Sn(zn=$n,mn,b_).call(zn,on);this.currentPath.length=0;const Mn=()=>{this.paths.push(on),this.bezierPath2D.push(Dn),this.rebuild()},Bn=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(Sn(this,Ht,_f).call(this),Sn(this,rn,_g).call(this)),Sn(this,Yn,zl).call(this))};this.parent.addCommands({cmd:Mn,undo:Bn,mustExec:!0})},xt=new WeakSet,Fr=function(){if(this.isEmpty()){Sn(this,zt,em).call(this);return}Sn(this,dn,g_).call(this);const{canvas:kn,ctx:Cn}=this;Cn.setTransform(1,0,0,1,0,0),Cn.clearRect(0,0,kn.width,kn.height),Sn(this,zt,em).call(this);for(const ln of this.bezierPath2D)Cn.stroke(ln)},jt=new WeakSet,m_=function(kn){Sn(this,fn,lE).call(this,kn.offsetX,kn.offsetY),this.canvas.removeEventListener("pointerleave",Ut(this,bt)),this.canvas.removeEventListener("pointermove",Ut(this,ht)),this.parent.addToAnnotationStorage(this)},Ht=new WeakSet,_f=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",$n._l10nPromise.get("editor_ink_canvas_aria_label").then(kn=>{var Cn;return(Cn=this.canvas)==null?void 0:Cn.setAttribute("aria-label",kn)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},rn=new WeakSet,_g=function(){Nn(this,pt,new ResizeObserver(kn=>{const Cn=kn[0].contentRect;Cn.width&&Cn.height&&this.setDimensions(Cn.width,Cn.height)})),Ut(this,pt).observe(this.div)},vt=new WeakSet,Fl=function(){if(!Ut(this,ut))return;const[kn,Cn]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*kn),this.canvas.height=Math.ceil(this.height*Cn),Sn(this,zt,em).call(this)},Nt=new WeakSet,k_=function(kn,Cn){const ln=Sn(this,Ln,tm).call(this),nn=(kn-ln)/Ut(this,ft),on=(Cn-ln)/Ut(this,gt);this.scaleFactor=Math.min(nn,on)},zt=new WeakSet,em=function(){const kn=Sn(this,Ln,tm).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+kn,this.translationY*this.scaleFactor+kn)},mn=new WeakSet,b_=function(kn){const Cn=new Path2D;for(let ln=0,nn=kn.length;ln<nn;ln++){const[on,Dn,Mn,Bn]=kn[ln];ln===0&&Cn.moveTo(...on),Cn.bezierCurveTo(Dn[0],Dn[1],Mn[0],Mn[1],Bn[0],Bn[1])}return Cn},un=new WeakSet,cE=function(kn,Cn,ln,nn){const Dn=[],Mn=this.thickness/2;let Bn,zn;for(const Qn of this.paths){Bn=[],zn=[];for(let yo=0,to=Qn.length;yo<to;yo++){const[jn,So,po,Io]=Qn[yo],Xn=kn*(jn[0]+Cn)+Mn,To=nn-kn*(jn[1]+ln)-Mn,Zo=kn*(So[0]+Cn)+Mn,qo=nn-kn*(So[1]+ln)-Mn,ar=kn*(po[0]+Cn)+Mn,zo=nn-kn*(po[1]+ln)-Mn,_o=kn*(Io[0]+Cn)+Mn,Qo=nn-kn*(Io[1]+ln)-Mn;yo===0&&(Bn.push(Xn,To),zn.push(Xn,To)),Bn.push(Zo,qo,ar,zo,_o,Qo),Sn(this,pn,dE).call(this,Xn,To,Zo,qo,ar,zo,_o,Qo,4,zn)}Dn.push({bezier:Bn,points:zn})}return Dn},pn=new WeakSet,dE=function(kn,Cn,ln,nn,on,Dn,Mn,Bn,zn,Qn){if(Sn(this,yn,uE).call(this,kn,Cn,ln,nn,on,Dn,Mn,Bn)){Qn.push(Mn,Bn);return}for(let yo=1;yo<zn-1;yo++){const to=yo/zn,jn=1-to;let So=to*kn+jn*ln,po=to*Cn+jn*nn,Io=to*ln+jn*on,Xn=to*nn+jn*Dn;const To=to*on+jn*Mn,Zo=to*Dn+jn*Bn;So=to*So+jn*Io,po=to*po+jn*Xn,Io=to*Io+jn*To,Xn=to*Xn+jn*Zo,So=to*So+jn*Io,po=to*po+jn*Xn,Qn.push(So,po)}Qn.push(Mn,Bn)},yn=new WeakSet,uE=function(kn,Cn,ln,nn,on,Dn,Mn,Bn){const Qn=(3*ln-2*kn-Mn)**2,yo=(3*nn-2*Cn-Bn)**2,to=(3*on-kn-2*Mn)**2,jn=(3*Dn-Cn-2*Bn)**2;return Math.max(Qn,to)+Math.max(yo,jn)<=10},xn=new WeakSet,w_=function(){let kn=1/0,Cn=-1/0,ln=1/0,nn=-1/0;for(const on of this.paths)for(const[Dn,Mn,Bn,zn]of on){const Qn=j.Util.bezierBoundingBox(...Dn,...Mn,...Bn,...zn);kn=Math.min(kn,Qn[0]),ln=Math.min(ln,Qn[1]),Cn=Math.max(Cn,Qn[2]),nn=Math.max(nn,Qn[3])}return[kn,ln,Cn,nn]},Ln=new WeakSet,tm=function(){return Ut(this,_t)?Math.ceil(this.thickness*this.parent.scaleFactor):0},Yn=new WeakSet,zl=function(kn=!1){if(this.isEmpty())return;if(!Ut(this,_t)){Sn(this,xt,Fr).call(this);return}const Cn=Sn(this,xn,w_).call(this),ln=Sn(this,Ln,tm).call(this);Nn(this,ft,Math.max(st,Cn[2]-Cn[0])),Nn(this,gt,Math.max(st,Cn[3]-Cn[1]));const nn=Math.ceil(ln+Ut(this,ft)*this.scaleFactor),on=Math.ceil(ln+Ut(this,gt)*this.scaleFactor),[Dn,Mn]=this.parent.viewportBaseDimensions;this.width=nn/Dn,this.height=on/Mn,Nn(this,ct,nn/on),Sn(this,no,__).call(this);const Bn=this.translationX,zn=this.translationY;this.translationX=-Cn[0],this.translationY=-Cn[1],Sn(this,vt,Fl).call(this),Sn(this,xt,Fr).call(this),Nn(this,mt,nn),Nn(this,Pt,on),this.setDims(nn,on);const Qn=kn?ln/this.scaleFactor/2:0;this.translate(Bn-this.translationX-Qn,zn-this.translationY-Qn)},no=new WeakSet,__=function(){const{style:kn}=this.div;Ut(this,ct)>=1?(kn.minHeight=`${st}px`,kn.minWidth=`${Math.round(Ut(this,ct)*st)}px`):(kn.minWidth=`${st}px`,kn.minHeight=`${Math.round(st/Ut(this,ct))}px`)},An(it,mn),Fo(it,"_defaultColor",null),Fo(it,"_defaultOpacity",1),Fo(it,"_defaultThickness",1),Fo(it,"_l10nPromise"),Fo(it,"_type","ink"),d.InkEditor=it},(c,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.fitCurve=void 0;const j=b(26);d.fitCurve=j},c=>{function d(wt,lt,_t){if(!Array.isArray(wt))throw new TypeError("First argument should be an array");if(wt.forEach(mt=>{if(!Array.isArray(mt)||mt.some(Pt=>typeof Pt!="number")||mt.length!==wt[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),wt=wt.filter((mt,Pt)=>Pt===0||!mt.every((It,Ot)=>It===wt[Pt-1][Ot])),wt.length<2)return[];const ut=wt.length,kt=ft(wt[1],wt[0]),pt=ft(wt[ut-2],wt[ut-1]);return b(wt,kt,pt,lt,_t)}function b(wt,lt,_t,ut,kt){var mt,Pt,It,Ot,at,yt,Ct,Bt,Vt,en,Xt,dn,an;if(wt.length===2)return dn=ht.vectorLen(ht.subtract(wt[0],wt[1]))/3,mt=[wt[0],ht.addArrays(wt[0],ht.mulItems(lt,dn)),ht.addArrays(wt[1],ht.mulItems(_t,dn)),wt[1]],[mt];if(Pt=st(wt),[mt,Ot,yt]=j(wt,Pt,Pt,lt,_t,kt),Ot===0||Ot<ut)return[mt];if(Ot<ut*ut)for(It=Pt,at=Ot,Ct=yt,an=0;an<20;an++){if(It=nt(mt,wt,It),[mt,Ot,yt]=j(wt,Pt,It,lt,_t,kt),Ot<ut)return[mt];if(yt===Ct){let Jt=Ot/at;if(Jt>.9999&&Jt<1.0001)break}at=Ot,Ct=yt}return Xt=[],Bt=ht.subtract(wt[yt-1],wt[yt+1]),Bt.every(Jt=>Jt===0)&&(Bt=ht.subtract(wt[yt-1],wt[yt]),[Bt[0],Bt[1]]=[-Bt[1],Bt[0]]),Vt=ht.normalize(Bt),en=ht.mulItems(Vt,-1),Xt=Xt.concat(b(wt.slice(0,yt+1),lt,Vt,ut,kt)),Xt=Xt.concat(b(wt.slice(yt),en,_t,ut,kt)),Xt}function j(wt,lt,_t,ut,kt,pt){var mt,Pt,It;return mt=_e(wt,_t,ut,kt),[Pt,It]=it(wt,mt,lt),pt&&pt({bez:mt,points:wt,params:lt,maxErr:Pt,maxPoint:It}),[mt,Pt,It]}function _e(wt,lt,_t,ut){var kt,pt,mt,Pt,It,Ot,at,yt,Ct,Bt,Vt,en,Xt,dn,an,Jt,Kt,tn=wt[0],hn=wt[wt.length-1];for(kt=[tn,null,null,hn],pt=ht.zeros_Xx2x2(lt.length),Xt=0,dn=lt.length;Xt<dn;Xt++)Jt=lt[Xt],Kt=1-Jt,mt=pt[Xt],mt[0]=ht.mulItems(_t,3*Jt*(Kt*Kt)),mt[1]=ht.mulItems(ut,3*Kt*(Jt*Jt));for(Pt=[[0,0],[0,0]],It=[0,0],Xt=0,dn=wt.length;Xt<dn;Xt++)Jt=lt[Xt],mt=pt[Xt],Pt[0][0]+=ht.dot(mt[0],mt[0]),Pt[0][1]+=ht.dot(mt[0],mt[1]),Pt[1][0]+=ht.dot(mt[0],mt[1]),Pt[1][1]+=ht.dot(mt[1],mt[1]),an=ht.subtract(wt[Xt],bt.q([tn,tn,hn,hn],Jt)),It[0]+=ht.dot(mt[0],an),It[1]+=ht.dot(mt[1],an);return Ot=Pt[0][0]*Pt[1][1]-Pt[1][0]*Pt[0][1],at=Pt[0][0]*It[1]-Pt[1][0]*It[0],yt=It[0]*Pt[1][1]-It[1]*Pt[0][1],Ct=Ot===0?0:yt/Ot,Bt=Ot===0?0:at/Ot,en=ht.vectorLen(ht.subtract(tn,hn)),Vt=1e-6*en,Ct<Vt||Bt<Vt?(kt[1]=ht.addArrays(tn,ht.mulItems(_t,en/3)),kt[2]=ht.addArrays(hn,ht.mulItems(ut,en/3))):(kt[1]=ht.addArrays(tn,ht.mulItems(_t,Ct)),kt[2]=ht.addArrays(hn,ht.mulItems(ut,Bt))),kt}function nt(wt,lt,_t){return _t.map((ut,kt)=>rt(wt,lt[kt],ut))}function rt(wt,lt,_t){var ut=ht.subtract(bt.q(wt,_t),lt),kt=bt.qprime(wt,_t),pt=ht.mulMatrix(ut,kt),mt=ht.sum(ht.squareItems(kt))+2*ht.mulMatrix(ut,bt.qprimeprime(wt,_t));return mt===0?_t:_t-pt/mt}function st(wt){var lt=[],_t,ut,kt;return wt.forEach((pt,mt)=>{_t=mt?ut+ht.vectorLen(ht.subtract(pt,kt)):0,lt.push(_t),ut=_t,kt=pt}),lt=lt.map(pt=>pt/ut),lt}function it(wt,lt,_t){var ut,kt,pt,mt,Pt,It,Ot,at;kt=0,pt=Math.floor(wt.length/2);const yt=ct(lt,10);for(Pt=0,It=wt.length;Pt<It;Pt++)Ot=wt[Pt],at=gt(lt,_t[Pt],yt,10),mt=ht.subtract(bt.q(lt,at),Ot),ut=mt[0]*mt[0]+mt[1]*mt[1],ut>kt&&(kt=ut,pt=Pt);return[kt,pt]}var ct=function(wt,lt){for(var _t,ut=[0],kt=wt[0],pt=0,mt=1;mt<=lt;mt++)_t=bt.q(wt,mt/lt),pt+=ht.vectorLen(ht.subtract(_t,kt)),ut.push(pt),kt=_t;return ut=ut.map(Pt=>Pt/pt),ut};function gt(wt,lt,_t,ut){if(lt<0)return 0;if(lt>1)return 1;for(var kt,pt,mt,Pt,It,Ot=1;Ot<=ut;Ot++)if(lt<=_t[Ot]){Pt=(Ot-1)/ut,mt=Ot/ut,pt=_t[Ot-1],kt=_t[Ot],It=(lt-pt)/(kt-pt)*(mt-Pt)+Pt;break}return It}function ft(wt,lt){return ht.normalize(ht.subtract(wt,lt))}class ht{static zeros_Xx2x2(lt){for(var _t=[];lt--;)_t.push([0,0]);return _t}static mulItems(lt,_t){return lt.map(ut=>ut*_t)}static mulMatrix(lt,_t){return lt.reduce((ut,kt,pt)=>ut+kt*_t[pt],0)}static subtract(lt,_t){return lt.map((ut,kt)=>ut-_t[kt])}static addArrays(lt,_t){return lt.map((ut,kt)=>ut+_t[kt])}static addItems(lt,_t){return lt.map(ut=>ut+_t)}static sum(lt){return lt.reduce((_t,ut)=>_t+ut)}static dot(lt,_t){return ht.mulMatrix(lt,_t)}static vectorLen(lt){return Math.hypot(...lt)}static divItems(lt,_t){return lt.map(ut=>ut/_t)}static squareItems(lt){return lt.map(_t=>_t*_t)}static normalize(lt){return this.divItems(lt,this.vectorLen(lt))}}class bt{static q(lt,_t){var ut=1-_t,kt=ht.mulItems(lt[0],ut*ut*ut),pt=ht.mulItems(lt[1],3*ut*ut*_t),mt=ht.mulItems(lt[2],3*ut*_t*_t),Pt=ht.mulItems(lt[3],_t*_t*_t);return ht.addArrays(ht.addArrays(kt,pt),ht.addArrays(mt,Pt))}static qprime(lt,_t){var ut=1-_t,kt=ht.mulItems(ht.subtract(lt[1],lt[0]),3*ut*ut),pt=ht.mulItems(ht.subtract(lt[2],lt[1]),6*ut*_t),mt=ht.mulItems(ht.subtract(lt[3],lt[2]),3*_t*_t);return ht.addArrays(ht.addArrays(kt,pt),mt)}static qprimeprime(lt,_t){return ht.addArrays(ht.mulItems(ht.addArrays(ht.subtract(lt[2],ht.mulItems(lt[1],2)),lt[0]),6*(1-_t)),ht.mulItems(ht.addArrays(ht.subtract(lt[3],ht.mulItems(lt[2],2)),lt[1]),6*_t))}}c.exports=d,c.exports.fitCubic=b,c.exports.createTangent=ft},(c,d,b)=>{var xt,v_,jt,A_,Ht,y_;Object.defineProperty(d,"__esModule",{value:!0}),d.AnnotationLayer=void 0;var j=b(1),_e=b(8),nt=b(5),rt=b(28),st=b(29);const it=1e3,ct=9,gt=new WeakSet;function ft(sn){return{width:sn[2]-sn[0],height:sn[3]-sn[1]}}class ht{static create(vt){switch(vt.data.annotationType){case j.AnnotationType.LINK:return new wt(vt);case j.AnnotationType.TEXT:return new lt(vt);case j.AnnotationType.WIDGET:switch(vt.data.fieldType){case"Tx":return new ut(vt);case"Btn":return vt.data.radioButton?new pt(vt):vt.data.checkBox?new kt(vt):new mt(vt);case"Ch":return new Pt(vt)}return new _t(vt);case j.AnnotationType.POPUP:return new It(vt);case j.AnnotationType.FREETEXT:return new at(vt);case j.AnnotationType.LINE:return new yt(vt);case j.AnnotationType.SQUARE:return new Ct(vt);case j.AnnotationType.CIRCLE:return new Bt(vt);case j.AnnotationType.POLYLINE:return new Vt(vt);case j.AnnotationType.CARET:return new Xt(vt);case j.AnnotationType.INK:return new dn(vt);case j.AnnotationType.POLYGON:return new en(vt);case j.AnnotationType.HIGHLIGHT:return new an(vt);case j.AnnotationType.UNDERLINE:return new Jt(vt);case j.AnnotationType.SQUIGGLY:return new Kt(vt);case j.AnnotationType.STRIKEOUT:return new tn(vt);case j.AnnotationType.STAMP:return new hn(vt);case j.AnnotationType.FILEATTACHMENT:return new fn(vt);default:return new bt(vt)}}}class bt{constructor(vt,{isRenderable:Tt=!1,ignoreBorder:Nt=!1,createQuadrilaterals:Lt=!1}={}){this.isRenderable=Tt,this.data=vt.data,this.layer=vt.layer,this.page=vt.page,this.viewport=vt.viewport,this.linkService=vt.linkService,this.downloadManager=vt.downloadManager,this.imageResourcesPath=vt.imageResourcesPath,this.renderForms=vt.renderForms,this.svgFactory=vt.svgFactory,this.annotationStorage=vt.annotationStorage,this.enableScripting=vt.enableScripting,this.hasJSActions=vt.hasJSActions,this._fieldObjects=vt.fieldObjects,this._mouseState=vt.mouseState,Tt&&(this.container=this._createContainer(Nt)),Lt&&(this.quadrilaterals=this._createQuadrilaterals(Nt))}_createContainer(vt=!1){const Tt=this.data,Nt=this.page,Lt=this.viewport,zt=document.createElement("section"),{width:Zt,height:mn}=ft(Tt.rect),[En,un,vn,pn]=Lt.viewBox,_n=vn-En,yn=pn-un;zt.setAttribute("data-annotation-id",Tt.id);const $t=j.Util.normalizeRect([Tt.rect[0],Nt.view[3]-Tt.rect[1]+Nt.view[1],Tt.rect[2],Nt.view[3]-Tt.rect[3]+Nt.view[1]]);if(!vt&&Tt.borderStyle.width>0){zt.style.borderWidth=`${Tt.borderStyle.width}px`;const On=Tt.borderStyle.horizontalCornerRadius,Ln=Tt.borderStyle.verticalCornerRadius;if(On>0||Ln>0){const Yn=`calc(${On}px * var(--scale-factor)) / calc(${Ln}px * var(--scale-factor))`;zt.style.borderRadius=Yn}else if(this instanceof pt){const Yn=`calc(${Zt}px * var(--scale-factor)) / calc(${mn}px * var(--scale-factor))`;zt.style.borderRadius=Yn}switch(Tt.borderStyle.style){case j.AnnotationBorderStyleType.SOLID:zt.style.borderStyle="solid";break;case j.AnnotationBorderStyleType.DASHED:zt.style.borderStyle="dashed";break;case j.AnnotationBorderStyleType.BEVELED:(0,j.warn)("Unimplemented border style: beveled");break;case j.AnnotationBorderStyleType.INSET:(0,j.warn)("Unimplemented border style: inset");break;case j.AnnotationBorderStyleType.UNDERLINE:zt.style.borderBottomStyle="solid";break}const Vn=Tt.borderColor||null;Vn?zt.style.borderColor=j.Util.makeHexColor(Vn[0]|0,Vn[1]|0,Vn[2]|0):zt.style.borderWidth=0}zt.style.left=`${100*($t[0]-En)/_n}%`,zt.style.top=`${100*($t[1]-un)/yn}%`;const{rotation:xn}=Tt;return Tt.hasOwnCanvas||xn===0?(zt.style.width=`${100*Zt/_n}%`,zt.style.height=`${100*mn/yn}%`):this.setRotation(xn,zt),zt}setRotation(vt,Tt=this.container){const[Nt,Lt,zt,Zt]=this.viewport.viewBox,mn=zt-Nt,En=Zt-Lt,{width:un,height:vn}=ft(this.data.rect);let pn,_n;vt%180===0?(pn=100*un/mn,_n=100*vn/En):(pn=100*vn/mn,_n=100*un/En),Tt.style.width=`${pn}%`,Tt.style.height=`${_n}%`,Tt.setAttribute("data-main-rotation",(360-vt)%360)}get _commonActions(){const vt=(Tt,Nt,Lt)=>{const zt=Lt.detail[Tt];Lt.target.style[Nt]=rt.ColorConverters[`${zt[0]}_HTML`](zt.slice(1))};return(0,j.shadow)(this,"_commonActions",{display:Tt=>{const Nt=Tt.detail.display%2===1;this.container.style.visibility=Nt?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:Nt,print:Tt.detail.display===0||Tt.detail.display===3})},print:Tt=>{this.annotationStorage.setValue(this.data.id,{print:Tt.detail.print})},hidden:Tt=>{this.container.style.visibility=Tt.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:Tt.detail.hidden})},focus:Tt=>{setTimeout(()=>Tt.target.focus({preventScroll:!1}),0)},userName:Tt=>{Tt.target.title=Tt.detail.userName},readonly:Tt=>{Tt.detail.readonly?Tt.target.setAttribute("readonly",""):Tt.target.removeAttribute("readonly")},required:Tt=>{this._setRequired(Tt.target,Tt.detail.required)},bgColor:Tt=>{vt("bgColor","backgroundColor",Tt)},fillColor:Tt=>{vt("fillColor","backgroundColor",Tt)},fgColor:Tt=>{vt("fgColor","color",Tt)},textColor:Tt=>{vt("textColor","color",Tt)},borderColor:Tt=>{vt("borderColor","borderColor",Tt)},strokeColor:Tt=>{vt("strokeColor","borderColor",Tt)},rotation:Tt=>{const Nt=Tt.detail.rotation;this.setRotation(Nt),this.annotationStorage.setValue(this.data.id,{rotation:Nt})}})}_dispatchEventFromSandbox(vt,Tt){const Nt=this._commonActions;for(const Lt of Object.keys(Tt.detail)){const zt=vt[Lt]||Nt[Lt];zt&&zt(Tt)}}_setDefaultPropertiesFromJS(vt){if(!this.enableScripting)return;const Tt=this.annotationStorage.getRawValue(this.data.id);if(!Tt)return;const Nt=this._commonActions;for(const[Lt,zt]of Object.entries(Tt)){const Zt=Nt[Lt];if(Zt){const mn={detail:{[Lt]:zt},target:vt};Zt(mn),delete Tt[Lt]}}}_createQuadrilaterals(vt=!1){if(!this.data.quadPoints)return null;const Tt=[],Nt=this.data.rect;for(const Lt of this.data.quadPoints)this.data.rect=[Lt[2].x,Lt[2].y,Lt[1].x,Lt[1].y],Tt.push(this._createContainer(vt));return this.data.rect=Nt,Tt}_createPopup(vt,Tt){let Nt=this.container;this.quadrilaterals&&(vt=vt||this.quadrilaterals,Nt=this.quadrilaterals[0]),vt||(vt=document.createElement("div"),vt.className="popupTriggerArea",Nt.append(vt));const zt=new Ot({container:Nt,trigger:vt,color:Tt.color,titleObj:Tt.titleObj,modificationDate:Tt.modificationDate,contentsObj:Tt.contentsObj,richText:Tt.richText,hideWrapper:!0}).render();zt.style.left="100%",Nt.append(zt)}_renderQuadrilaterals(vt){for(const Tt of this.quadrilaterals)Tt.className=vt;return this.quadrilaterals}render(){(0,j.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(vt,Tt=null){const Nt=[];if(this._fieldObjects){const Lt=this._fieldObjects[vt];if(Lt)for(const{page:zt,id:Zt,exportValues:mn}of Lt){if(zt===-1||Zt===Tt)continue;const En=typeof mn=="string"?mn:null,un=document.querySelector(`[data-element-id="${Zt}"]`);if(un&&!gt.has(un)){(0,j.warn)(`_getElementsByName - element not allowed: ${Zt}`);continue}Nt.push({id:Zt,exportValue:En,domElement:un})}return Nt}for(const Lt of document.getElementsByName(vt)){const{id:zt,exportValue:Zt}=Lt;zt!==Tt&&gt.has(Lt)&&Nt.push({id:zt,exportValue:Zt,domElement:Lt})}return Nt}static get platform(){const vt=typeof navigator<"u"?navigator.platform:"";return(0,j.shadow)(this,"platform",{isWin:vt.includes("Win"),isMac:vt.includes("Mac")})}}class wt extends bt{constructor(vt,Tt=null){super(vt,{isRenderable:!0,ignoreBorder:!!(Tt!=null&&Tt.ignoreBorder),createQuadrilaterals:!0}),this.isTooltipOnly=vt.data.isTooltipOnly}render(){const{data:vt,linkService:Tt}=this,Nt=document.createElement("a");Nt.setAttribute("data-element-id",vt.id);let Lt=!1;return vt.url?(Tt.addLinkAttributes(Nt,vt.url,vt.newWindow),Lt=!0):vt.action?(this._bindNamedAction(Nt,vt.action),Lt=!0):vt.dest?(this._bindLink(Nt,vt.dest),Lt=!0):(vt.actions&&(vt.actions.Action||vt.actions["Mouse Up"]||vt.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Nt,vt),Lt=!0),vt.resetForm?(this._bindResetFormAction(Nt,vt.resetForm),Lt=!0):this.isTooltipOnly&&!Lt&&(this._bindLink(Nt,""),Lt=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((zt,Zt)=>{const mn=Zt===0?Nt:Nt.cloneNode();return zt.append(mn),zt}):(this.container.className="linkAnnotation",Lt&&this.container.append(Nt),this.container)}_bindLink(vt,Tt){vt.href=this.linkService.getDestinationHash(Tt),vt.onclick=()=>(Tt&&this.linkService.goToDestination(Tt),!1),(Tt||Tt==="")&&(vt.className="internalLink")}_bindNamedAction(vt,Tt){vt.href=this.linkService.getAnchorUrl(""),vt.onclick=()=>(this.linkService.executeNamedAction(Tt),!1),vt.className="internalLink"}_bindJSAction(vt,Tt){vt.href=this.linkService.getAnchorUrl("");const Nt=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Lt of Object.keys(Tt.actions)){const zt=Nt.get(Lt);zt&&(vt[zt]=()=>{var Zt;return(Zt=this.linkService.eventBus)==null||Zt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tt.id,name:Lt}}),!1})}vt.onclick||(vt.onclick=()=>!1),vt.className="internalLink"}_bindResetFormAction(vt,Tt){const Nt=vt.onclick;if(Nt||(vt.href=this.linkService.getAnchorUrl("")),vt.className="internalLink",!this._fieldObjects){(0,j.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Nt||(vt.onclick=()=>!1);return}vt.onclick=()=>{var vn;Nt&&Nt();const{fields:Lt,refs:zt,include:Zt}=Tt,mn=[];if(Lt.length!==0||zt.length!==0){const pn=new Set(zt);for(const _n of Lt){const yn=this._fieldObjects[_n]||[];for(const{id:$t}of yn)pn.add($t)}for(const _n of Object.values(this._fieldObjects))for(const yn of _n)pn.has(yn.id)===Zt&&mn.push(yn)}else for(const pn of Object.values(this._fieldObjects))mn.push(...pn);const En=this.annotationStorage,un=[];for(const pn of mn){const{id:_n}=pn;switch(un.push(_n),pn.type){case"text":{const $t=pn.defaultValue||"";En.setValue(_n,{value:$t});break}case"checkbox":case"radiobutton":{const $t=pn.defaultValue===pn.exportValues;En.setValue(_n,{value:$t});break}case"combobox":case"listbox":{const $t=pn.defaultValue||"";En.setValue(_n,{value:$t});break}default:continue}const yn=document.querySelector(`[data-element-id="${_n}"]`);if(yn){if(!gt.has(yn)){(0,j.warn)(`_bindResetFormAction - element not allowed: ${_n}`);continue}}else continue;yn.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((vn=this.linkService.eventBus)==null||vn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:un,name:"ResetForm"}})),!1}}}class lt extends bt{constructor(vt){var Nt,Lt,zt;const Tt=!!(vt.data.hasPopup||(Nt=vt.data.titleObj)!=null&&Nt.str||(Lt=vt.data.contentsObj)!=null&&Lt.str||(zt=vt.data.richText)!=null&&zt.str);super(vt,{isRenderable:Tt})}render(){this.container.className="textAnnotation";const vt=document.createElement("img");return vt.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",vt.alt="[{{type}} Annotation]",vt.dataset.l10nId="text_annotation_type",vt.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(vt,this.data),this.container.append(vt),this.container}}class _t extends bt{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(vt){const{isWin:Tt,isMac:Nt}=bt.platform;return Tt&&vt.ctrlKey||Nt&&vt.metaKey}_setEventListener(vt,Tt,Nt,Lt){Tt.includes("mouse")?vt.addEventListener(Tt,zt=>{var Zt;(Zt=this.linkService.eventBus)==null||Zt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Nt,value:Lt(zt),shift:zt.shiftKey,modifier:this._getKeyModifier(zt)}})}):vt.addEventListener(Tt,zt=>{var Zt;(Zt=this.linkService.eventBus)==null||Zt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Nt,value:Lt(zt)}})})}_setEventListeners(vt,Tt,Nt){var Lt;for(const[zt,Zt]of Tt)(Zt==="Action"||(Lt=this.data.actions)!=null&&Lt[Zt])&&this._setEventListener(vt,zt,Zt,Nt)}_setBackgroundColor(vt){const Tt=this.data.backgroundColor||null;vt.style.backgroundColor=Tt===null?"transparent":j.Util.makeHexColor(Tt[0],Tt[1],Tt[2])}_setTextStyle(vt){const Tt=["left","center","right"],{fontColor:Nt}=this.data.defaultAppearanceData,Lt=this.data.defaultAppearanceData.fontSize||ct,zt=vt.style;let Zt;if(this.data.multiLine){const mn=Math.abs(this.data.rect[3]-this.data.rect[1]),En=Math.round(mn/(j.LINE_FACTOR*Lt))||1,un=mn/En;Zt=Math.min(Lt,Math.round(un/j.LINE_FACTOR))}else{const mn=Math.abs(this.data.rect[3]-this.data.rect[1]);Zt=Math.min(Lt,Math.round(mn/j.LINE_FACTOR))}zt.fontSize=`calc(${Zt}px * var(--scale-factor))`,zt.color=j.Util.makeHexColor(Nt[0],Nt[1],Nt[2]),this.data.textAlignment!==null&&(zt.textAlign=Tt[this.data.textAlignment])}_setRequired(vt,Tt){Tt?vt.setAttribute("required",!0):vt.removeAttribute("required"),vt.setAttribute("aria-required",Tt)}}class ut extends _t{constructor(vt){const Tt=vt.renderForms||!vt.data.hasAppearance&&!!vt.data.fieldValue;super(vt,{isRenderable:Tt})}setPropertyOnSiblings(vt,Tt,Nt,Lt){const zt=this.annotationStorage;for(const Zt of this._getElementsByName(vt.name,vt.id))Zt.domElement&&(Zt.domElement[Tt]=Nt),zt.setValue(Zt.id,{[Lt]:Nt})}render(){var Lt;const vt=this.annotationStorage,Tt=this.data.id;this.container.className="textWidgetAnnotation";let Nt=null;if(this.renderForms){const zt=vt.getValue(Tt,{value:this.data.fieldValue});let Zt=zt.formattedValue||zt.value||"";const mn=vt.getValue(Tt,{charLimit:this.data.maxLen}).charLimit;mn&&Zt.length>mn&&(Zt=Zt.slice(0,mn));const En={userValue:Zt,formattedValue:null,valueOnFocus:""};this.data.multiLine?(Nt=document.createElement("textarea"),Nt.textContent=Zt,this.data.doNotScroll&&(Nt.style.overflowY="hidden")):(Nt=document.createElement("input"),Nt.type="text",Nt.setAttribute("value",Zt),this.data.doNotScroll&&(Nt.style.overflowX="hidden")),gt.add(Nt),Nt.setAttribute("data-element-id",Tt),Nt.disabled=this.data.readOnly,Nt.name=this.data.fieldName,Nt.tabIndex=it,this._setRequired(Nt,this.data.required),mn&&(Nt.maxLength=mn),Nt.addEventListener("input",vn=>{vt.setValue(Tt,{value:vn.target.value}),this.setPropertyOnSiblings(Nt,"value",vn.target.value,"value")}),Nt.addEventListener("resetform",vn=>{const pn=this.data.defaultFieldValue??"";Nt.value=En.userValue=pn,En.formattedValue=null});let un=vn=>{const{formattedValue:pn}=En;pn!=null&&(vn.target.value=pn),vn.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Nt.addEventListener("focus",pn=>{En.userValue&&(pn.target.value=En.userValue),En.valueOnFocus=pn.target.value}),Nt.addEventListener("updatefromsandbox",pn=>{const _n={value(yn){En.userValue=yn.detail.value??"",vt.setValue(Tt,{value:En.userValue.toString()}),yn.target.value=En.userValue},formattedValue(yn){const{formattedValue:$t}=yn.detail;En.formattedValue=$t,$t!=null&&yn.target!==document.activeElement&&(yn.target.value=$t),vt.setValue(Tt,{formattedValue:$t})},selRange(yn){yn.target.setSelectionRange(...yn.detail.selRange)},charLimit:yn=>{var Ln;const{charLimit:$t}=yn.detail,{target:xn}=yn;if($t===0){xn.removeAttribute("maxLength");return}xn.setAttribute("maxLength",$t);let On=En.userValue;!On||On.length<=$t||(On=On.slice(0,$t),xn.value=En.userValue=On,vt.setValue(Tt,{value:On}),(Ln=this.linkService.eventBus)==null||Ln.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tt,name:"Keystroke",value:On,willCommit:!0,commitKey:1,selStart:xn.selectionStart,selEnd:xn.selectionEnd}}))}};this._dispatchEventFromSandbox(_n,pn)}),Nt.addEventListener("keydown",pn=>{var $t;let _n=-1;if(pn.key==="Escape"?_n=0:pn.key==="Enter"?_n=2:pn.key==="Tab"&&(_n=3),_n===-1)return;const{value:yn}=pn.target;En.valueOnFocus!==yn&&(En.userValue=yn,($t=this.linkService.eventBus)==null||$t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tt,name:"Keystroke",value:yn,willCommit:!0,commitKey:_n,selStart:pn.target.selectionStart,selEnd:pn.target.selectionEnd}}))});const vn=un;un=null,Nt.addEventListener("blur",pn=>{var yn;const{value:_n}=pn.target;En.userValue=_n,this._mouseState.isDown&&En.valueOnFocus!==_n&&((yn=this.linkService.eventBus)==null||yn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tt,name:"Keystroke",value:_n,willCommit:!0,commitKey:1,selStart:pn.target.selectionStart,selEnd:pn.target.selectionEnd}})),vn(pn)}),(Lt=this.data.actions)!=null&&Lt.Keystroke&&Nt.addEventListener("beforeinput",pn=>{var Yn;const{data:_n,target:yn}=pn,{value:$t,selectionStart:xn,selectionEnd:On}=yn;let Ln=xn,Vn=On;switch(pn.inputType){case"deleteWordBackward":{const bo=$t.substring(0,xn).match(/\w*[^\w]*$/);bo&&(Ln-=bo[0].length);break}case"deleteWordForward":{const bo=$t.substring(xn).match(/^[^\w]*\w*/);bo&&(Vn+=bo[0].length);break}case"deleteContentBackward":xn===On&&(Ln-=1);break;case"deleteContentForward":xn===On&&(Vn+=1);break}pn.preventDefault(),(Yn=this.linkService.eventBus)==null||Yn.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tt,name:"Keystroke",value:$t,change:_n||"",willCommit:!1,selStart:Ln,selEnd:Vn}})}),this._setEventListeners(Nt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],pn=>pn.target.value)}if(un&&Nt.addEventListener("blur",un),this.data.comb){const pn=(this.data.rect[2]-this.data.rect[0])/mn;Nt.classList.add("comb"),Nt.style.letterSpacing=`calc(${pn}px * var(--scale-factor) - 1ch)`}}else Nt=document.createElement("div"),Nt.textContent=this.data.fieldValue,Nt.style.verticalAlign="middle",Nt.style.display="table-cell";return this._setTextStyle(Nt),this._setBackgroundColor(Nt),this._setDefaultPropertiesFromJS(Nt),this.container.append(Nt),this.container}}class kt extends _t{constructor(vt){super(vt,{isRenderable:vt.renderForms})}render(){const vt=this.annotationStorage,Tt=this.data,Nt=Tt.id;let Lt=vt.getValue(Nt,{value:Tt.exportValue===Tt.fieldValue}).value;typeof Lt=="string"&&(Lt=Lt!=="Off",vt.setValue(Nt,{value:Lt})),this.container.className="buttonWidgetAnnotation checkBox";const zt=document.createElement("input");return gt.add(zt),zt.setAttribute("data-element-id",Nt),zt.disabled=Tt.readOnly,this._setRequired(zt,this.data.required),zt.type="checkbox",zt.name=Tt.fieldName,Lt&&zt.setAttribute("checked",!0),zt.setAttribute("exportValue",Tt.exportValue),zt.tabIndex=it,zt.addEventListener("change",Zt=>{const{name:mn,checked:En}=Zt.target;for(const un of this._getElementsByName(mn,Nt)){const vn=En&&un.exportValue===Tt.exportValue;un.domElement&&(un.domElement.checked=vn),vt.setValue(un.id,{value:vn})}vt.setValue(Nt,{value:En})}),zt.addEventListener("resetform",Zt=>{const mn=Tt.defaultFieldValue||"Off";Zt.target.checked=mn===Tt.exportValue}),this.enableScripting&&this.hasJSActions&&(zt.addEventListener("updatefromsandbox",Zt=>{const mn={value(En){En.target.checked=En.detail.value!=="Off",vt.setValue(Nt,{value:En.target.checked})}};this._dispatchEventFromSandbox(mn,Zt)}),this._setEventListeners(zt,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Zt=>Zt.target.checked)),this._setBackgroundColor(zt),this._setDefaultPropertiesFromJS(zt),this.container.append(zt),this.container}}class pt extends _t{constructor(vt){super(vt,{isRenderable:vt.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const vt=this.annotationStorage,Tt=this.data,Nt=Tt.id;let Lt=vt.getValue(Nt,{value:Tt.fieldValue===Tt.buttonValue}).value;typeof Lt=="string"&&(Lt=Lt!==Tt.buttonValue,vt.setValue(Nt,{value:Lt}));const zt=document.createElement("input");if(gt.add(zt),zt.setAttribute("data-element-id",Nt),zt.disabled=Tt.readOnly,this._setRequired(zt,this.data.required),zt.type="radio",zt.name=Tt.fieldName,Lt&&zt.setAttribute("checked",!0),zt.tabIndex=it,zt.addEventListener("change",Zt=>{const{name:mn,checked:En}=Zt.target;for(const un of this._getElementsByName(mn,Nt))vt.setValue(un.id,{value:!1});vt.setValue(Nt,{value:En})}),zt.addEventListener("resetform",Zt=>{const mn=Tt.defaultFieldValue;Zt.target.checked=mn!=null&&mn===Tt.buttonValue}),this.enableScripting&&this.hasJSActions){const Zt=Tt.buttonValue;zt.addEventListener("updatefromsandbox",mn=>{const En={value:un=>{const vn=Zt===un.detail.value;for(const pn of this._getElementsByName(un.target.name)){const _n=vn&&pn.id===Nt;pn.domElement&&(pn.domElement.checked=_n),vt.setValue(pn.id,{value:_n})}}};this._dispatchEventFromSandbox(En,mn)}),this._setEventListeners(zt,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],mn=>mn.target.checked)}return this._setBackgroundColor(zt),this._setDefaultPropertiesFromJS(zt),this.container.append(zt),this.container}}class mt extends wt{constructor(vt){super(vt,{ignoreBorder:vt.data.hasAppearance})}render(){const vt=super.render();vt.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(vt.title=this.data.alternativeText);const Tt=vt.lastChild;return this.enableScripting&&this.hasJSActions&&Tt&&(this._setDefaultPropertiesFromJS(Tt),Tt.addEventListener("updatefromsandbox",Nt=>{this._dispatchEventFromSandbox({},Nt)})),vt}}class Pt extends _t{constructor(vt){super(vt,{isRenderable:vt.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const vt=this.annotationStorage,Tt=this.data.id,Nt=vt.getValue(Tt,{value:this.data.fieldValue}),Lt=document.createElement("select");gt.add(Lt),Lt.setAttribute("data-element-id",Tt),Lt.disabled=this.data.readOnly,this._setRequired(Lt,this.data.required),Lt.name=this.data.fieldName,Lt.tabIndex=it;let zt=this.data.combo&&this.data.options.length>0;this.data.combo||(Lt.size=this.data.options.length,this.data.multiSelect&&(Lt.multiple=!0)),Lt.addEventListener("resetform",un=>{const vn=this.data.defaultFieldValue;for(const pn of Lt.options)pn.selected=pn.value===vn});for(const un of this.data.options){const vn=document.createElement("option");vn.textContent=un.displayValue,vn.value=un.exportValue,Nt.value.includes(un.exportValue)&&(vn.setAttribute("selected",!0),zt=!1),Lt.append(vn)}let Zt=null;if(zt){const un=document.createElement("option");un.value=" ",un.setAttribute("hidden",!0),un.setAttribute("selected",!0),Lt.prepend(un),Zt=()=>{un.remove(),Lt.removeEventListener("input",Zt),Zt=null},Lt.addEventListener("input",Zt)}const mn=(un,vn)=>{const pn=vn?"value":"textContent",_n=un.target.options;return un.target.multiple?Array.prototype.filter.call(_n,yn=>yn.selected).map(yn=>yn[pn]):_n.selectedIndex===-1?null:_n[_n.selectedIndex][pn]},En=un=>{const vn=un.target.options;return Array.prototype.map.call(vn,pn=>({displayValue:pn.textContent,exportValue:pn.value}))};return this.enableScripting&&this.hasJSActions?(Lt.addEventListener("updatefromsandbox",un=>{const vn={value(pn){Zt==null||Zt();const _n=pn.detail.value,yn=new Set(Array.isArray(_n)?_n:[_n]);for(const $t of Lt.options)$t.selected=yn.has($t.value);vt.setValue(Tt,{value:mn(pn,!0)})},multipleSelection(pn){Lt.multiple=!0},remove(pn){const _n=Lt.options,yn=pn.detail.remove;_n[yn].selected=!1,Lt.remove(yn),_n.length>0&&Array.prototype.findIndex.call(_n,xn=>xn.selected)===-1&&(_n[0].selected=!0),vt.setValue(Tt,{value:mn(pn,!0),items:En(pn)})},clear(pn){for(;Lt.length!==0;)Lt.remove(0);vt.setValue(Tt,{value:null,items:[]})},insert(pn){const{index:_n,displayValue:yn,exportValue:$t}=pn.detail.insert,xn=Lt.children[_n],On=document.createElement("option");On.textContent=yn,On.value=$t,xn?xn.before(On):Lt.append(On),vt.setValue(Tt,{value:mn(pn,!0),items:En(pn)})},items(pn){const{items:_n}=pn.detail;for(;Lt.length!==0;)Lt.remove(0);for(const yn of _n){const{displayValue:$t,exportValue:xn}=yn,On=document.createElement("option");On.textContent=$t,On.value=xn,Lt.append(On)}Lt.options.length>0&&(Lt.options[0].selected=!0),vt.setValue(Tt,{value:mn(pn,!0),items:En(pn)})},indices(pn){const _n=new Set(pn.detail.indices);for(const yn of pn.target.options)yn.selected=_n.has(yn.index);vt.setValue(Tt,{value:mn(pn,!0)})},editable(pn){pn.target.disabled=!pn.detail.editable}};this._dispatchEventFromSandbox(vn,un)}),Lt.addEventListener("input",un=>{var _n;const vn=mn(un,!0),pn=mn(un,!1);vt.setValue(Tt,{value:vn}),(_n=this.linkService.eventBus)==null||_n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Tt,name:"Keystroke",value:pn,changeEx:vn,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(Lt,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],un=>un.target.checked)):Lt.addEventListener("input",function(un){vt.setValue(Tt,{value:mn(un,!0)})}),this.data.combo&&this._setTextStyle(Lt),this._setBackgroundColor(Lt),this._setDefaultPropertiesFromJS(Lt),this.container.append(Lt),this.container}}class It extends bt{constructor(vt){var Nt,Lt,zt;const Tt=!!((Nt=vt.data.titleObj)!=null&&Nt.str||(Lt=vt.data.contentsObj)!=null&&Lt.str||(zt=vt.data.richText)!=null&&zt.str);super(vt,{isRenderable:Tt})}render(){const vt=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",vt.includes(this.data.parentType))return this.container;const Tt=`[data-annotation-id="${this.data.parentId}"]`,Nt=this.layer.querySelectorAll(Tt);if(Nt.length===0)return this.container;const Lt=new Ot({container:this.container,trigger:Array.from(Nt),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),zt=this.page,Zt=j.Util.normalizeRect([this.data.parentRect[0],zt.view[3]-this.data.parentRect[1]+zt.view[1],this.data.parentRect[2],zt.view[3]-this.data.parentRect[3]+zt.view[1]]),mn=Zt[0]+this.data.parentRect[2]-this.data.parentRect[0],En=Zt[1],[un,vn,pn,_n]=this.viewport.viewBox,yn=pn-un,$t=_n-vn;return this.container.style.left=`${100*(mn-un)/yn}%`,this.container.style.top=`${100*(En-vn)/$t}%`,this.container.append(Lt.render()),this.container}}class Ot{constructor(vt){this.container=vt.container,this.trigger=vt.trigger,this.color=vt.color,this.titleObj=vt.titleObj,this.modificationDate=vt.modificationDate,this.contentsObj=vt.contentsObj,this.richText=vt.richText,this.hideWrapper=vt.hideWrapper||!1,this.pinned=!1}render(){var mn,En;const Tt=document.createElement("div");Tt.className="popupWrapper",this.hideElement=this.hideWrapper?Tt:this.container,this.hideElement.hidden=!0;const Nt=document.createElement("div");Nt.className="popup";const Lt=this.color;if(Lt){const un=.7*(255-Lt[0])+Lt[0],vn=.7*(255-Lt[1])+Lt[1],pn=.7*(255-Lt[2])+Lt[2];Nt.style.backgroundColor=j.Util.makeHexColor(un|0,vn|0,pn|0)}const zt=document.createElement("h1");zt.dir=this.titleObj.dir,zt.textContent=this.titleObj.str,Nt.append(zt);const Zt=_e.PDFDateString.toDateObject(this.modificationDate);if(Zt){const un=document.createElement("span");un.className="popupDate",un.textContent="{{date}}, {{time}}",un.dataset.l10nId="annotation_date_string",un.dataset.l10nArgs=JSON.stringify({date:Zt.toLocaleDateString(),time:Zt.toLocaleTimeString()}),Nt.append(un)}if((mn=this.richText)!=null&&mn.str&&(!((En=this.contentsObj)!=null&&En.str)||this.contentsObj.str===this.richText.str))st.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:Nt}),Nt.lastChild.className="richText popupContent";else{const un=this._formatContents(this.contentsObj);Nt.append(un)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const un of this.trigger)un.addEventListener("click",this._toggle.bind(this)),un.addEventListener("mouseover",this._show.bind(this,!1)),un.addEventListener("mouseout",this._hide.bind(this,!1));return Nt.addEventListener("click",this._hide.bind(this,!0)),Tt.append(Nt),Tt}_formatContents({str:vt,dir:Tt}){const Nt=document.createElement("p");Nt.className="popupContent",Nt.dir=Tt;const Lt=vt.split(/(?:\r\n?|\n)/);for(let zt=0,Zt=Lt.length;zt<Zt;++zt){const mn=Lt[zt];Nt.append(document.createTextNode(mn)),zt<Zt-1&&Nt.append(document.createElement("br"))}return Nt}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(vt=!1){vt&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(vt=!0){vt&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class at extends bt{constructor(vt){var Nt,Lt,zt;const Tt=!!(vt.data.hasPopup||(Nt=vt.data.titleObj)!=null&&Nt.str||(Lt=vt.data.contentsObj)!=null&&Lt.str||(zt=vt.data.richText)!=null&&zt.str);super(vt,{isRenderable:Tt,ignoreBorder:!0}),this.textContent=vt.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const vt=document.createElement("div");vt.className="annotationTextContent",vt.setAttribute("role","comment");for(const Tt of this.textContent){const Nt=document.createElement("span");Nt.textContent=Tt,vt.append(Nt)}this.container.append(vt)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class yt extends bt{constructor(vt){var Nt,Lt,zt;const Tt=!!(vt.data.hasPopup||(Nt=vt.data.titleObj)!=null&&Nt.str||(Lt=vt.data.contentsObj)!=null&&Lt.str||(zt=vt.data.richText)!=null&&zt.str);super(vt,{isRenderable:Tt,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const vt=this.data,{width:Tt,height:Nt}=ft(vt.rect),Lt=this.svgFactory.create(Tt,Nt,!0),zt=this.svgFactory.createElement("svg:line");return zt.setAttribute("x1",vt.rect[2]-vt.lineCoordinates[0]),zt.setAttribute("y1",vt.rect[3]-vt.lineCoordinates[1]),zt.setAttribute("x2",vt.rect[2]-vt.lineCoordinates[2]),zt.setAttribute("y2",vt.rect[3]-vt.lineCoordinates[3]),zt.setAttribute("stroke-width",vt.borderStyle.width||1),zt.setAttribute("stroke","transparent"),zt.setAttribute("fill","transparent"),Lt.append(zt),this.container.append(Lt),this._createPopup(zt,vt),this.container}}class Ct extends bt{constructor(vt){var Nt,Lt,zt;const Tt=!!(vt.data.hasPopup||(Nt=vt.data.titleObj)!=null&&Nt.str||(Lt=vt.data.contentsObj)!=null&&Lt.str||(zt=vt.data.richText)!=null&&zt.str);super(vt,{isRenderable:Tt,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const vt=this.data,{width:Tt,height:Nt}=ft(vt.rect),Lt=this.svgFactory.create(Tt,Nt,!0),zt=vt.borderStyle.width,Zt=this.svgFactory.createElement("svg:rect");return Zt.setAttribute("x",zt/2),Zt.setAttribute("y",zt/2),Zt.setAttribute("width",Tt-zt),Zt.setAttribute("height",Nt-zt),Zt.setAttribute("stroke-width",zt||1),Zt.setAttribute("stroke","transparent"),Zt.setAttribute("fill","transparent"),Lt.append(Zt),this.container.append(Lt),this._createPopup(Zt,vt),this.container}}class Bt extends bt{constructor(vt){var Nt,Lt,zt;const Tt=!!(vt.data.hasPopup||(Nt=vt.data.titleObj)!=null&&Nt.str||(Lt=vt.data.contentsObj)!=null&&Lt.str||(zt=vt.data.richText)!=null&&zt.str);super(vt,{isRenderable:Tt,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const vt=this.data,{width:Tt,height:Nt}=ft(vt.rect),Lt=this.svgFactory.create(Tt,Nt,!0),zt=vt.borderStyle.width,Zt=this.svgFactory.createElement("svg:ellipse");return Zt.setAttribute("cx",Tt/2),Zt.setAttribute("cy",Nt/2),Zt.setAttribute("rx",Tt/2-zt/2),Zt.setAttribute("ry",Nt/2-zt/2),Zt.setAttribute("stroke-width",zt||1),Zt.setAttribute("stroke","transparent"),Zt.setAttribute("fill","transparent"),Lt.append(Zt),this.container.append(Lt),this._createPopup(Zt,vt),this.container}}class Vt extends bt{constructor(vt){var Nt,Lt,zt;const Tt=!!(vt.data.hasPopup||(Nt=vt.data.titleObj)!=null&&Nt.str||(Lt=vt.data.contentsObj)!=null&&Lt.str||(zt=vt.data.richText)!=null&&zt.str);super(vt,{isRenderable:Tt,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const vt=this.data,{width:Tt,height:Nt}=ft(vt.rect),Lt=this.svgFactory.create(Tt,Nt,!0);let zt=[];for(const mn of vt.vertices){const En=mn.x-vt.rect[0],un=vt.rect[3]-mn.y;zt.push(En+","+un)}zt=zt.join(" ");const Zt=this.svgFactory.createElement(this.svgElementName);return Zt.setAttribute("points",zt),Zt.setAttribute("stroke-width",vt.borderStyle.width||1),Zt.setAttribute("stroke","transparent"),Zt.setAttribute("fill","transparent"),Lt.append(Zt),this.container.append(Lt),this._createPopup(Zt,vt),this.container}}class en extends Vt{constructor(vt){super(vt),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class Xt extends bt{constructor(vt){var Nt,Lt,zt;const Tt=!!(vt.data.hasPopup||(Nt=vt.data.titleObj)!=null&&Nt.str||(Lt=vt.data.contentsObj)!=null&&Lt.str||(zt=vt.data.richText)!=null&&zt.str);super(vt,{isRenderable:Tt,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class dn extends bt{constructor(vt){var Nt,Lt,zt;const Tt=!!(vt.data.hasPopup||(Nt=vt.data.titleObj)!=null&&Nt.str||(Lt=vt.data.contentsObj)!=null&&Lt.str||(zt=vt.data.richText)!=null&&zt.str);super(vt,{isRenderable:Tt,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const vt=this.data,{width:Tt,height:Nt}=ft(vt.rect),Lt=this.svgFactory.create(Tt,Nt,!0);for(const zt of vt.inkLists){let Zt=[];for(const En of zt){const un=En.x-vt.rect[0],vn=vt.rect[3]-En.y;Zt.push(`${un},${vn}`)}Zt=Zt.join(" ");const mn=this.svgFactory.createElement(this.svgElementName);mn.setAttribute("points",Zt),mn.setAttribute("stroke-width",vt.borderStyle.width||1),mn.setAttribute("stroke","transparent"),mn.setAttribute("fill","transparent"),this._createPopup(mn,vt),Lt.append(mn)}return this.container.append(Lt),this.container}}class an extends bt{constructor(vt){var Nt,Lt,zt;const Tt=!!(vt.data.hasPopup||(Nt=vt.data.titleObj)!=null&&Nt.str||(Lt=vt.data.contentsObj)!=null&&Lt.str||(zt=vt.data.richText)!=null&&zt.str);super(vt,{isRenderable:Tt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Jt extends bt{constructor(vt){var Nt,Lt,zt;const Tt=!!(vt.data.hasPopup||(Nt=vt.data.titleObj)!=null&&Nt.str||(Lt=vt.data.contentsObj)!=null&&Lt.str||(zt=vt.data.richText)!=null&&zt.str);super(vt,{isRenderable:Tt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Kt extends bt{constructor(vt){var Nt,Lt,zt;const Tt=!!(vt.data.hasPopup||(Nt=vt.data.titleObj)!=null&&Nt.str||(Lt=vt.data.contentsObj)!=null&&Lt.str||(zt=vt.data.richText)!=null&&zt.str);super(vt,{isRenderable:Tt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class tn extends bt{constructor(vt){var Nt,Lt,zt;const Tt=!!(vt.data.hasPopup||(Nt=vt.data.titleObj)!=null&&Nt.str||(Lt=vt.data.contentsObj)!=null&&Lt.str||(zt=vt.data.richText)!=null&&zt.str);super(vt,{isRenderable:Tt,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class hn extends bt{constructor(vt){var Nt,Lt,zt;const Tt=!!(vt.data.hasPopup||(Nt=vt.data.titleObj)!=null&&Nt.str||(Lt=vt.data.contentsObj)!=null&&Lt.str||(zt=vt.data.richText)!=null&&zt.str);super(vt,{isRenderable:Tt,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class fn extends bt{constructor(vt){var Lt;super(vt,{isRenderable:!0});const{filename:Tt,content:Nt}=this.data.file;this.filename=(0,_e.getFilenameFromUrl)(Tt),this.content=Nt,(Lt=this.linkService.eventBus)==null||Lt.dispatch("fileattachmentannotation",{source:this,filename:Tt,content:Nt})}render(){var Tt,Nt;this.container.className="fileAttachmentAnnotation";const vt=document.createElement("div");return vt.className="popupTriggerArea",vt.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((Tt=this.data.titleObj)!=null&&Tt.str||(Nt=this.data.contentsObj)!=null&&Nt.str||this.data.richText)&&this._createPopup(vt,this.data),this.container.append(vt),this.container}_download(){var vt;(vt=this.downloadManager)==null||vt.openOrDownloadData(this.container,this.content,this.filename)}}const rn=class{static render(vt){var mn,En;const{annotations:Tt,div:Nt,viewport:Lt,accessibilityManager:zt}=vt;Sn(this,jt,A_).call(this,Nt,Lt);let Zt=0;for(const un of Tt){if(un.annotationType!==j.AnnotationType.POPUP){const{width:pn,height:_n}=ft(un.rect);if(pn<=0||_n<=0)continue}const vn=ht.create({data:un,layer:Nt,page:vt.page,viewport:Lt,linkService:vt.linkService,downloadManager:vt.downloadManager,imageResourcesPath:vt.imageResourcesPath||"",renderForms:vt.renderForms!==!1,svgFactory:new _e.DOMSVGFactory,annotationStorage:vt.annotationStorage||new nt.AnnotationStorage,enableScripting:vt.enableScripting,hasJSActions:vt.hasJSActions,fieldObjects:vt.fieldObjects,mouseState:vt.mouseState||{isDown:!1}});if(vn.isRenderable){const pn=vn.render();if(un.hidden&&(pn.style.visibility="hidden"),Array.isArray(pn))for(const _n of pn)_n.style.zIndex=Zt++,Sn(mn=rn,xt,v_).call(mn,_n,un.id,Nt,zt);else pn.style.zIndex=Zt++,vn instanceof It?Nt.prepend(pn):Sn(En=rn,xt,v_).call(En,pn,un.id,Nt,zt)}}Sn(this,Ht,y_).call(this,Nt,vt.annotationCanvasMap)}static update(vt){const{annotationCanvasMap:Tt,div:Nt,viewport:Lt}=vt;Sn(this,jt,A_).call(this,Nt,Lt),Sn(this,Ht,y_).call(this,Nt,Tt),Nt.hidden=!1}};let Wt=rn;xt=new WeakSet,v_=function(vt,Tt,Nt,Lt){const zt=vt.firstChild||vt;zt.id=`${_e.AnnotationPrefix}${Tt}`,Nt.append(vt),Lt==null||Lt.moveElementInDOM(Nt,vt,zt,!1)},jt=new WeakSet,A_=function(vt,{width:Tt,height:Nt,rotation:Lt}){const{style:zt}=vt,Zt=Lt%180!==0,mn=Math.floor(Tt)+"px",En=Math.floor(Nt)+"px";zt.width=Zt?En:mn,zt.height=Zt?mn:En,vt.setAttribute("data-main-rotation",Lt)},Ht=new WeakSet,y_=function(vt,Tt){if(Tt){for(const[Nt,Lt]of Tt){const zt=vt.querySelector(`[data-annotation-id="${Nt}"]`);if(!zt)continue;const{firstChild:Zt}=zt;Zt?Zt.nodeName==="CANVAS"?Zt.replaceWith(Lt):Zt.before(Lt):zt.append(Lt)}Tt.clear()}},An(Wt,xt),An(Wt,jt),An(Wt,Ht),d.AnnotationLayer=Wt},(c,d)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.ColorConverters=void 0;function b(_e){return Math.floor(Math.max(0,Math.min(1,_e))*255).toString(16).padStart(2,"0")}class j{static CMYK_G([nt,rt,st,it]){return["G",1-Math.min(1,.3*nt+.59*st+.11*rt+it)]}static G_CMYK([nt]){return["CMYK",0,0,0,1-nt]}static G_RGB([nt]){return["RGB",nt,nt,nt]}static G_HTML([nt]){const rt=b(nt);return`#${rt}${rt}${rt}`}static RGB_G([nt,rt,st]){return["G",.3*nt+.59*rt+.11*st]}static RGB_HTML([nt,rt,st]){const it=b(nt),ct=b(rt),gt=b(st);return`#${it}${ct}${gt}`}static T_HTML(){return"#00000000"}static CMYK_RGB([nt,rt,st,it]){return["RGB",1-Math.min(1,nt+it),1-Math.min(1,st+it),1-Math.min(1,rt+it)]}static CMYK_HTML(nt){const rt=this.CMYK_RGB(nt).slice(1);return this.RGB_HTML(rt)}static RGB_CMYK([nt,rt,st]){const it=1-nt,ct=1-rt,gt=1-st,ft=Math.min(it,ct,gt);return["CMYK",it,ct,gt,ft]}}d.ColorConverters=j},(c,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.XfaLayer=void 0;var j=b(20);class _e{static setupStorage(rt,st,it,ct,gt){const ft=ct.getValue(st,{value:null});switch(it.name){case"textarea":if(ft.value!==null&&(rt.textContent=ft.value),gt==="print")break;rt.addEventListener("input",ht=>{ct.setValue(st,{value:ht.target.value})});break;case"input":if(it.attributes.type==="radio"||it.attributes.type==="checkbox"){if(ft.value===it.attributes.xfaOn?rt.setAttribute("checked",!0):ft.value===it.attributes.xfaOff&&rt.removeAttribute("checked"),gt==="print")break;rt.addEventListener("change",ht=>{ct.setValue(st,{value:ht.target.checked?ht.target.getAttribute("xfaOn"):ht.target.getAttribute("xfaOff")})})}else{if(ft.value!==null&&rt.setAttribute("value",ft.value),gt==="print")break;rt.addEventListener("input",ht=>{ct.setValue(st,{value:ht.target.value})})}break;case"select":if(ft.value!==null)for(const ht of it.children)ht.attributes.value===ft.value&&(ht.attributes.selected=!0);rt.addEventListener("input",ht=>{const bt=ht.target.options,wt=bt.selectedIndex===-1?"":bt[bt.selectedIndex].value;ct.setValue(st,{value:wt})});break}}static setAttributes({html:rt,element:st,storage:it=null,intent:ct,linkService:gt}){const{attributes:ft}=st,ht=rt instanceof HTMLAnchorElement;ft.type==="radio"&&(ft.name=`${ft.name}-${ct}`);for(const[bt,wt]of Object.entries(ft))if(wt!=null)switch(bt){case"class":wt.length&&rt.setAttribute(bt,wt.join(" "));break;case"dataId":break;case"id":rt.setAttribute("data-element-id",wt);break;case"style":Object.assign(rt.style,wt);break;case"textContent":rt.textContent=wt;break;default:(!ht||bt!=="href"&&bt!=="newWindow")&&rt.setAttribute(bt,wt)}ht&&gt.addLinkAttributes(rt,ft.href,ft.newWindow),it&&ft.dataId&&this.setupStorage(rt,ft.dataId,st,it)}static render(rt){var lt;const st=rt.annotationStorage,it=rt.linkService,ct=rt.xfaHtml,gt=rt.intent||"display",ft=document.createElement(ct.name);ct.attributes&&this.setAttributes({html:ft,element:ct,intent:gt,linkService:it});const ht=[[ct,-1,ft]],bt=rt.div;if(bt.append(ft),rt.viewport){const _t=`matrix(${rt.viewport.transform.join(",")})`;bt.style.transform=_t}gt!=="richText"&&bt.setAttribute("class","xfaLayer xfaFont");const wt=[];for(;ht.length>0;){const[_t,ut,kt]=ht.at(-1);if(ut+1===_t.children.length){ht.pop();continue}const pt=_t.children[++ht.at(-1)[1]];if(pt===null)continue;const{name:mt}=pt;if(mt==="#text"){const It=document.createTextNode(pt.value);wt.push(It),kt.append(It);continue}let Pt;if((lt=pt==null?void 0:pt.attributes)!=null&&lt.xmlns?Pt=document.createElementNS(pt.attributes.xmlns,mt):Pt=document.createElement(mt),kt.append(Pt),pt.attributes&&this.setAttributes({html:Pt,element:pt,storage:st,intent:gt,linkService:it}),pt.children&&pt.children.length>0)ht.push([pt,-1,Pt]);else if(pt.value){const It=document.createTextNode(pt.value);j.XfaText.shouldBuildText(mt)&&wt.push(It),Pt.append(It)}}for(const _t of bt.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))_t.setAttribute("readOnly",!0);return{textDivs:wt}}static update(rt){const st=`matrix(${rt.viewport.transform.join(",")})`;rt.div.style.transform=st,rt.div.hidden=!1}}d.XfaLayer=_e},(c,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.TextLayerRenderTask=void 0,d.renderTextLayer=kt;var j=b(1),_e=b(8);const nt=1e5,rt=30,st=.8,it=new Map,ct=/^\s+$/g;function gt(pt,mt){const Pt=it.get(pt);if(Pt)return Pt;mt.save(),mt.font=`${rt}px ${pt}`;const It=mt.measureText("");let Ot=It.fontBoundingBoxAscent,at=Math.abs(It.fontBoundingBoxDescent);if(Ot){mt.restore();const Ct=Ot/(Ot+at);return it.set(pt,Ct),Ct}mt.strokeStyle="red",mt.clearRect(0,0,rt,rt),mt.strokeText("g",0,0);let yt=mt.getImageData(0,0,rt,rt).data;at=0;for(let Ct=yt.length-1-3;Ct>=0;Ct-=4)if(yt[Ct]>0){at=Math.ceil(Ct/4/rt);break}mt.clearRect(0,0,rt,rt),mt.strokeText("A",0,rt),yt=mt.getImageData(0,0,rt,rt).data,Ot=0;for(let Ct=0,Bt=yt.length;Ct<Bt;Ct+=4)if(yt[Ct]>0){Ot=rt-Math.floor(Ct/4/rt);break}if(mt.restore(),Ot){const Ct=Ot/(Ot+at);return it.set(pt,Ct),Ct}return it.set(pt,st),st}function ft(pt,mt,Pt,It){const Ot=document.createElement("span"),at=pt._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:mt.str!=="",hasEOL:mt.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:mt.str!=="",hasEOL:mt.hasEOL,fontSize:0};pt._textDivs.push(Ot);const yt=j.Util.transform(pt._viewport.transform,mt.transform);let Ct=Math.atan2(yt[1],yt[0]);const Bt=Pt[mt.fontName];Bt.vertical&&(Ct+=Math.PI/2);const Vt=Math.hypot(yt[2],yt[3]),en=Vt*gt(Bt.fontFamily,It);let Xt,dn;Ct===0?(Xt=yt[4],dn=yt[5]-en):(Xt=yt[4]+en*Math.sin(Ct),dn=yt[5]-en*Math.cos(Ct)),Ot.style.left=`${Xt}px`,Ot.style.top=`${dn}px`,Ot.style.fontSize=`${Vt}px`,Ot.style.fontFamily=Bt.fontFamily,at.fontSize=Vt,Ot.setAttribute("role","presentation"),Ot.textContent=mt.str,Ot.dir=mt.dir,pt._fontInspectorEnabled&&(Ot.dataset.fontName=mt.fontName),Ct!==0&&(at.angle=Ct*(180/Math.PI));let an=!1;if(mt.str.length>1||pt._enhanceTextSelection&&ct.test(mt.str))an=!0;else if(mt.str!==" "&&mt.transform[0]!==mt.transform[3]){const Jt=Math.abs(mt.transform[0]),Kt=Math.abs(mt.transform[3]);Jt!==Kt&&Math.max(Jt,Kt)/Math.min(Jt,Kt)>1.5&&(an=!0)}if(an&&(Bt.vertical?at.canvasWidth=mt.height*pt._viewport.scale:at.canvasWidth=mt.width*pt._viewport.scale),pt._textDivProperties.set(Ot,at),pt._textContentStream&&pt._layoutText(Ot),pt._enhanceTextSelection&&at.hasText){let Jt=1,Kt=0;Ct!==0&&(Jt=Math.cos(Ct),Kt=Math.sin(Ct));const tn=(Bt.vertical?mt.height:mt.width)*pt._viewport.scale,hn=Vt;let fn,Wt;Ct!==0?(fn=[Jt,Kt,-Kt,Jt,Xt,dn],Wt=j.Util.getAxialAlignedBoundingBox([0,0,tn,hn],fn)):Wt=[Xt,dn,Xt+tn,dn+hn],pt._bounds.push({left:Wt[0],top:Wt[1],right:Wt[2],bottom:Wt[3],div:Ot,size:[tn,hn],m:fn})}}function ht(pt){if(pt._canceled)return;const mt=pt._textDivs,Pt=pt._capability,It=mt.length;if(It>nt){pt._renderingDone=!0,Pt.resolve();return}if(!pt._textContentStream)for(let Ot=0;Ot<It;Ot++)pt._layoutText(mt[Ot]);pt._renderingDone=!0,Pt.resolve()}function bt(pt,mt,Pt){let It=0;for(let Ot=0;Ot<Pt;Ot++){const at=pt[mt++];at>0&&(It=It?Math.min(at,It):at)}return It}function wt(pt){const mt=pt._bounds,Pt=pt._viewport,It=lt(Pt.width,Pt.height,mt);for(let Ot=0;Ot<It.length;Ot++){const at=mt[Ot].div,yt=pt._textDivProperties.get(at);if(yt.angle===0){yt.paddingLeft=mt[Ot].left-It[Ot].left,yt.paddingTop=mt[Ot].top-It[Ot].top,yt.paddingRight=It[Ot].right-mt[Ot].right,yt.paddingBottom=It[Ot].bottom-mt[Ot].bottom,pt._textDivProperties.set(at,yt);continue}const Ct=It[Ot],Bt=mt[Ot],Vt=Bt.m,en=Vt[0],Xt=Vt[1],dn=[[0,0],[0,Bt.size[1]],[Bt.size[0],0],Bt.size],an=new Float64Array(64);for(let Kt=0,tn=dn.length;Kt<tn;Kt++){const hn=j.Util.applyTransform(dn[Kt],Vt);an[Kt+0]=en&&(Ct.left-hn[0])/en,an[Kt+4]=Xt&&(Ct.top-hn[1])/Xt,an[Kt+8]=en&&(Ct.right-hn[0])/en,an[Kt+12]=Xt&&(Ct.bottom-hn[1])/Xt,an[Kt+16]=Xt&&(Ct.left-hn[0])/-Xt,an[Kt+20]=en&&(Ct.top-hn[1])/en,an[Kt+24]=Xt&&(Ct.right-hn[0])/-Xt,an[Kt+28]=en&&(Ct.bottom-hn[1])/en,an[Kt+32]=en&&(Ct.left-hn[0])/-en,an[Kt+36]=Xt&&(Ct.top-hn[1])/-Xt,an[Kt+40]=en&&(Ct.right-hn[0])/-en,an[Kt+44]=Xt&&(Ct.bottom-hn[1])/-Xt,an[Kt+48]=Xt&&(Ct.left-hn[0])/Xt,an[Kt+52]=en&&(Ct.top-hn[1])/-en,an[Kt+56]=Xt&&(Ct.right-hn[0])/Xt,an[Kt+60]=en&&(Ct.bottom-hn[1])/-en}const Jt=1+Math.min(Math.abs(en),Math.abs(Xt));yt.paddingLeft=bt(an,32,16)/Jt,yt.paddingTop=bt(an,48,16)/Jt,yt.paddingRight=bt(an,0,16)/Jt,yt.paddingBottom=bt(an,16,16)/Jt,pt._textDivProperties.set(at,yt)}}function lt(pt,mt,Pt){const It=Pt.map(function(at,yt){return{x1:at.left,y1:at.top,x2:at.right,y2:at.bottom,index:yt,x1New:void 0,x2New:void 0}});_t(pt,It);const Ot=new Array(Pt.length);for(const at of It){const yt=at.index;Ot[yt]={left:at.x1New,top:0,right:at.x2New,bottom:0}}Pt.map(function(at,yt){const Ct=Ot[yt],Bt=It[yt];Bt.x1=at.top,Bt.y1=pt-Ct.right,Bt.x2=at.bottom,Bt.y2=pt-Ct.left,Bt.index=yt,Bt.x1New=void 0,Bt.x2New=void 0}),_t(mt,It);for(const at of It){const yt=at.index;Ot[yt].top=at.x1New,Ot[yt].bottom=at.x2New}return Ot}function _t(pt,mt){mt.sort(function(Ot,at){return Ot.x1-at.x1||Ot.index-at.index});const It=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const Ot of mt){let at=0;for(;at<It.length&&It[at].end<=Ot.y1;)at++;let yt=It.length-1;for(;yt>=0&&It[yt].start>=Ot.y2;)yt--;let Ct,Bt,Vt,en,Xt=-1/0;for(Vt=at;Vt<=yt;Vt++){Ct=It[Vt],Bt=Ct.boundary;let Jt;Bt.x2>Ot.x1?Jt=Bt.index>Ot.index?Bt.x1New:Ot.x1:Bt.x2New===void 0?Jt=(Bt.x2+Ot.x1)/2:Jt=Bt.x2New,Jt>Xt&&(Xt=Jt)}for(Ot.x1New=Xt,Vt=at;Vt<=yt;Vt++)Ct=It[Vt],Bt=Ct.boundary,Bt.x2New===void 0?Bt.x2>Ot.x1?Bt.index>Ot.index&&(Bt.x2New=Bt.x2):Bt.x2New=Xt:Bt.x2New>Xt&&(Bt.x2New=Math.max(Xt,Bt.x2));const dn=[];let an=null;for(Vt=at;Vt<=yt;Vt++){Ct=It[Vt],Bt=Ct.boundary;const Jt=Bt.x2>Ot.x2?Bt:Ot;an===Jt?dn.at(-1).end=Ct.end:(dn.push({start:Ct.start,end:Ct.end,boundary:Jt}),an=Jt)}for(It[at].start<Ot.y1&&(dn[0].start=Ot.y1,dn.unshift({start:It[at].start,end:Ot.y1,boundary:It[at].boundary})),Ot.y2<It[yt].end&&(dn.at(-1).end=Ot.y2,dn.push({start:Ot.y2,end:It[yt].end,boundary:It[yt].boundary})),Vt=at;Vt<=yt;Vt++){if(Ct=It[Vt],Bt=Ct.boundary,Bt.x2New!==void 0)continue;let Jt=!1;for(en=at-1;!Jt&&en>=0&&It[en].start>=Bt.y1;en--)Jt=It[en].boundary===Bt;for(en=yt+1;!Jt&&en<It.length&&It[en].end<=Bt.y2;en++)Jt=It[en].boundary===Bt;for(en=0;!Jt&&en<dn.length;en++)Jt=dn[en].boundary===Bt;Jt||(Bt.x2New=Xt)}Array.prototype.splice.apply(It,[at,yt-at+1,...dn])}for(const Ot of It){const at=Ot.boundary;at.x2New===void 0&&(at.x2New=Math.max(pt,at.x2))}}class ut{constructor({textContent:mt,textContentStream:Pt,container:It,viewport:Ot,textDivs:at,textContentItemsStr:yt,enhanceTextSelection:Ct}){var Bt;Ct&&(0,_e.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=mt,this._textContentStream=Pt,this._container=It,this._document=It.ownerDocument,this._viewport=Ot,this._textDivs=at||[],this._textContentItemsStr=yt||[],this._enhanceTextSelection=!!Ct,this._fontInspectorEnabled=!!((Bt=globalThis.FontInspector)!=null&&Bt.enabled),this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,j.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new j.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(mt,Pt){for(let It=0,Ot=mt.length;It<Ot;It++){if(mt[It].str===void 0){if(mt[It].type==="beginMarkedContentProps"||mt[It].type==="beginMarkedContent"){const at=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),mt[It].id!==null&&this._container.setAttribute("id",`${mt[It].id}`),at.append(this._container)}else mt[It].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(mt[It].str),ft(this,mt[It],Pt,this._layoutTextCtx)}}_layoutText(mt){const Pt=this._textDivProperties.get(mt);let It="";if(Pt.canvasWidth!==0&&Pt.hasText){const{fontFamily:Ot}=mt.style,{fontSize:at}=Pt;(at!==this._layoutTextLastFontSize||Ot!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${at*this._devicePixelRatio}px ${Ot}`,this._layoutTextLastFontSize=at,this._layoutTextLastFontFamily=Ot);const{width:yt}=this._layoutTextCtx.measureText(mt.textContent);if(yt>0){const Ct=this._devicePixelRatio*Pt.canvasWidth/yt;this._enhanceTextSelection&&(Pt.scale=Ct),It=`scaleX(${Ct})`}}if(Pt.angle!==0&&(It=`rotate(${Pt.angle}deg) ${It}`),It.length>0&&(this._enhanceTextSelection&&(Pt.originalTransform=It),mt.style.transform=It),Pt.hasText&&this._container.append(mt),Pt.hasEOL){const Ot=document.createElement("br");Ot.setAttribute("role","presentation"),this._container.append(Ot)}}_render(mt=0){const Pt=(0,j.createPromiseCapability)();let It=Object.create(null);const Ot=this._document.createElement("canvas");if(Ot.height=Ot.width=rt,this._layoutTextCtx=Ot.getContext("2d",{alpha:!1}),this._textContent){const at=this._textContent.items,yt=this._textContent.styles;this._processItems(at,yt),Pt.resolve()}else if(this._textContentStream){const at=()=>{this._reader.read().then(({value:yt,done:Ct})=>{if(Ct){Pt.resolve();return}Object.assign(It,yt.styles),this._processItems(yt.items,It),at()},Pt.reject)};this._reader=this._textContentStream.getReader(),at()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');Pt.promise.then(()=>{It=null,mt?this._renderTimer=setTimeout(()=>{ht(this),this._renderTimer=null},mt):ht(this)},this._capability.reject)}expandTextDivs(mt=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(wt(this),this._bounds=null);const Pt=[],It=[];for(let Ot=0,at=this._textDivs.length;Ot<at;Ot++){const yt=this._textDivs[Ot],Ct=this._textDivProperties.get(yt);Ct.hasText&&(mt?(Pt.length=0,It.length=0,Ct.originalTransform&&Pt.push(Ct.originalTransform),Ct.paddingTop>0?(It.push(`${Ct.paddingTop}px`),Pt.push(`translateY(${-Ct.paddingTop}px)`)):It.push(0),Ct.paddingRight>0?It.push(`${Ct.paddingRight/Ct.scale}px`):It.push(0),Ct.paddingBottom>0?It.push(`${Ct.paddingBottom}px`):It.push(0),Ct.paddingLeft>0?(It.push(`${Ct.paddingLeft/Ct.scale}px`),Pt.push(`translateX(${-Ct.paddingLeft/Ct.scale}px)`)):It.push(0),yt.style.padding=It.join(" "),Pt.length&&(yt.style.transform=Pt.join(" "))):(yt.style.padding=null,yt.style.transform=Ct.originalTransform))}}}d.TextLayerRenderTask=ut;function kt(pt){const mt=new ut({textContent:pt.textContent,textContentStream:pt.textContentStream,container:pt.container,viewport:pt.viewport,textDivs:pt.textDivs,textContentItemsStr:pt.textContentItemsStr,enhanceTextSelection:pt.enhanceTextSelection});return mt._render(pt.timeout),mt}},(c,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.SVGGraphics=void 0;var j=b(8),_e=b(1),nt=b(3);let rt=class{constructor(){(0,_e.unreachable)("Not implemented: SVGGraphics")}};d.SVGGraphics=rt;{let kt=function(at){let yt=[];const Ct=[];for(const Bt of at){if(Bt.fn==="save"){yt.push({fnId:92,fn:"group",items:[]}),Ct.push(yt),yt=yt.at(-1).items;continue}Bt.fn==="restore"?yt=Ct.pop():yt.push(Bt)}return yt},pt=function(at){if(Number.isInteger(at))return at.toString();const yt=at.toFixed(10);let Ct=yt.length-1;if(yt[Ct]!=="0")return yt;do Ct--;while(yt[Ct]==="0");return yt.substring(0,yt[Ct]==="."?Ct:Ct+1)},mt=function(at){if(at[4]===0&&at[5]===0){if(at[1]===0&&at[2]===0)return at[0]===1&&at[3]===1?"":`scale(${pt(at[0])} ${pt(at[3])})`;if(at[0]===at[3]&&at[1]===-at[2]){const yt=Math.acos(at[0])*180/Math.PI;return`rotate(${pt(yt)})`}}else if(at[0]===1&&at[1]===0&&at[2]===0&&at[3]===1)return`translate(${pt(at[4])} ${pt(at[5])})`;return`matrix(${pt(at[0])} ${pt(at[1])} ${pt(at[2])} ${pt(at[3])} ${pt(at[4])} ${pt(at[5])})`};var st=kt,it=pt,ct=mt;const gt={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},ft="http://www.w3.org/XML/1998/namespace",ht="http://www.w3.org/1999/xlink",bt=["butt","round","square"],wt=["miter","round","bevel"],lt=function(at,yt="",Ct=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!Ct)return URL.createObjectURL(new Blob([at],{type:yt}));const Bt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let Vt=`data:${yt};base64,`;for(let en=0,Xt=at.length;en<Xt;en+=3){const dn=at[en]&255,an=at[en+1]&255,Jt=at[en+2]&255,Kt=dn>>2,tn=(dn&3)<<4|an>>4,hn=en+1<Xt?(an&15)<<2|Jt>>6:64,fn=en+2<Xt?Jt&63:64;Vt+=Bt[Kt]+Bt[tn]+Bt[hn]+Bt[fn]}return Vt},_t=function(){const at=new Uint8Array([137,80,78,71,13,10,26,10]),yt=12,Ct=new Int32Array(256);for(let Jt=0;Jt<256;Jt++){let Kt=Jt;for(let tn=0;tn<8;tn++)Kt&1?Kt=3988292384^Kt>>1&2147483647:Kt=Kt>>1&2147483647;Ct[Jt]=Kt}function Bt(Jt,Kt,tn){let hn=-1;for(let fn=Kt;fn<tn;fn++){const Wt=(hn^Jt[fn])&255,xt=Ct[Wt];hn=hn>>>8^xt}return hn^-1}function Vt(Jt,Kt,tn,hn){let fn=hn;const Wt=Kt.length;tn[fn]=Wt>>24&255,tn[fn+1]=Wt>>16&255,tn[fn+2]=Wt>>8&255,tn[fn+3]=Wt&255,fn+=4,tn[fn]=Jt.charCodeAt(0)&255,tn[fn+1]=Jt.charCodeAt(1)&255,tn[fn+2]=Jt.charCodeAt(2)&255,tn[fn+3]=Jt.charCodeAt(3)&255,fn+=4,tn.set(Kt,fn),fn+=Kt.length;const xt=Bt(tn,hn+4,fn);tn[fn]=xt>>24&255,tn[fn+1]=xt>>16&255,tn[fn+2]=xt>>8&255,tn[fn+3]=xt&255}function en(Jt,Kt,tn){let hn=1,fn=0;for(let Wt=Kt;Wt<tn;++Wt)hn=(hn+(Jt[Wt]&255))%65521,fn=(fn+hn)%65521;return fn<<16|hn}function Xt(Jt){if(!nt.isNodeJS)return dn(Jt);try{let Kt;parseInt(process.versions.node)>=8?Kt=Jt:Kt=Buffer.from(Jt);const tn=require$$5.deflateSync(Kt,{level:9});return tn instanceof Uint8Array?tn:new Uint8Array(tn)}catch(Kt){(0,_e.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Kt)}return dn(Jt)}function dn(Jt){let Kt=Jt.length;const tn=65535,hn=Math.ceil(Kt/tn),fn=new Uint8Array(2+Kt+hn*5+4);let Wt=0;fn[Wt++]=120,fn[Wt++]=156;let xt=0;for(;Kt>tn;)fn[Wt++]=0,fn[Wt++]=255,fn[Wt++]=255,fn[Wt++]=0,fn[Wt++]=0,fn.set(Jt.subarray(xt,xt+tn),Wt),Wt+=tn,xt+=tn,Kt-=tn;fn[Wt++]=1,fn[Wt++]=Kt&255,fn[Wt++]=Kt>>8&255,fn[Wt++]=~Kt&65535&255,fn[Wt++]=(~Kt&65535)>>8&255,fn.set(Jt.subarray(xt),Wt),Wt+=Jt.length-xt;const Et=en(Jt,0,Jt.length);return fn[Wt++]=Et>>24&255,fn[Wt++]=Et>>16&255,fn[Wt++]=Et>>8&255,fn[Wt++]=Et&255,fn}function an(Jt,Kt,tn,hn){const fn=Jt.width,Wt=Jt.height;let xt,Et,jt;const Gt=Jt.data;switch(Kt){case _e.ImageKind.GRAYSCALE_1BPP:Et=0,xt=1,jt=fn+7>>3;break;case _e.ImageKind.RGB_24BPP:Et=2,xt=8,jt=fn*3;break;case _e.ImageKind.RGBA_32BPP:Et=6,xt=8,jt=fn*4;break;default:throw new Error("invalid format")}const Ht=new Uint8Array((1+jt)*Wt);let qt=0,rn=0;for(let zt=0;zt<Wt;++zt)Ht[qt++]=0,Ht.set(Gt.subarray(rn,rn+jt),qt),rn+=jt,qt+=jt;if(Kt===_e.ImageKind.GRAYSCALE_1BPP&&hn){qt=0;for(let zt=0;zt<Wt;zt++){qt++;for(let Zt=0;Zt<jt;Zt++)Ht[qt++]^=255}}const sn=new Uint8Array([fn>>24&255,fn>>16&255,fn>>8&255,fn&255,Wt>>24&255,Wt>>16&255,Wt>>8&255,Wt&255,xt,Et,0,0,0]),vt=Xt(Ht),Tt=at.length+yt*3+sn.length+vt.length,Nt=new Uint8Array(Tt);let Lt=0;return Nt.set(at,Lt),Lt+=at.length,Vt("IHDR",sn,Nt,Lt),Lt+=yt+sn.length,Vt("IDATA",vt,Nt,Lt),Lt+=yt+vt.length,Vt("IEND",new Uint8Array(0),Nt,Lt),lt(Nt,"image/png",tn)}return function(Kt,tn,hn){const fn=Kt.kind===void 0?_e.ImageKind.GRAYSCALE_1BPP:Kt.kind;return an(Kt,fn,tn,hn)}}();class ut{constructor(){this.fontSizeScale=1,this.fontWeight=gt.fontWeight,this.fontSize=0,this.textMatrix=_e.IDENTITY_MATRIX,this.fontMatrix=_e.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=_e.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=gt.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(yt,Ct){this.x=yt,this.y=Ct}}let Pt=0,It=0,Ot=0;d.SVGGraphics=rt=class{constructor(at,yt,Ct=!1){(0,j.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new j.DOMSVGFactory,this.current=new ut,this.transformMatrix=_e.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=at,this.objs=yt,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!Ct,this._operatorIdMapping=[];for(const Bt in _e.OPS)this._operatorIdMapping[_e.OPS[Bt]]=Bt}save(){this.transformStack.push(this.transformMatrix);const at=this.current;this.extraStack.push(at),this.current=at.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(at){this.save(),this.executeOpTree(at),this.restore()}loadDependencies(at){const yt=at.fnArray,Ct=at.argsArray;for(let Bt=0,Vt=yt.length;Bt<Vt;Bt++)if(yt[Bt]===_e.OPS.dependency)for(const en of Ct[Bt]){const Xt=en.startsWith("g_")?this.commonObjs:this.objs,dn=new Promise(an=>{Xt.get(en,an)});this.current.dependencies.push(dn)}return Promise.all(this.current.dependencies)}transform(at,yt,Ct,Bt,Vt,en){const Xt=[at,yt,Ct,Bt,Vt,en];this.transformMatrix=_e.Util.transform(this.transformMatrix,Xt),this.tgrp=null}getSVG(at,yt){this.viewport=yt;const Ct=this._initialize(yt);return this.loadDependencies(at).then(()=>(this.transformMatrix=_e.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(at)),Ct))}convertOpList(at){const yt=this._operatorIdMapping,Ct=at.argsArray,Bt=at.fnArray,Vt=[];for(let en=0,Xt=Bt.length;en<Xt;en++){const dn=Bt[en];Vt.push({fnId:dn,fn:yt[dn],args:Ct[en]})}return kt(Vt)}executeOpTree(at){for(const yt of at){const Ct=yt.fn,Bt=yt.fnId,Vt=yt.args;switch(Bt|0){case _e.OPS.beginText:this.beginText();break;case _e.OPS.dependency:break;case _e.OPS.setLeading:this.setLeading(Vt);break;case _e.OPS.setLeadingMoveText:this.setLeadingMoveText(Vt[0],Vt[1]);break;case _e.OPS.setFont:this.setFont(Vt);break;case _e.OPS.showText:this.showText(Vt[0]);break;case _e.OPS.showSpacedText:this.showText(Vt[0]);break;case _e.OPS.endText:this.endText();break;case _e.OPS.moveText:this.moveText(Vt[0],Vt[1]);break;case _e.OPS.setCharSpacing:this.setCharSpacing(Vt[0]);break;case _e.OPS.setWordSpacing:this.setWordSpacing(Vt[0]);break;case _e.OPS.setHScale:this.setHScale(Vt[0]);break;case _e.OPS.setTextMatrix:this.setTextMatrix(Vt[0],Vt[1],Vt[2],Vt[3],Vt[4],Vt[5]);break;case _e.OPS.setTextRise:this.setTextRise(Vt[0]);break;case _e.OPS.setTextRenderingMode:this.setTextRenderingMode(Vt[0]);break;case _e.OPS.setLineWidth:this.setLineWidth(Vt[0]);break;case _e.OPS.setLineJoin:this.setLineJoin(Vt[0]);break;case _e.OPS.setLineCap:this.setLineCap(Vt[0]);break;case _e.OPS.setMiterLimit:this.setMiterLimit(Vt[0]);break;case _e.OPS.setFillRGBColor:this.setFillRGBColor(Vt[0],Vt[1],Vt[2]);break;case _e.OPS.setStrokeRGBColor:this.setStrokeRGBColor(Vt[0],Vt[1],Vt[2]);break;case _e.OPS.setStrokeColorN:this.setStrokeColorN(Vt);break;case _e.OPS.setFillColorN:this.setFillColorN(Vt);break;case _e.OPS.shadingFill:this.shadingFill(Vt[0]);break;case _e.OPS.setDash:this.setDash(Vt[0],Vt[1]);break;case _e.OPS.setRenderingIntent:this.setRenderingIntent(Vt[0]);break;case _e.OPS.setFlatness:this.setFlatness(Vt[0]);break;case _e.OPS.setGState:this.setGState(Vt[0]);break;case _e.OPS.fill:this.fill();break;case _e.OPS.eoFill:this.eoFill();break;case _e.OPS.stroke:this.stroke();break;case _e.OPS.fillStroke:this.fillStroke();break;case _e.OPS.eoFillStroke:this.eoFillStroke();break;case _e.OPS.clip:this.clip("nonzero");break;case _e.OPS.eoClip:this.clip("evenodd");break;case _e.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case _e.OPS.paintImageXObject:this.paintImageXObject(Vt[0]);break;case _e.OPS.paintInlineImageXObject:this.paintInlineImageXObject(Vt[0]);break;case _e.OPS.paintImageMaskXObject:this.paintImageMaskXObject(Vt[0]);break;case _e.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(Vt[0],Vt[1]);break;case _e.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case _e.OPS.closePath:this.closePath();break;case _e.OPS.closeStroke:this.closeStroke();break;case _e.OPS.closeFillStroke:this.closeFillStroke();break;case _e.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case _e.OPS.nextLine:this.nextLine();break;case _e.OPS.transform:this.transform(Vt[0],Vt[1],Vt[2],Vt[3],Vt[4],Vt[5]);break;case _e.OPS.constructPath:this.constructPath(Vt[0],Vt[1]);break;case _e.OPS.endPath:this.endPath();break;case 92:this.group(yt.items);break;default:(0,_e.warn)(`Unimplemented operator ${Ct}`);break}}}setWordSpacing(at){this.current.wordSpacing=at}setCharSpacing(at){this.current.charSpacing=at}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(at,yt,Ct,Bt,Vt,en){const Xt=this.current;Xt.textMatrix=Xt.lineMatrix=[at,yt,Ct,Bt,Vt,en],Xt.textMatrixScale=Math.hypot(at,yt),Xt.x=Xt.lineX=0,Xt.y=Xt.lineY=0,Xt.xcoords=[],Xt.ycoords=[],Xt.tspan=this.svgFactory.createElement("svg:tspan"),Xt.tspan.setAttributeNS(null,"font-family",Xt.fontFamily),Xt.tspan.setAttributeNS(null,"font-size",`${pt(Xt.fontSize)}px`),Xt.tspan.setAttributeNS(null,"y",pt(-Xt.y)),Xt.txtElement=this.svgFactory.createElement("svg:text"),Xt.txtElement.append(Xt.tspan)}beginText(){const at=this.current;at.x=at.lineX=0,at.y=at.lineY=0,at.textMatrix=_e.IDENTITY_MATRIX,at.lineMatrix=_e.IDENTITY_MATRIX,at.textMatrixScale=1,at.tspan=this.svgFactory.createElement("svg:tspan"),at.txtElement=this.svgFactory.createElement("svg:text"),at.txtgrp=this.svgFactory.createElement("svg:g"),at.xcoords=[],at.ycoords=[]}moveText(at,yt){const Ct=this.current;Ct.x=Ct.lineX+=at,Ct.y=Ct.lineY+=yt,Ct.xcoords=[],Ct.ycoords=[],Ct.tspan=this.svgFactory.createElement("svg:tspan"),Ct.tspan.setAttributeNS(null,"font-family",Ct.fontFamily),Ct.tspan.setAttributeNS(null,"font-size",`${pt(Ct.fontSize)}px`),Ct.tspan.setAttributeNS(null,"y",pt(-Ct.y))}showText(at){const yt=this.current,Ct=yt.font,Bt=yt.fontSize;if(Bt===0)return;const Vt=yt.fontSizeScale,en=yt.charSpacing,Xt=yt.wordSpacing,dn=yt.fontDirection,an=yt.textHScale*dn,Jt=Ct.vertical,Kt=Jt?1:-1,tn=Ct.defaultVMetrics,hn=Bt*yt.fontMatrix[0];let fn=0;for(const Et of at){if(Et===null){fn+=dn*Xt;continue}else if(typeof Et=="number"){fn+=Kt*Et*Bt/1e3;continue}const jt=(Et.isSpace?Xt:0)+en,Gt=Et.fontChar;let Ht,qt,rn=Et.width;if(Jt){let vt;const Tt=Et.vmetric||tn;vt=Et.vmetric?Tt[1]:rn*.5,vt=-vt*hn;const Nt=Tt[2]*hn;rn=Tt?-Tt[0]:rn,Ht=vt/Vt,qt=(fn+Nt)/Vt}else Ht=fn/Vt,qt=0;(Et.isInFont||Ct.missingFile)&&(yt.xcoords.push(yt.x+Ht),Jt&&yt.ycoords.push(-yt.y+qt),yt.tspan.textContent+=Gt);let sn;Jt?sn=rn*hn-jt*dn:sn=rn*hn+jt*dn,fn+=sn}yt.tspan.setAttributeNS(null,"x",yt.xcoords.map(pt).join(" ")),Jt?yt.tspan.setAttributeNS(null,"y",yt.ycoords.map(pt).join(" ")):yt.tspan.setAttributeNS(null,"y",pt(-yt.y)),Jt?yt.y-=fn:yt.x+=fn*an,yt.tspan.setAttributeNS(null,"font-family",yt.fontFamily),yt.tspan.setAttributeNS(null,"font-size",`${pt(yt.fontSize)}px`),yt.fontStyle!==gt.fontStyle&&yt.tspan.setAttributeNS(null,"font-style",yt.fontStyle),yt.fontWeight!==gt.fontWeight&&yt.tspan.setAttributeNS(null,"font-weight",yt.fontWeight);const Wt=yt.textRenderingMode&_e.TextRenderingMode.FILL_STROKE_MASK;if(Wt===_e.TextRenderingMode.FILL||Wt===_e.TextRenderingMode.FILL_STROKE?(yt.fillColor!==gt.fillColor&&yt.tspan.setAttributeNS(null,"fill",yt.fillColor),yt.fillAlpha<1&&yt.tspan.setAttributeNS(null,"fill-opacity",yt.fillAlpha)):yt.textRenderingMode===_e.TextRenderingMode.ADD_TO_PATH?yt.tspan.setAttributeNS(null,"fill","transparent"):yt.tspan.setAttributeNS(null,"fill","none"),Wt===_e.TextRenderingMode.STROKE||Wt===_e.TextRenderingMode.FILL_STROKE){const Et=1/(yt.textMatrixScale||1);this._setStrokeAttributes(yt.tspan,Et)}let xt=yt.textMatrix;yt.textRise!==0&&(xt=xt.slice(),xt[5]+=yt.textRise),yt.txtElement.setAttributeNS(null,"transform",`${mt(xt)} scale(${pt(an)}, -1)`),yt.txtElement.setAttributeNS(ft,"xml:space","preserve"),yt.txtElement.append(yt.tspan),yt.txtgrp.append(yt.txtElement),this._ensureTransformGroup().append(yt.txtElement)}setLeadingMoveText(at,yt){this.setLeading(-yt),this.moveText(at,yt)}addFontStyle(at){if(!at.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const yt=lt(at.data,at.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${at.loadedName}"; src: url(${yt}); }
`}setFont(at){const yt=this.current,Ct=this.commonObjs.get(at[0]);let Bt=at[1];yt.font=Ct,this.embedFonts&&!Ct.missingFile&&!this.embeddedFonts[Ct.loadedName]&&(this.addFontStyle(Ct),this.embeddedFonts[Ct.loadedName]=Ct),yt.fontMatrix=Ct.fontMatrix||_e.FONT_IDENTITY_MATRIX;let Vt="normal";Ct.black?Vt="900":Ct.bold&&(Vt="bold");const en=Ct.italic?"italic":"normal";Bt<0?(Bt=-Bt,yt.fontDirection=-1):yt.fontDirection=1,yt.fontSize=Bt,yt.fontFamily=Ct.loadedName,yt.fontWeight=Vt,yt.fontStyle=en,yt.tspan=this.svgFactory.createElement("svg:tspan"),yt.tspan.setAttributeNS(null,"y",pt(-yt.y)),yt.xcoords=[],yt.ycoords=[]}endText(){var yt;const at=this.current;at.textRenderingMode&_e.TextRenderingMode.ADD_TO_PATH_FLAG&&((yt=at.txtElement)!=null&&yt.hasChildNodes())&&(at.element=at.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(at){at>0&&(this.current.lineWidth=at)}setLineCap(at){this.current.lineCap=bt[at]}setLineJoin(at){this.current.lineJoin=wt[at]}setMiterLimit(at){this.current.miterLimit=at}setStrokeAlpha(at){this.current.strokeAlpha=at}setStrokeRGBColor(at,yt,Ct){this.current.strokeColor=_e.Util.makeHexColor(at,yt,Ct)}setFillAlpha(at){this.current.fillAlpha=at}setFillRGBColor(at,yt,Ct){this.current.fillColor=_e.Util.makeHexColor(at,yt,Ct),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(at){this.current.strokeColor=this._makeColorN_Pattern(at)}setFillColorN(at){this.current.fillColor=this._makeColorN_Pattern(at)}shadingFill(at){const yt=this.viewport.width,Ct=this.viewport.height,Bt=_e.Util.inverseTransform(this.transformMatrix),Vt=_e.Util.applyTransform([0,0],Bt),en=_e.Util.applyTransform([0,Ct],Bt),Xt=_e.Util.applyTransform([yt,0],Bt),dn=_e.Util.applyTransform([yt,Ct],Bt),an=Math.min(Vt[0],en[0],Xt[0],dn[0]),Jt=Math.min(Vt[1],en[1],Xt[1],dn[1]),Kt=Math.max(Vt[0],en[0],Xt[0],dn[0]),tn=Math.max(Vt[1],en[1],Xt[1],dn[1]),hn=this.svgFactory.createElement("svg:rect");hn.setAttributeNS(null,"x",an),hn.setAttributeNS(null,"y",Jt),hn.setAttributeNS(null,"width",Kt-an),hn.setAttributeNS(null,"height",tn-Jt),hn.setAttributeNS(null,"fill",this._makeShadingPattern(at)),this.current.fillAlpha<1&&hn.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(hn)}_makeColorN_Pattern(at){return at[0]==="TilingPattern"?this._makeTilingPattern(at):this._makeShadingPattern(at)}_makeTilingPattern(at){const yt=at[1],Ct=at[2],Bt=at[3]||_e.IDENTITY_MATRIX,[Vt,en,Xt,dn]=at[4],an=at[5],Jt=at[6],Kt=at[7],tn=`shading${Ot++}`,[hn,fn,Wt,xt]=_e.Util.normalizeRect([..._e.Util.applyTransform([Vt,en],Bt),..._e.Util.applyTransform([Xt,dn],Bt)]),[Et,jt]=_e.Util.singularValueDecompose2dScale(Bt),Gt=an*Et,Ht=Jt*jt,qt=this.svgFactory.createElement("svg:pattern");qt.setAttributeNS(null,"id",tn),qt.setAttributeNS(null,"patternUnits","userSpaceOnUse"),qt.setAttributeNS(null,"width",Gt),qt.setAttributeNS(null,"height",Ht),qt.setAttributeNS(null,"x",`${hn}`),qt.setAttributeNS(null,"y",`${fn}`);const rn=this.svg,sn=this.transformMatrix,vt=this.current.fillColor,Tt=this.current.strokeColor,Nt=this.svgFactory.create(Wt-hn,xt-fn);if(this.svg=Nt,this.transformMatrix=Bt,Kt===2){const Lt=_e.Util.makeHexColor(...yt);this.current.fillColor=Lt,this.current.strokeColor=Lt}return this.executeOpTree(this.convertOpList(Ct)),this.svg=rn,this.transformMatrix=sn,this.current.fillColor=vt,this.current.strokeColor=Tt,qt.append(Nt.childNodes[0]),this.defs.append(qt),`url(#${tn})`}_makeShadingPattern(at){switch(typeof at=="string"&&(at=this.objs.get(at)),at[0]){case"RadialAxial":const yt=`shading${Ot++}`,Ct=at[3];let Bt;switch(at[1]){case"axial":const Vt=at[4],en=at[5];Bt=this.svgFactory.createElement("svg:linearGradient"),Bt.setAttributeNS(null,"id",yt),Bt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Bt.setAttributeNS(null,"x1",Vt[0]),Bt.setAttributeNS(null,"y1",Vt[1]),Bt.setAttributeNS(null,"x2",en[0]),Bt.setAttributeNS(null,"y2",en[1]);break;case"radial":const Xt=at[4],dn=at[5],an=at[6],Jt=at[7];Bt=this.svgFactory.createElement("svg:radialGradient"),Bt.setAttributeNS(null,"id",yt),Bt.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Bt.setAttributeNS(null,"cx",dn[0]),Bt.setAttributeNS(null,"cy",dn[1]),Bt.setAttributeNS(null,"r",Jt),Bt.setAttributeNS(null,"fx",Xt[0]),Bt.setAttributeNS(null,"fy",Xt[1]),Bt.setAttributeNS(null,"fr",an);break;default:throw new Error(`Unknown RadialAxial type: ${at[1]}`)}for(const Vt of Ct){const en=this.svgFactory.createElement("svg:stop");en.setAttributeNS(null,"offset",Vt[0]),en.setAttributeNS(null,"stop-color",Vt[1]),Bt.append(en)}return this.defs.append(Bt),`url(#${yt})`;case"Mesh":return(0,_e.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${at[0]}`)}}setDash(at,yt){this.current.dashArray=at,this.current.dashPhase=yt}constructPath(at,yt){const Ct=this.current;let Bt=Ct.x,Vt=Ct.y,en=[],Xt=0;for(const dn of at)switch(dn|0){case _e.OPS.rectangle:Bt=yt[Xt++],Vt=yt[Xt++];const an=yt[Xt++],Jt=yt[Xt++],Kt=Bt+an,tn=Vt+Jt;en.push("M",pt(Bt),pt(Vt),"L",pt(Kt),pt(Vt),"L",pt(Kt),pt(tn),"L",pt(Bt),pt(tn),"Z");break;case _e.OPS.moveTo:Bt=yt[Xt++],Vt=yt[Xt++],en.push("M",pt(Bt),pt(Vt));break;case _e.OPS.lineTo:Bt=yt[Xt++],Vt=yt[Xt++],en.push("L",pt(Bt),pt(Vt));break;case _e.OPS.curveTo:Bt=yt[Xt+4],Vt=yt[Xt+5],en.push("C",pt(yt[Xt]),pt(yt[Xt+1]),pt(yt[Xt+2]),pt(yt[Xt+3]),pt(Bt),pt(Vt)),Xt+=6;break;case _e.OPS.curveTo2:en.push("C",pt(Bt),pt(Vt),pt(yt[Xt]),pt(yt[Xt+1]),pt(yt[Xt+2]),pt(yt[Xt+3])),Bt=yt[Xt+2],Vt=yt[Xt+3],Xt+=4;break;case _e.OPS.curveTo3:Bt=yt[Xt+2],Vt=yt[Xt+3],en.push("C",pt(yt[Xt]),pt(yt[Xt+1]),pt(Bt),pt(Vt),pt(Bt),pt(Vt)),Xt+=4;break;case _e.OPS.closePath:en.push("Z");break}en=en.join(" "),Ct.path&&at.length>0&&at[0]!==_e.OPS.rectangle&&at[0]!==_e.OPS.moveTo?en=Ct.path.getAttributeNS(null,"d")+en:(Ct.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(Ct.path)),Ct.path.setAttributeNS(null,"d",en),Ct.path.setAttributeNS(null,"fill","none"),Ct.element=Ct.path,Ct.setCurrentPoint(Bt,Vt)}endPath(){const at=this.current;if(at.path=null,!this.pendingClip)return;if(!at.element){this.pendingClip=null;return}const yt=`clippath${Pt++}`,Ct=this.svgFactory.createElement("svg:clipPath");Ct.setAttributeNS(null,"id",yt),Ct.setAttributeNS(null,"transform",mt(this.transformMatrix));const Bt=at.element.cloneNode(!0);if(this.pendingClip==="evenodd"?Bt.setAttributeNS(null,"clip-rule","evenodd"):Bt.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,Ct.append(Bt),this.defs.append(Ct),at.activeClipUrl){at.clipGroup=null;for(const Vt of this.extraStack)Vt.clipGroup=null;Ct.setAttributeNS(null,"clip-path",at.activeClipUrl)}at.activeClipUrl=`url(#${yt})`,this.tgrp=null}clip(at){this.pendingClip=at}closePath(){const at=this.current;if(at.path){const yt=`${at.path.getAttributeNS(null,"d")}Z`;at.path.setAttributeNS(null,"d",yt)}}setLeading(at){this.current.leading=-at}setTextRise(at){this.current.textRise=at}setTextRenderingMode(at){this.current.textRenderingMode=at}setHScale(at){this.current.textHScale=at/100}setRenderingIntent(at){}setFlatness(at){}setGState(at){for(const[yt,Ct]of at)switch(yt){case"LW":this.setLineWidth(Ct);break;case"LC":this.setLineCap(Ct);break;case"LJ":this.setLineJoin(Ct);break;case"ML":this.setMiterLimit(Ct);break;case"D":this.setDash(Ct[0],Ct[1]);break;case"RI":this.setRenderingIntent(Ct);break;case"FL":this.setFlatness(Ct);break;case"Font":this.setFont(Ct);break;case"CA":this.setStrokeAlpha(Ct);break;case"ca":this.setFillAlpha(Ct);break;default:(0,_e.warn)(`Unimplemented graphic state operator ${yt}`);break}}fill(){const at=this.current;at.element&&(at.element.setAttributeNS(null,"fill",at.fillColor),at.element.setAttributeNS(null,"fill-opacity",at.fillAlpha),this.endPath())}stroke(){const at=this.current;at.element&&(this._setStrokeAttributes(at.element),at.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(at,yt=1){const Ct=this.current;let Bt=Ct.dashArray;yt!==1&&Bt.length>0&&(Bt=Bt.map(function(Vt){return yt*Vt})),at.setAttributeNS(null,"stroke",Ct.strokeColor),at.setAttributeNS(null,"stroke-opacity",Ct.strokeAlpha),at.setAttributeNS(null,"stroke-miterlimit",pt(Ct.miterLimit)),at.setAttributeNS(null,"stroke-linecap",Ct.lineCap),at.setAttributeNS(null,"stroke-linejoin",Ct.lineJoin),at.setAttributeNS(null,"stroke-width",pt(yt*Ct.lineWidth)+"px"),at.setAttributeNS(null,"stroke-dasharray",Bt.map(pt).join(" ")),at.setAttributeNS(null,"stroke-dashoffset",pt(yt*Ct.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const at=this.svgFactory.createElement("svg:rect");at.setAttributeNS(null,"x","0"),at.setAttributeNS(null,"y","0"),at.setAttributeNS(null,"width","1px"),at.setAttributeNS(null,"height","1px"),at.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(at)}paintImageXObject(at){const yt=at.startsWith("g_")?this.commonObjs.get(at):this.objs.get(at);if(!yt){(0,_e.warn)(`Dependent image with object ID ${at} is not ready yet`);return}this.paintInlineImageXObject(yt)}paintInlineImageXObject(at,yt){const Ct=at.width,Bt=at.height,Vt=_t(at,this.forceDataSchema,!!yt),en=this.svgFactory.createElement("svg:rect");en.setAttributeNS(null,"x","0"),en.setAttributeNS(null,"y","0"),en.setAttributeNS(null,"width",pt(Ct)),en.setAttributeNS(null,"height",pt(Bt)),this.current.element=en,this.clip("nonzero");const Xt=this.svgFactory.createElement("svg:image");Xt.setAttributeNS(ht,"xlink:href",Vt),Xt.setAttributeNS(null,"x","0"),Xt.setAttributeNS(null,"y",pt(-Bt)),Xt.setAttributeNS(null,"width",pt(Ct)+"px"),Xt.setAttributeNS(null,"height",pt(Bt)+"px"),Xt.setAttributeNS(null,"transform",`scale(${pt(1/Ct)} ${pt(-1/Bt)})`),yt?yt.append(Xt):this._ensureTransformGroup().append(Xt)}paintImageMaskXObject(at){const yt=this.current,Ct=at.width,Bt=at.height,Vt=yt.fillColor;yt.maskId=`mask${It++}`;const en=this.svgFactory.createElement("svg:mask");en.setAttributeNS(null,"id",yt.maskId);const Xt=this.svgFactory.createElement("svg:rect");Xt.setAttributeNS(null,"x","0"),Xt.setAttributeNS(null,"y","0"),Xt.setAttributeNS(null,"width",pt(Ct)),Xt.setAttributeNS(null,"height",pt(Bt)),Xt.setAttributeNS(null,"fill",Vt),Xt.setAttributeNS(null,"mask",`url(#${yt.maskId})`),this.defs.append(en),this._ensureTransformGroup().append(Xt),this.paintInlineImageXObject(at,en)}paintFormXObjectBegin(at,yt){if(Array.isArray(at)&&at.length===6&&this.transform(at[0],at[1],at[2],at[3],at[4],at[5]),yt){const Ct=yt[2]-yt[0],Bt=yt[3]-yt[1],Vt=this.svgFactory.createElement("svg:rect");Vt.setAttributeNS(null,"x",yt[0]),Vt.setAttributeNS(null,"y",yt[1]),Vt.setAttributeNS(null,"width",pt(Ct)),Vt.setAttributeNS(null,"height",pt(Bt)),this.current.element=Vt,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(at){const yt=this.svgFactory.create(at.width,at.height),Ct=this.svgFactory.createElement("svg:defs");yt.append(Ct),this.defs=Ct;const Bt=this.svgFactory.createElement("svg:g");return Bt.setAttributeNS(null,"transform",mt(at.transform)),yt.append(Bt),this.svg=Bt,yt}_ensureClipGroup(){if(!this.current.clipGroup){const at=this.svgFactory.createElement("svg:g");at.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(at),this.current.clipGroup=at}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",mt(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(c,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFNodeStream=void 0;var j=b(1),_e=b(33);const nt=require$$5,rt=require$$5,st=require$$5,it=require$$5,ct=/^file:\/\/\/[a-zA-Z]:\//;function gt(pt){const mt=it.parse(pt);return mt.protocol==="file:"||mt.host?mt:/^[a-z]:[/\\]/i.test(pt)?it.parse(`file:///${pt}`):(mt.host||(mt.protocol="file:"),mt)}class ft{constructor(mt){this.source=mt,this.url=gt(mt.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&mt.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var mt;return((mt=this._fullRequestReader)==null?void 0:mt._loaded)??0}getFullReader(){return(0,j.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new ut(this):new lt(this),this._fullRequestReader}getRangeReader(mt,Pt){if(Pt<=this._progressiveDataLength)return null;const It=this.isFsUrl?new kt(this,mt,Pt):new _t(this,mt,Pt);return this._rangeRequestReaders.push(It),It}cancelAllRequests(mt){this._fullRequestReader&&this._fullRequestReader.cancel(mt);for(const Pt of this._rangeRequestReaders.slice(0))Pt.cancel(mt)}}d.PDFNodeStream=ft;class ht{constructor(mt){this._url=mt.url,this._done=!1,this._storedError=null,this.onProgress=null;const Pt=mt.source;this._contentLength=Pt.length,this._loaded=0,this._filename=null,this._disableRange=Pt.disableRange||!1,this._rangeChunkSize=Pt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Pt.disableStream,this._isRangeSupported=!Pt.disableRange,this._readableStream=null,this._readCapability=(0,j.createPromiseCapability)(),this._headersCapability=(0,j.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const mt=this._readableStream.read();return mt===null?(this._readCapability=(0,j.createPromiseCapability)(),this.read()):(this._loaded+=mt.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(mt).buffer,done:!1})}cancel(mt){if(!this._readableStream){this._error(mt);return}this._readableStream.destroy(mt)}_error(mt){this._storedError=mt,this._readCapability.resolve()}_setReadableStream(mt){this._readableStream=mt,mt.on("readable",()=>{this._readCapability.resolve()}),mt.on("end",()=>{mt.destroy(),this._done=!0,this._readCapability.resolve()}),mt.on("error",Pt=>{this._error(Pt)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new j.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class bt{constructor(mt){this._url=mt.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,j.createPromiseCapability)();const Pt=mt.source;this._isStreamingSupported=!Pt.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const mt=this._readableStream.read();return mt===null?(this._readCapability=(0,j.createPromiseCapability)(),this.read()):(this._loaded+=mt.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(mt).buffer,done:!1})}cancel(mt){if(!this._readableStream){this._error(mt);return}this._readableStream.destroy(mt)}_error(mt){this._storedError=mt,this._readCapability.resolve()}_setReadableStream(mt){this._readableStream=mt,mt.on("readable",()=>{this._readCapability.resolve()}),mt.on("end",()=>{mt.destroy(),this._done=!0,this._readCapability.resolve()}),mt.on("error",Pt=>{this._error(Pt)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function wt(pt,mt){return{protocol:pt.protocol,auth:pt.auth,host:pt.hostname,port:pt.port,path:pt.path,method:"GET",headers:mt}}class lt extends ht{constructor(mt){super(mt);const Pt=It=>{if(It.statusCode===404){const Ct=new j.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Ct,this._headersCapability.reject(Ct);return}this._headersCapability.resolve(),this._setReadableStream(It);const Ot=Ct=>this._readableStream.headers[Ct.toLowerCase()],{allowRangeRequests:at,suggestedLength:yt}=(0,_e.validateRangeRequestCapabilities)({getResponseHeader:Ot,isHttp:mt.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=at,this._contentLength=yt||this._contentLength,this._filename=(0,_e.extractFilenameFromHeader)(Ot)};this._request=null,this._url.protocol==="http:"?this._request=rt.request(wt(this._url,mt.httpHeaders),Pt):this._request=st.request(wt(this._url,mt.httpHeaders),Pt),this._request.on("error",It=>{this._storedError=It,this._headersCapability.reject(It)}),this._request.end()}}class _t extends bt{constructor(mt,Pt,It){super(mt),this._httpHeaders={};for(const at in mt.httpHeaders){const yt=mt.httpHeaders[at];typeof yt>"u"||(this._httpHeaders[at]=yt)}this._httpHeaders.Range=`bytes=${Pt}-${It-1}`;const Ot=at=>{if(at.statusCode===404){const yt=new j.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=yt;return}this._setReadableStream(at)};this._request=null,this._url.protocol==="http:"?this._request=rt.request(wt(this._url,this._httpHeaders),Ot):this._request=st.request(wt(this._url,this._httpHeaders),Ot),this._request.on("error",at=>{this._storedError=at}),this._request.end()}}class ut extends ht{constructor(mt){super(mt);let Pt=decodeURIComponent(this._url.path);ct.test(this._url.href)&&(Pt=Pt.replace(/^\//,"")),nt.lstat(Pt,(It,Ot)=>{if(It){It.code==="ENOENT"&&(It=new j.MissingPDFException(`Missing PDF "${Pt}".`)),this._storedError=It,this._headersCapability.reject(It);return}this._contentLength=Ot.size,this._setReadableStream(nt.createReadStream(Pt)),this._headersCapability.resolve()})}}class kt extends bt{constructor(mt,Pt,It){super(mt);let Ot=decodeURIComponent(this._url.path);ct.test(this._url.href)&&(Ot=Ot.replace(/^\//,"")),this._setReadableStream(nt.createReadStream(Ot,{start:Pt,end:It-1}))}}},(c,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.createResponseStatusError=it,d.extractFilenameFromHeader=st,d.validateRangeRequestCapabilities=rt,d.validateResponseStatus=ct;var j=b(1),_e=b(34),nt=b(8);function rt({getResponseHeader:gt,isHttp:ft,rangeChunkSize:ht,disableRange:bt}){const wt={allowRangeRequests:!1,suggestedLength:void 0},lt=parseInt(gt("Content-Length"),10);return!Number.isInteger(lt)||(wt.suggestedLength=lt,lt<=2*ht)||bt||!ft||gt("Accept-Ranges")!=="bytes"||(gt("Content-Encoding")||"identity")!=="identity"||(wt.allowRangeRequests=!0),wt}function st(gt){const ft=gt("Content-Disposition");if(ft){let ht=(0,_e.getFilenameFromContentDispositionHeader)(ft);if(ht.includes("%"))try{ht=decodeURIComponent(ht)}catch{}if((0,nt.isPdfFile)(ht))return ht}return null}function it(gt,ft){return gt===404||gt===0&&ft.startsWith("file:")?new j.MissingPDFException('Missing PDF "'+ft+'".'):new j.UnexpectedResponseException(`Unexpected server response (${gt}) while retrieving PDF "${ft}".`,gt)}function ct(gt){return gt===200||gt===206}},(c,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.getFilenameFromContentDispositionHeader=_e;var j=b(1);function _e(nt){let rt=!0,st=it("filename\\*","i").exec(nt);if(st){st=st[1];let lt=ht(st);return lt=unescape(lt),lt=bt(lt),lt=wt(lt),gt(lt)}if(st=ft(nt),st){const lt=wt(st);return gt(lt)}if(st=it("filename","i").exec(nt),st){st=st[1];let lt=ht(st);return lt=wt(lt),gt(lt)}function it(lt,_t){return new RegExp("(?:^|;)\\s*"+lt+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',_t)}function ct(lt,_t){if(lt){if(!/^[\x00-\xFF]+$/.test(_t))return _t;try{const ut=new TextDecoder(lt,{fatal:!0}),kt=(0,j.stringToBytes)(_t);_t=ut.decode(kt),rt=!1}catch{}}return _t}function gt(lt){return rt&&/[\x80-\xff]/.test(lt)&&(lt=ct("utf-8",lt),rt&&(lt=ct("iso-8859-1",lt))),lt}function ft(lt){const _t=[];let ut;const kt=it("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(ut=kt.exec(lt))!==null;){let[,mt,Pt,It]=ut;if(mt=parseInt(mt,10),mt in _t){if(mt===0)break;continue}_t[mt]=[Pt,It]}const pt=[];for(let mt=0;mt<_t.length&&mt in _t;++mt){let[Pt,It]=_t[mt];It=ht(It),Pt&&(It=unescape(It),mt===0&&(It=bt(It))),pt.push(It)}return pt.join("")}function ht(lt){if(lt.startsWith('"')){const _t=lt.slice(1).split('\\"');for(let ut=0;ut<_t.length;++ut){const kt=_t[ut].indexOf('"');kt!==-1&&(_t[ut]=_t[ut].slice(0,kt),_t.length=ut+1),_t[ut]=_t[ut].replace(/\\(.)/g,"$1")}lt=_t.join('"')}return lt}function bt(lt){const _t=lt.indexOf("'");if(_t===-1)return lt;const ut=lt.slice(0,_t),pt=lt.slice(_t+1).replace(/^[^']*'/,"");return ct(ut,pt)}function wt(lt){return!lt.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(lt)?lt:lt.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(_t,ut,kt,pt){if(kt==="q"||kt==="Q")return pt=pt.replace(/_/g," "),pt=pt.replace(/=([0-9a-fA-F]{2})/g,function(mt,Pt){return String.fromCharCode(parseInt(Pt,16))}),ct(ut,pt);try{pt=atob(pt)}catch{}return ct(ut,pt)})}return""}},(c,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFNetworkStream=void 0;var j=b(1),_e=b(33);const nt=200,rt=206;function st(ht){const bt=ht.response;return typeof bt!="string"?bt:(0,j.stringToBytes)(bt).buffer}class it{constructor(bt,wt={}){this.url=bt,this.isHttp=/^https?:/i.test(bt),this.httpHeaders=this.isHttp&&wt.httpHeaders||Object.create(null),this.withCredentials=wt.withCredentials||!1,this.getXhr=wt.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(bt,wt,lt){const _t={begin:bt,end:wt};for(const ut in lt)_t[ut]=lt[ut];return this.request(_t)}requestFull(bt){return this.request(bt)}request(bt){const wt=this.getXhr(),lt=this.currXhrId++,_t=this.pendingRequests[lt]={xhr:wt};wt.open("GET",this.url),wt.withCredentials=this.withCredentials;for(const ut in this.httpHeaders){const kt=this.httpHeaders[ut];typeof kt>"u"||wt.setRequestHeader(ut,kt)}return this.isHttp&&"begin"in bt&&"end"in bt?(wt.setRequestHeader("Range",`bytes=${bt.begin}-${bt.end-1}`),_t.expectedStatus=rt):_t.expectedStatus=nt,wt.responseType="arraybuffer",bt.onError&&(wt.onerror=function(ut){bt.onError(wt.status)}),wt.onreadystatechange=this.onStateChange.bind(this,lt),wt.onprogress=this.onProgress.bind(this,lt),_t.onHeadersReceived=bt.onHeadersReceived,_t.onDone=bt.onDone,_t.onError=bt.onError,_t.onProgress=bt.onProgress,wt.send(null),lt}onProgress(bt,wt){var _t;const lt=this.pendingRequests[bt];lt&&((_t=lt.onProgress)==null||_t.call(lt,wt))}onStateChange(bt,wt){var mt,Pt,It;const lt=this.pendingRequests[bt];if(!lt)return;const _t=lt.xhr;if(_t.readyState>=2&&lt.onHeadersReceived&&(lt.onHeadersReceived(),delete lt.onHeadersReceived),_t.readyState!==4||!(bt in this.pendingRequests))return;if(delete this.pendingRequests[bt],_t.status===0&&this.isHttp){(mt=lt.onError)==null||mt.call(lt,_t.status);return}const ut=_t.status||nt;if(!(ut===nt&&lt.expectedStatus===rt)&&ut!==lt.expectedStatus){(Pt=lt.onError)==null||Pt.call(lt,_t.status);return}const pt=st(_t);if(ut===rt){const Ot=_t.getResponseHeader("Content-Range"),at=/bytes (\d+)-(\d+)\/(\d+)/.exec(Ot);lt.onDone({begin:parseInt(at[1],10),chunk:pt})}else pt?lt.onDone({begin:0,chunk:pt}):(It=lt.onError)==null||It.call(lt,_t.status)}getRequestXhr(bt){return this.pendingRequests[bt].xhr}isPendingRequest(bt){return bt in this.pendingRequests}abortRequest(bt){const wt=this.pendingRequests[bt].xhr;delete this.pendingRequests[bt],wt.abort()}}class ct{constructor(bt){this._source=bt,this._manager=new it(bt.url,{httpHeaders:bt.httpHeaders,withCredentials:bt.withCredentials}),this._rangeChunkSize=bt.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(bt){const wt=this._rangeRequestReaders.indexOf(bt);wt>=0&&this._rangeRequestReaders.splice(wt,1)}getFullReader(){return(0,j.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new gt(this._manager,this._source),this._fullRequestReader}getRangeReader(bt,wt){const lt=new ft(this._manager,bt,wt);return lt.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(lt),lt}cancelAllRequests(bt){var wt;(wt=this._fullRequestReader)==null||wt.cancel(bt);for(const lt of this._rangeRequestReaders.slice(0))lt.cancel(bt)}}d.PDFNetworkStream=ct;class gt{constructor(bt,wt){this._manager=bt;const lt={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=wt.url,this._fullRequestId=bt.requestFull(lt),this._headersReceivedCapability=(0,j.createPromiseCapability)(),this._disableRange=wt.disableRange||!1,this._contentLength=wt.length,this._rangeChunkSize=wt.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const bt=this._fullRequestId,wt=this._manager.getRequestXhr(bt),lt=kt=>wt.getResponseHeader(kt),{allowRangeRequests:_t,suggestedLength:ut}=(0,_e.validateRangeRequestCapabilities)({getResponseHeader:lt,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});_t&&(this._isRangeSupported=!0),this._contentLength=ut||this._contentLength,this._filename=(0,_e.extractFilenameFromHeader)(lt),this._isRangeSupported&&this._manager.abortRequest(bt),this._headersReceivedCapability.resolve()}_onDone(bt){if(bt&&(this._requests.length>0?this._requests.shift().resolve({value:bt.chunk,done:!1}):this._cachedChunks.push(bt.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const wt of this._requests)wt.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(bt){this._storedError=(0,_e.createResponseStatusError)(bt,this._url),this._headersReceivedCapability.reject(this._storedError);for(const wt of this._requests)wt.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(bt){var wt;(wt=this.onProgress)==null||wt.call(this,{loaded:bt.loaded,total:bt.lengthComputable?bt.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const bt=(0,j.createPromiseCapability)();return this._requests.push(bt),bt.promise}cancel(bt){this._done=!0,this._headersReceivedCapability.reject(bt);for(const wt of this._requests)wt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class ft{constructor(bt,wt,lt){this._manager=bt;const _t={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=bt.url,this._requestId=bt.requestRange(wt,lt,_t),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var bt;(bt=this.onClosed)==null||bt.call(this,this)}_onDone(bt){const wt=bt.chunk;this._requests.length>0?this._requests.shift().resolve({value:wt,done:!1}):this._queuedChunk=wt,this._done=!0;for(const lt of this._requests)lt.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(bt){this._storedError=(0,_e.createResponseStatusError)(bt,this._url);for(const wt of this._requests)wt.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(bt){var wt;this.isStreamingSupported||(wt=this.onProgress)==null||wt.call(this,{loaded:bt.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const wt=this._queuedChunk;return this._queuedChunk=null,{value:wt,done:!1}}if(this._done)return{value:void 0,done:!0};const bt=(0,j.createPromiseCapability)();return this._requests.push(bt),bt.promise}cancel(bt){this._done=!0;for(const wt of this._requests)wt.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(c,d,b)=>{Object.defineProperty(d,"__esModule",{value:!0}),d.PDFFetchStream=void 0;var j=b(1),_e=b(33);function nt(gt,ft,ht){return{method:"GET",headers:gt,signal:ht.signal,mode:"cors",credentials:ft?"include":"same-origin",redirect:"follow"}}function rt(gt){const ft=new Headers;for(const ht in gt){const bt=gt[ht];typeof bt>"u"||ft.append(ht,bt)}return ft}class st{constructor(ft){this.source=ft,this.isHttp=/^https?:/i.test(ft.url),this.httpHeaders=this.isHttp&&ft.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var ft;return((ft=this._fullRequestReader)==null?void 0:ft._loaded)??0}getFullReader(){return(0,j.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new it(this),this._fullRequestReader}getRangeReader(ft,ht){if(ht<=this._progressiveDataLength)return null;const bt=new ct(this,ft,ht);return this._rangeRequestReaders.push(bt),bt}cancelAllRequests(ft){this._fullRequestReader&&this._fullRequestReader.cancel(ft);for(const ht of this._rangeRequestReaders.slice(0))ht.cancel(ft)}}d.PDFFetchStream=st;class it{constructor(ft){this._stream=ft,this._reader=null,this._loaded=0,this._filename=null;const ht=ft.source;this._withCredentials=ht.withCredentials||!1,this._contentLength=ht.length,this._headersCapability=(0,j.createPromiseCapability)(),this._disableRange=ht.disableRange||!1,this._rangeChunkSize=ht.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!ht.disableStream,this._isRangeSupported=!ht.disableRange,this._headers=rt(this._stream.httpHeaders);const bt=ht.url;fetch(bt,nt(this._headers,this._withCredentials,this._abortController)).then(wt=>{if(!(0,_e.validateResponseStatus)(wt.status))throw(0,_e.createResponseStatusError)(wt.status,bt);this._reader=wt.body.getReader(),this._headersCapability.resolve();const lt=kt=>wt.headers.get(kt),{allowRangeRequests:_t,suggestedLength:ut}=(0,_e.validateRangeRequestCapabilities)({getResponseHeader:lt,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=_t,this._contentLength=ut||this._contentLength,this._filename=(0,_e.extractFilenameFromHeader)(lt),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new j.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:ft,done:ht}=await this._reader.read();return ht?{value:ft,done:ht}:(this._loaded+=ft.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(ft).buffer,done:!1})}cancel(ft){this._reader&&this._reader.cancel(ft),this._abortController.abort()}}class ct{constructor(ft,ht,bt){this._stream=ft,this._reader=null,this._loaded=0;const wt=ft.source;this._withCredentials=wt.withCredentials||!1,this._readCapability=(0,j.createPromiseCapability)(),this._isStreamingSupported=!wt.disableStream,this._abortController=new AbortController,this._headers=rt(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ht}-${bt-1}`);const lt=wt.url;fetch(lt,nt(this._headers,this._withCredentials,this._abortController)).then(_t=>{if(!(0,_e.validateResponseStatus)(_t.status))throw(0,_e.createResponseStatusError)(_t.status,lt);this._readCapability.resolve(),this._reader=_t.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:ft,done:ht}=await this._reader.read();return ht?{value:ft,done:ht}:(this._loaded+=ft.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(ft).buffer,done:!1})}cancel(ft){this._reader&&this._reader.cancel(ft),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(c){var d=__webpack_module_cache__[c];if(d!==void 0)return d.exports;var b=__webpack_module_cache__[c]={exports:{}};return __webpack_modules__[c](b,b.exports,__w_pdfjs_require__),b.exports}var __webpack_exports__={};return(()=>{var c=__webpack_exports__;Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"AnnotationEditorLayer",{enumerable:!0,get:function(){return _e.AnnotationEditorLayer}}),Object.defineProperty(c,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return d.AnnotationEditorParamsType}}),Object.defineProperty(c,"AnnotationEditorType",{enumerable:!0,get:function(){return d.AnnotationEditorType}}),Object.defineProperty(c,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return nt.AnnotationEditorUIManager}}),Object.defineProperty(c,"AnnotationLayer",{enumerable:!0,get:function(){return rt.AnnotationLayer}}),Object.defineProperty(c,"AnnotationMode",{enumerable:!0,get:function(){return d.AnnotationMode}}),Object.defineProperty(c,"CMapCompressionType",{enumerable:!0,get:function(){return d.CMapCompressionType}}),Object.defineProperty(c,"GlobalWorkerOptions",{enumerable:!0,get:function(){return st.GlobalWorkerOptions}}),Object.defineProperty(c,"InvalidPDFException",{enumerable:!0,get:function(){return d.InvalidPDFException}}),Object.defineProperty(c,"LoopbackPort",{enumerable:!0,get:function(){return b.LoopbackPort}}),Object.defineProperty(c,"MissingPDFException",{enumerable:!0,get:function(){return d.MissingPDFException}}),Object.defineProperty(c,"OPS",{enumerable:!0,get:function(){return d.OPS}}),Object.defineProperty(c,"PDFDataRangeTransport",{enumerable:!0,get:function(){return b.PDFDataRangeTransport}}),Object.defineProperty(c,"PDFDateString",{enumerable:!0,get:function(){return j.PDFDateString}}),Object.defineProperty(c,"PDFWorker",{enumerable:!0,get:function(){return b.PDFWorker}}),Object.defineProperty(c,"PasswordResponses",{enumerable:!0,get:function(){return d.PasswordResponses}}),Object.defineProperty(c,"PermissionFlag",{enumerable:!0,get:function(){return d.PermissionFlag}}),Object.defineProperty(c,"PixelsPerInch",{enumerable:!0,get:function(){return j.PixelsPerInch}}),Object.defineProperty(c,"RenderingCancelledException",{enumerable:!0,get:function(){return j.RenderingCancelledException}}),Object.defineProperty(c,"SVGGraphics",{enumerable:!0,get:function(){return gt.SVGGraphics}}),Object.defineProperty(c,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return d.UNSUPPORTED_FEATURES}}),Object.defineProperty(c,"UnexpectedResponseException",{enumerable:!0,get:function(){return d.UnexpectedResponseException}}),Object.defineProperty(c,"Util",{enumerable:!0,get:function(){return d.Util}}),Object.defineProperty(c,"VerbosityLevel",{enumerable:!0,get:function(){return d.VerbosityLevel}}),Object.defineProperty(c,"XfaLayer",{enumerable:!0,get:function(){return ft.XfaLayer}}),Object.defineProperty(c,"build",{enumerable:!0,get:function(){return b.build}}),Object.defineProperty(c,"createPromiseCapability",{enumerable:!0,get:function(){return d.createPromiseCapability}}),Object.defineProperty(c,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return d.createValidAbsoluteUrl}}),Object.defineProperty(c,"getDocument",{enumerable:!0,get:function(){return b.getDocument}}),Object.defineProperty(c,"getFilenameFromUrl",{enumerable:!0,get:function(){return j.getFilenameFromUrl}}),Object.defineProperty(c,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return j.getPdfFilenameFromUrl}}),Object.defineProperty(c,"getXfaPageViewport",{enumerable:!0,get:function(){return j.getXfaPageViewport}}),Object.defineProperty(c,"isPdfFile",{enumerable:!0,get:function(){return j.isPdfFile}}),Object.defineProperty(c,"loadScript",{enumerable:!0,get:function(){return j.loadScript}}),Object.defineProperty(c,"renderTextLayer",{enumerable:!0,get:function(){return ct.renderTextLayer}}),Object.defineProperty(c,"shadow",{enumerable:!0,get:function(){return d.shadow}}),Object.defineProperty(c,"version",{enumerable:!0,get:function(){return b.version}});var d=__w_pdfjs_require__(1),b=__w_pdfjs_require__(4),j=__w_pdfjs_require__(8),_e=__w_pdfjs_require__(22),nt=__w_pdfjs_require__(7),rt=__w_pdfjs_require__(27),st=__w_pdfjs_require__(15),it=__w_pdfjs_require__(3),ct=__w_pdfjs_require__(30),gt=__w_pdfjs_require__(31),ft=__w_pdfjs_require__(29);if(it.isNodeJS){const{PDFNodeStream:ht}=__w_pdfjs_require__(32);(0,b.setPDFNetworkStreamFactory)(bt=>new ht(bt))}else{const{PDFNetworkStream:ht}=__w_pdfjs_require__(35),{PDFFetchStream:bt}=__w_pdfjs_require__(36);(0,b.setPDFNetworkStreamFactory)(wt=>(0,j.isValidFetchUrl)(wt.url)?new bt(wt):new ht(wt))}})(),__webpack_exports__})())})(pdf);function _extends(){return _extends=Object.assign?Object.assign.bind():function(c){for(var d=1;d<arguments.length;d++){var b=arguments[d];for(var j in b)Object.prototype.hasOwnProperty.call(b,j)&&(c[j]=b[j])}return c},_extends.apply(this,arguments)}function _objectWithoutPropertiesLoose(c,d){if(c==null)return{};var b={},j=Object.keys(c),_e,nt;for(nt=0;nt<j.length;nt++)_e=j[nt],!(d.indexOf(_e)>=0)&&(b[_e]=c[_e]);return b}function _objectWithoutProperties(c,d){if(c==null)return{};var b=_objectWithoutPropertiesLoose(c,d),j,_e;if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(c);for(_e=0;_e<nt.length;_e++)j=nt[_e],!(d.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(c,j)&&(b[j]=c[j])}return b}function _typeof(c){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},_typeof(c)}function _classCallCheck(c,d){if(!(c instanceof d))throw new TypeError("Cannot call a class as a function")}function _toPrimitive(c,d){if(_typeof(c)!=="object"||c===null)return c;var b=c[Symbol.toPrimitive];if(b!==void 0){var j=b.call(c,d||"default");if(_typeof(j)!=="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(d==="string"?String:Number)(c)}function _toPropertyKey(c){var d=_toPrimitive(c,"string");return _typeof(d)==="symbol"?d:String(d)}function _defineProperties(c,d){for(var b=0;b<d.length;b++){var j=d[b];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(c,_toPropertyKey(j.key),j)}}function _createClass(c,d,b){return d&&_defineProperties(c.prototype,d),b&&_defineProperties(c,b),Object.defineProperty(c,"prototype",{writable:!1}),c}function _assertThisInitialized(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function _setPrototypeOf(c,d){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(j,_e){return j.__proto__=_e,j},_setPrototypeOf(c,d)}function _inherits(c,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(d&&d.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),d&&_setPrototypeOf(c,d)}function _possibleConstructorReturn(c,d){if(d&&(_typeof(d)==="object"||typeof d=="function"))return d;if(d!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(c)}function _getPrototypeOf(c){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)},_getPrototypeOf(c)}function _defineProperty(c,d,b){return d=_toPropertyKey(d),d in c?Object.defineProperty(c,d,{value:b,enumerable:!0,configurable:!0,writable:!0}):c[d]=b,c}var propTypesExports={},propTypes={get exports(){return propTypesExports},set exports(c){propTypesExports=c}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function c(j,_e,nt,rt,st,it){if(it!==ReactPropTypesSecret){var ct=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ct.name="Invariant Violation",ct}}c.isRequired=c;function d(){return c}var b={array:c,bigint:c,bool:c,func:c,number:c,object:c,string:c,symbol:c,any:c,arrayOf:d,element:c,elementType:c,instanceOf:d,node:c,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return b.PropTypes=b,b};propTypes.exports=factoryWithThrowingShims();var clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],focusEvents=["onFocus","onBlur"],formEvents=["onChange","onInput","onInvalid","onReset","onSubmit"],genericEvents=["onError","onLoad"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],uiEvents=["onScroll"],wheelEvents=["onWheel"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],imageEvents=["onLoad","onError"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],allEvents=[].concat(clipboardEvents,compositionEvents,keyboardEvents,focusEvents,formEvents,genericEvents,mouseEvents,pointerEvents,selectionEvents,touchEvents,uiEvents,wheelEvents,mediaEvents,imageEvents,animationEvents,transitionEvents,otherEvents),makeEventProps=function c(d,b){var j={};return allEvents.forEach(function(_e){if(_e in d){if(!b){j[_e]=d[_e];return}j[_e]=function(nt){return d[_e](nt,b(_e))}}}),j};function makeCancellablePromise(c){var d=!1,b=new Promise(function(j,_e){c.then(function(nt){return!d&&j(nt)}).catch(function(nt){return!d&&_e(nt)})});return{promise:b,cancel:function(){d=!0}}}function r(c){var d,b,j="";if(typeof c=="string"||typeof c=="number")j+=c;else if(typeof c=="object")if(Array.isArray(c))for(d=0;d<c.length;d++)c[d]&&(b=r(c[d]))&&(j&&(j+=" "),j+=b);else for(d in c)c[d]&&(j&&(j+=" "),j+=d);return j}function clsx(){for(var c,d,b=0,j="";b<arguments.length;)(c=arguments[b++])&&(d=r(c))&&(j&&(j+=" "),j+=d);return j}var isProduction$1=!0,prefix="Invariant failed";function invariant(c,d){if(!c){if(isProduction$1)throw new Error(prefix);var b=typeof d=="function"?d():d,j=b?"".concat(prefix,": ").concat(b):prefix;throw new Error(j)}}var isProduction=!0;function warning(c,d){if(!isProduction){if(c)return;var b="Warning: "+d;typeof console<"u"&&console.warn(b);try{throw Error(b)}catch{}}}const DocumentContext=reactExports.createContext(null);function Message(c){var d=c.children,b=c.type;return React.createElement("div",{className:"react-pdf__message react-pdf__message--".concat(b)},d)}Message.propTypes={children:propTypesExports.node,type:propTypesExports.oneOf(["error","loading","no-data"]).isRequired};var DEFAULT_LINK_REL="noopener noreferrer nofollow",LinkService=function(){function c(){_classCallCheck(this,c),this.externalLinkTarget=null,this.externalLinkRel=null}return _createClass(c,[{key:"setDocument",value:function(b){this.pdfDocument=b}},{key:"setViewer",value:function(b){this.pdfViewer=b}},{key:"setExternalLinkRel",value:function(b){this.externalLinkRel=b}},{key:"setExternalLinkTarget",value:function(b){this.externalLinkTarget=b}},{key:"setHistory",value:function(){}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(b){this.pdfViewer.currentPageNumber=b}},{key:"rotation",get:function(){return 0},set:function(b){}},{key:"goToDestination",value:function(b){var j=this;new Promise(function(_e){typeof b=="string"?j.pdfDocument.getDestination(b).then(_e):Array.isArray(b)?_e(b):b.then(_e)}).then(function(_e){invariant(Array.isArray(_e),'"'.concat(_e,'" is not a valid destination array.'));var nt=_e[0];new Promise(function(rt){nt instanceof Object?j.pdfDocument.getPageIndex(nt).then(function(st){rt(st)}).catch(function(){invariant(!1,'"'.concat(nt,'" is not a valid page reference.'))}):typeof nt=="number"?rt(nt):invariant(!1,'"'.concat(nt,'" is not a valid destination reference.'))}).then(function(rt){var st=rt+1;invariant(st>=1&&st<=j.pagesCount,'"'.concat(st,'" is not a valid page number.')),j.pdfViewer.scrollPageIntoView({dest:b,pageIndex:rt,pageNumber:st})})})}},{key:"navigateTo",value:function(b){this.goToDestination(b)}},{key:"goToPage",value:function(){}},{key:"addLinkAttributes",value:function(b,j,_e){b.href=j,b.rel=this.externalLinkRel||DEFAULT_LINK_REL,b.target=_e?"_blank":this.externalLinkTarget||""}},{key:"getDestinationHash",value:function(){return"#"}},{key:"getAnchorUrl",value:function(){return"#"}},{key:"setHash",value:function(){}},{key:"executeNamedAction",value:function(){}},{key:"cachePageRef",value:function(){}},{key:"isPageVisible",value:function(){return!0}},{key:"isPageCached",value:function(){return!0}}]),c}(),PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function _arrayWithHoles(c){if(Array.isArray(c))return c}function _iterableToArrayLimit(c,d){var b=c==null?null:typeof Symbol<"u"&&c[Symbol.iterator]||c["@@iterator"];if(b!=null){var j,_e,nt,rt,st=[],it=!0,ct=!1;try{if(nt=(b=b.call(c)).next,d===0){if(Object(b)!==b)return;it=!1}else for(;!(it=(j=nt.call(b)).done)&&(st.push(j.value),st.length!==d);it=!0);}catch(gt){ct=!0,_e=gt}finally{try{if(!it&&b.return!=null&&(rt=b.return(),Object(rt)!==rt))return}finally{if(ct)throw _e}}return st}}function _arrayLikeToArray(c,d){(d==null||d>c.length)&&(d=c.length);for(var b=0,j=new Array(d);b<d;b++)j[b]=c[b];return j}function _unsupportedIterableToArray(c,d){if(c){if(typeof c=="string")return _arrayLikeToArray(c,d);var b=Object.prototype.toString.call(c).slice(8,-1);if(b==="Object"&&c.constructor&&(b=c.constructor.name),b==="Map"||b==="Set")return Array.from(c);if(b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return _arrayLikeToArray(c,d)}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray(c,d){return _arrayWithHoles(c)||_iterableToArrayLimit(c,d)||_unsupportedIterableToArray(c,d)||_nonIterableRest()}var isBrowser=typeof document<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(c){return typeof c<"u"}function isProvided(c){return isDefined(c)&&c!==null}function isString(c){return typeof c=="string"}function isArrayBuffer(c){return c instanceof ArrayBuffer}function isBlob(c){return invariant(isBrowser,"isBlob can only be used in a browser environment"),c instanceof Blob}function isFile$1(c){return invariant(isBrowser,"isFile can only be used in a browser environment"),c instanceof File}function isDataURI(c){return isString(c)&&/^data:/.test(c)}function dataURItoByteString(c){invariant(isDataURI(c),"Invalid data URI.");var d=c.split(","),b=_slicedToArray(d,2),j=b[0],_e=b[1],nt=j.split(";");return nt.indexOf("base64")!==-1?atob(_e):unescape(_e)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}var allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning(!isLocalFileSystem,"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(allowFileAccessFromFilesTip))}function displayWorkerWarning(){warning(!isLocalFileSystem,"Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ".concat(allowFileAccessFromFilesTip))}function cancelRunningTask(c){c&&c.cancel&&c.cancel()}function makePageCallback(c,d){return Object.defineProperty(c,"width",{get:function(){return this.view[2]*d},configurable:!0}),Object.defineProperty(c,"height",{get:function(){return this.view[3]*d},configurable:!0}),Object.defineProperty(c,"originalWidth",{get:function(){return this.view[2]},configurable:!0}),Object.defineProperty(c,"originalHeight",{get:function(){return this.view[3]},configurable:!0}),c}function isCancelException(c){return c.name==="RenderingCancelledException"}function loadFromFile(c){return new Promise(function(d,b){var j=new FileReader;return j.onload=function(){return d(new Uint8Array(j.result))},j.onerror=function(_e){switch(_e.target.error.code){case _e.target.error.NOT_FOUND_ERR:return b(new Error("Error while reading a file: File not found."));case _e.target.error.NOT_READABLE_ERR:return b(new Error("Error while reading a file: File not readable."));case _e.target.error.SECURITY_ERR:return b(new Error("Error while reading a file: Security error."));case _e.target.error.ABORT_ERR:return b(new Error("Error while reading a file: Aborted."));default:return b(new Error("Error while reading a file."))}},j.readAsArrayBuffer(c),null})}function _arrayWithoutHoles(c){if(Array.isArray(c))return _arrayLikeToArray(c)}function _iterableToArray(c){if(typeof Symbol<"u"&&c[Symbol.iterator]!=null||c["@@iterator"]!=null)return Array.from(c)}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(c){return _arrayWithoutHoles(c)||_iterableToArray(c)||_unsupportedIterableToArray(c)||_nonIterableSpread()}var eventProps=function(){var c={};return[].concat(_toConsumableArray(mouseEvents),_toConsumableArray(touchEvents),_toConsumableArray(keyboardEvents)).forEach(function(d){c[d]=propTypesExports.func}),c}(),fileTypes=[propTypesExports.string,propTypesExports.instanceOf(ArrayBuffer),propTypesExports.shape({data:propTypesExports.oneOfType([propTypesExports.object,propTypesExports.string]),httpHeaders:propTypesExports.object,range:propTypesExports.object,url:propTypesExports.string,withCredentials:propTypesExports.bool})];typeof File<"u"&&fileTypes.push(propTypesExports.instanceOf(File));typeof Blob<"u"&&fileTypes.push(propTypesExports.instanceOf(Blob));var isClassName=propTypesExports.oneOfType([propTypesExports.string,propTypesExports.arrayOf(propTypesExports.string)]),isFile=propTypesExports.oneOfType(fileTypes),isLinkService=propTypesExports.instanceOf(LinkService);propTypesExports.oneOf(["_self","_blank","_parent","_top"]);var isPage=propTypesExports.shape({commonObjs:propTypesExports.shape({}).isRequired,getAnnotations:propTypesExports.func.isRequired,getTextContent:propTypesExports.func.isRequired,getViewport:propTypesExports.func.isRequired,render:propTypesExports.func.isRequired}),isPageIndex=function c(d,b,j){var _e=d[b],nt=d.pageNumber,rt=d.pdf;if(!isDefined(rt))return null;if(isDefined(_e)){if(typeof _e!="number")return new Error("`".concat(b,"` of type `").concat(_typeof(_e),"` supplied to `").concat(j,"`, expected `number`."));if(_e<0)return new Error("Expected `".concat(b,"` to be greater or equal to 0."));var st=rt.numPages;if(_e+1>st)return new Error("Expected `".concat(b,"` to be less or equal to ").concat(st-1,"."))}else if(!isDefined(nt))return new Error("`".concat(b,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(j,"`."));return null},isPageNumber=function c(d,b,j){var _e=d[b],nt=d.pageIndex,rt=d.pdf;if(!isDefined(rt))return null;if(isDefined(_e)){if(typeof _e!="number")return new Error("`".concat(b,"` of type `").concat(_typeof(_e),"` supplied to `").concat(j,"`, expected `number`."));if(_e<1)return new Error("Expected `".concat(b,"` to be greater or equal to 1."));var st=rt.numPages;if(_e>st)return new Error("Expected `".concat(b,"` to be less or equal to ").concat(st,"."))}else if(!isDefined(nt))return new Error("`".concat(b,"` not supplied. Either pageIndex or pageNumber must be supplied to `").concat(j,"`."));return null},isPdf=propTypesExports.oneOfType([propTypesExports.shape({getDestination:propTypesExports.func.isRequired,getOutline:propTypesExports.func.isRequired,getPage:propTypesExports.func.isRequired,numPages:propTypesExports.number.isRequired}),propTypesExports.bool]),isRef=propTypesExports.oneOfType([propTypesExports.func,propTypesExports.shape({current:propTypesExports.any})]),isRenderMode=propTypesExports.oneOf(["canvas","none","svg"]),isRotate=propTypesExports.oneOf([0,90,180,270]),_excluded=["url"];function ownKeys$3(c,d){var b=Object.keys(c);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(c);d&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(c,_e).enumerable})),b.push.apply(b,j)}return b}function _objectSpread$3(c){for(var d=1;d<arguments.length;d++){var b=arguments[d]!=null?arguments[d]:{};d%2?ownKeys$3(Object(b),!0).forEach(function(j){_defineProperty(c,j,b[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):ownKeys$3(Object(b)).forEach(function(j){Object.defineProperty(c,j,Object.getOwnPropertyDescriptor(b,j))})}return c}function _createSuper$5(c){var d=_isNativeReflectConstruct$5();return function(){var j=_getPrototypeOf(c),_e;if(d){var nt=_getPrototypeOf(this).constructor;_e=Reflect.construct(j,arguments,nt)}else _e=j.apply(this,arguments);return _possibleConstructorReturn(this,_e)}}function _isNativeReflectConstruct$5(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var PDFDataRangeTransport=pdfExports.PDFDataRangeTransport,Document=function(c){_inherits(b,c);var d=_createSuper$5(b);function b(){var j;_classCallCheck(this,b);for(var _e=arguments.length,nt=new Array(_e),rt=0;rt<_e;rt++)nt[rt]=arguments[rt];return j=d.call.apply(d,[this].concat(nt)),_defineProperty(_assertThisInitialized(j),"state",{pdf:null}),_defineProperty(_assertThisInitialized(j),"viewer",{scrollPageIntoView:function(it){var ct=it.dest,gt=it.pageIndex,ft=it.pageNumber,ht=j.props.onItemClick;if(ht){ht({dest:ct,pageIndex:gt,pageNumber:ft});return}var bt=j.pages[gt];if(bt){bt.scrollIntoView();return}warning(!1,"An internal link leading to page ".concat(ft," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}}),_defineProperty(_assertThisInitialized(j),"linkService",new LinkService),_defineProperty(_assertThisInitialized(j),"loadDocument",function(){cancelRunningTask(j.runningTask),j.loadingTask&&j.loadingTask.destroy();var st=makeCancellablePromise(j.findDocumentSource());j.runningTask=st,st.promise.then(function(it){if(j.onSourceSuccess(),!!it){j.setState(function(wt){return wt.pdf?{pdf:null}:null});var ct=j.props,gt=ct.options,ft=ct.onLoadProgress,ht=ct.onPassword,bt=pdfExports.getDocument(_objectSpread$3(_objectSpread$3({},it),gt));bt.onPassword=ht,ft&&(bt.onProgress=ft),j.loadingTask=bt,bt.promise.then(function(wt){j.setState(function(lt){return lt.pdf&&lt.pdf.fingerprint===wt.fingerprint?null:{pdf:wt}},j.onLoadSuccess)}).catch(function(wt){j.onLoadError(wt)})}}).catch(function(it){j.onSourceError(it)})}),_defineProperty(_assertThisInitialized(j),"setupLinkService",function(){var st=j.props,it=st.externalLinkRel,ct=st.externalLinkTarget;j.linkService.setViewer(j.viewer),j.linkService.setExternalLinkRel(it),j.linkService.setExternalLinkTarget(ct)}),_defineProperty(_assertThisInitialized(j),"onSourceSuccess",function(){var st=j.props.onSourceSuccess;st&&st()}),_defineProperty(_assertThisInitialized(j),"onSourceError",function(st){warning(st);var it=j.props.onSourceError;it&&it(st)}),_defineProperty(_assertThisInitialized(j),"onLoadSuccess",function(){var st=j.props.onLoadSuccess,it=j.state.pdf;st&&st(it),j.pages=new Array(it.numPages),j.linkService.setDocument(it)}),_defineProperty(_assertThisInitialized(j),"onLoadError",function(st){j.setState({pdf:!1}),warning(st);var it=j.props.onLoadError;it&&it(st)}),_defineProperty(_assertThisInitialized(j),"findDocumentSource",function(){return new Promise(function(st){var it=j.props.file;if(it||st(null),typeof it=="string"){if(isDataURI(it)){var ct=dataURItoByteString(it);st({data:ct})}displayCORSWarning(),st({url:it})}if(it instanceof PDFDataRangeTransport&&st({range:it}),isArrayBuffer(it)&&st({data:it}),isBrowser&&(isBlob(it)||isFile$1(it))){loadFromFile(it).then(function(bt){st({data:bt})});return}if(invariant(_typeof(it)==="object","Invalid parameter in file, need either Uint8Array, string or a parameter object"),invariant(it.url||it.data||it.range,"Invalid parameter object: need either .data, .range or .url"),typeof it.url=="string"){if(isDataURI(it.url)){var gt=it.url,ft=_objectWithoutProperties(it,_excluded),ht=dataURItoByteString(gt);st(_objectSpread$3({data:ht},ft))}displayCORSWarning()}st(it)})}),_defineProperty(_assertThisInitialized(j),"registerPage",function(st,it){j.pages[st]=it}),_defineProperty(_assertThisInitialized(j),"unregisterPage",function(st){delete j.pages[st]}),j}return _createClass(b,[{key:"componentDidMount",value:function(){this.loadDocument(),this.setupLinkService()}},{key:"componentDidUpdate",value:function(_e){var nt=this.props.file;nt!==_e.file&&this.loadDocument()}},{key:"componentWillUnmount",value:function(){cancelRunningTask(this.runningTask),this.loadingTask&&this.loadingTask.destroy()}},{key:"childContext",get:function(){var _e=this.linkService,nt=this.registerPage,rt=this.unregisterPage,st=this.props,it=st.imageResourcesPath,ct=st.renderMode,gt=st.rotate,ft=this.state.pdf;return{imageResourcesPath:it,linkService:_e,pdf:ft,registerPage:nt,renderMode:ct,rotate:gt,unregisterPage:rt}}},{key:"eventProps",get:function(){var _e=this;return makeEventProps(this.props,function(){return _e.state.pdf})}},{key:"renderChildren",value:function(){var _e=this.props.children;return React.createElement(DocumentContext.Provider,{value:this.childContext},_e)}},{key:"renderContent",value:function(){var _e=this.props.file,nt=this.state.pdf;if(!_e){var rt=this.props.noData;return React.createElement(Message,{type:"no-data"},typeof rt=="function"?rt():rt)}if(nt===null){var st=this.props.loading;return React.createElement(Message,{type:"loading"},typeof st=="function"?st():st)}if(nt===!1){var it=this.props.error;return React.createElement(Message,{type:"error"},typeof it=="function"?it():it)}return this.renderChildren()}},{key:"render",value:function(){var _e=this.props,nt=_e.className,rt=_e.inputRef;return React.createElement("div",_extends({className:clsx("react-pdf__Document",nt),ref:rt},this.eventProps),this.renderContent())}}]),b}(reactExports.PureComponent);Document.defaultProps={error:"Failed to load PDF file.",loading:"Loading PDF",noData:"No PDF file specified.",onPassword:function c(d,b){switch(b){case PasswordResponses.NEED_PASSWORD:{var j=prompt("Enter the password to open this PDF file.");d(j);break}case PasswordResponses.INCORRECT_PASSWORD:{var _e=prompt("Invalid password. Please try again.");d(_e);break}}}};var isFunctionOrNode$1=propTypesExports.oneOfType([propTypesExports.func,propTypesExports.node]);Document.propTypes=_objectSpread$3(_objectSpread$3({},eventProps),{},{children:propTypesExports.node,className:isClassName,error:isFunctionOrNode$1,externalLinkRel:propTypesExports.string,externalLinkTarget:propTypesExports.string,file:isFile,imageResourcesPath:propTypesExports.string,inputRef:isRef,loading:isFunctionOrNode$1,noData:isFunctionOrNode$1,onItemClick:propTypesExports.func,onLoadError:propTypesExports.func,onLoadProgress:propTypesExports.func,onLoadSuccess:propTypesExports.func,onPassword:propTypesExports.func,onSourceError:propTypesExports.func,onSourceSuccess:propTypesExports.func,rotate:propTypesExports.number});var isDestination=propTypesExports.oneOfType([propTypesExports.string,propTypesExports.arrayOf(propTypesExports.any)]);propTypesExports.shape({dest:isDestination,items:propTypesExports.arrayOf(propTypesExports.shape({dest:isDestination,title:propTypesExports.string})),title:propTypesExports.string}).isRequired,propTypesExports.func,isPdf.isRequired;function ownKeys$2(c,d){var b=Object.keys(c);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(c);d&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(c,_e).enumerable})),b.push.apply(b,j)}return b}function _objectSpread$2(c){for(var d=1;d<arguments.length;d++){var b=arguments[d]!=null?arguments[d]:{};d%2?ownKeys$2(Object(b),!0).forEach(function(j){_defineProperty(c,j,b[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):ownKeys$2(Object(b)).forEach(function(j){Object.defineProperty(c,j,Object.getOwnPropertyDescriptor(b,j))})}return c}_objectSpread$2({className:isClassName,inputRef:isRef,onItemClick:propTypesExports.func,onLoadError:propTypesExports.func,onLoadSuccess:propTypesExports.func,pdf:isPdf},eventProps);function mergeRefs(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];var b=c.filter(Boolean);if(b.length<=1){var j=b[0];return j}return function(nt){b.forEach(function(rt){typeof rt=="function"?rt(nt):rt&&(rt.current=nt)})}}const PageContext=reactExports.createContext(null);function _createSuper$4(c){var d=_isNativeReflectConstruct$4();return function(){var j=_getPrototypeOf(c),_e;if(d){var nt=_getPrototypeOf(this).constructor;_e=Reflect.construct(j,arguments,nt)}else _e=j.apply(this,arguments);return _possibleConstructorReturn(this,_e)}}function _isNativeReflectConstruct$4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var ANNOTATION_MODE=pdfExports.AnnotationMode,PageCanvasInternal=function(c){_inherits(b,c);var d=_createSuper$4(b);function b(){var j;_classCallCheck(this,b);for(var _e=arguments.length,nt=new Array(_e),rt=0;rt<_e;rt++)nt[rt]=arguments[rt];return j=d.call.apply(d,[this].concat(nt)),_defineProperty(_assertThisInitialized(j),"canvasElement",reactExports.createRef()),_defineProperty(_assertThisInitialized(j),"onRenderSuccess",function(){j.renderer=null;var st=j.props,it=st.onRenderSuccess,ct=st.page,gt=st.scale;it&&it(makePageCallback(ct,gt))}),_defineProperty(_assertThisInitialized(j),"onRenderError",function(st){if(!isCancelException(st)){warning(st);var it=j.props.onRenderError;it&&it(st)}}),_defineProperty(_assertThisInitialized(j),"drawPageOnCanvas",function(){var st=j.canvasElement.current;if(!st)return null;var it=_assertThisInitialized(j),ct=it.renderViewport,gt=it.viewport,ft=j.props,ht=ft.canvasBackground,bt=ft.page,wt=ft.renderForms;st.width=ct.width,st.height=ct.height,st.style.width="".concat(Math.floor(gt.width),"px"),st.style.height="".concat(Math.floor(gt.height),"px");var lt={annotationMode:wt?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,get canvasContext(){return st.getContext("2d",{alpha:!1})},viewport:ct};ht&&(lt.background=ht),j.cancelRenderingTask();var _t=bt.render(lt);return j.renderer=_t,_t.promise.then(j.onRenderSuccess).catch(j.onRenderError)}),j}return _createClass(b,[{key:"componentDidMount",value:function(){this.drawPageOnCanvas()}},{key:"componentDidUpdate",value:function(_e){var nt=this.props,rt=nt.canvasBackground,st=nt.devicePixelRatio,it=nt.page,ct=nt.renderForms;(rt!==_e.canvasBackground||st!==_e.devicePixelRatio||ct!==_e.renderForms)&&(it.cleanup(),this.drawPageOnCanvas())}},{key:"componentWillUnmount",value:function(){this.cancelRenderingTask();var _e=this.canvasElement.current;_e&&(_e.width=0,_e.height=0)}},{key:"cancelRenderingTask",value:function(){this.renderer&&(this.renderer.cancel(),this.renderer=null)}},{key:"devicePixelRatio",get:function(){var _e=this.props.devicePixelRatio;return _e||getDevicePixelRatio()}},{key:"renderViewport",get:function(){var _e=this.devicePixelRatio,nt=this.props,rt=nt.page,st=nt.rotate,it=nt.scale;return rt.getViewport({scale:it*_e,rotation:st})}},{key:"viewport",get:function(){var _e=this.props,nt=_e.page,rt=_e.rotate,st=_e.scale;return nt.getViewport({scale:st,rotation:rt})}},{key:"render",value:function(){var _e=this.props.canvasRef;return React.createElement("canvas",{className:"react-pdf__Page__canvas",dir:"ltr",ref:mergeRefs(_e,this.canvasElement),style:{display:"block",userSelect:"none"}})}}]),b}(reactExports.PureComponent);PageCanvasInternal.propTypes={canvasBackground:propTypesExports.string,canvasRef:isRef,devicePixelRatio:propTypesExports.number,onRenderError:propTypesExports.func,onRenderSuccess:propTypesExports.func,page:isPage.isRequired,renderForms:propTypesExports.bool,rotate:isRotate,scale:propTypesExports.number.isRequired};function PageCanvas(c){return React.createElement(PageContext.Consumer,null,function(d){return React.createElement(PageCanvasInternal,_extends({},d,c))})}function _createSuper$3(c){var d=_isNativeReflectConstruct$3();return function(){var j=_getPrototypeOf(c),_e;if(d){var nt=_getPrototypeOf(this).constructor;_e=Reflect.construct(j,arguments,nt)}else _e=j.apply(this,arguments);return _possibleConstructorReturn(this,_e)}}function _isNativeReflectConstruct$3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var PageSVGInternal=function(c){_inherits(b,c);var d=_createSuper$3(b);function b(){var j;_classCallCheck(this,b);for(var _e=arguments.length,nt=new Array(_e),rt=0;rt<_e;rt++)nt[rt]=arguments[rt];return j=d.call.apply(d,[this].concat(nt)),_defineProperty(_assertThisInitialized(j),"state",{svg:null}),_defineProperty(_assertThisInitialized(j),"onRenderSuccess",function(){j.renderer=null;var st=j.props,it=st.onRenderSuccess,ct=st.page,gt=st.scale;it&&it(makePageCallback(ct,gt))}),_defineProperty(_assertThisInitialized(j),"onRenderError",function(st){if(!isCancelException(st)){warning(st);var it=j.props.onRenderError;it&&it(st)}}),_defineProperty(_assertThisInitialized(j),"renderSVG",function(){var st=j.props.page;return j.renderer=st.getOperatorList(),j.renderer.then(function(it){var ct=new pdfExports.SVGGraphics(st.commonObjs,st.objs);j.renderer=ct.getSVG(it,j.viewport).then(function(gt){j.setState({svg:gt},j.onRenderSuccess)}).catch(j.onRenderError)}).catch(j.onRenderError)}),_defineProperty(_assertThisInitialized(j),"drawPageOnContainer",function(st){var it=j.state.svg;if(!(!st||!it)){st.firstElementChild||st.appendChild(it);var ct=j.viewport,gt=ct.width,ft=ct.height;it.setAttribute("width",gt),it.setAttribute("height",ft)}}),j}return _createClass(b,[{key:"componentDidMount",value:function(){this.renderSVG()}},{key:"viewport",get:function(){var _e=this.props,nt=_e.page,rt=_e.rotate,st=_e.scale;return nt.getViewport({scale:st,rotation:rt})}},{key:"render",value:function(){var _e=this,nt=this.viewport,rt=nt.width,st=nt.height;return React.createElement("div",{className:"react-pdf__Page__svg",ref:function(ct){return _e.drawPageOnContainer(ct)},style:{display:"block",backgroundColor:"white",overflow:"hidden",width:rt,height:st,userSelect:"none"}})}}]),b}(reactExports.PureComponent);PageSVGInternal.propTypes={onRenderError:propTypesExports.func,onRenderSuccess:propTypesExports.func,page:isPage.isRequired,rotate:isRotate,scale:propTypesExports.number.isRequired};function PageSVG(c){return React.createElement(PageContext.Consumer,null,function(d){return React.createElement(PageSVGInternal,_extends({},d,c))})}function ownKeys$1(c,d){var b=Object.keys(c);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(c);d&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(c,_e).enumerable})),b.push.apply(b,j)}return b}function _objectSpread$1(c){for(var d=1;d<arguments.length;d++){var b=arguments[d]!=null?arguments[d]:{};d%2?ownKeys$1(Object(b),!0).forEach(function(j){_defineProperty(c,j,b[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):ownKeys$1(Object(b)).forEach(function(j){Object.defineProperty(c,j,Object.getOwnPropertyDescriptor(b,j))})}return c}function _createSuper$2(c){var d=_isNativeReflectConstruct$2();return function(){var j=_getPrototypeOf(c),_e;if(d){var nt=_getPrototypeOf(this).constructor;_e=Reflect.construct(j,arguments,nt)}else _e=j.apply(this,arguments);return _possibleConstructorReturn(this,_e)}}function _isNativeReflectConstruct$2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var TextLayerInternal=function(c){_inherits(b,c);var d=_createSuper$2(b);function b(){var j;_classCallCheck(this,b);for(var _e=arguments.length,nt=new Array(_e),rt=0;rt<_e;rt++)nt[rt]=arguments[rt];return j=d.call.apply(d,[this].concat(nt)),_defineProperty(_assertThisInitialized(j),"state",{textContent:null}),_defineProperty(_assertThisInitialized(j),"layerElement",reactExports.createRef()),_defineProperty(_assertThisInitialized(j),"endElement",reactExports.createRef()),_defineProperty(_assertThisInitialized(j),"loadTextContent",function(){var st=j.props.page,it=makeCancellablePromise(st.getTextContent());j.runningTask=it,it.promise.then(function(ct){j.setState({textContent:ct},j.onLoadSuccess)}).catch(function(ct){j.onLoadError(ct)})}),_defineProperty(_assertThisInitialized(j),"onLoadSuccess",function(){var st=j.props.onGetTextSuccess,it=j.state.textContent;st&&st(it)}),_defineProperty(_assertThisInitialized(j),"onLoadError",function(st){j.setState({textItems:!1}),warning(st);var it=j.props.onGetTextError;it&&it(st)}),_defineProperty(_assertThisInitialized(j),"onRenderSuccess",function(){var st=j.props.onRenderTextLayerSuccess;st&&st()}),_defineProperty(_assertThisInitialized(j),"onRenderError",function(st){warning(st);var it=j.props.onRenderTextLayerError;it&&it(st)}),_defineProperty(_assertThisInitialized(j),"onMouseDown",function(){var st=j.endElement.current;st&&st.classList.add("active")}),_defineProperty(_assertThisInitialized(j),"onMouseUp",function(){var st=j.endElement.current;st&&st.classList.remove("active")}),j}return _createClass(b,[{key:"componentDidMount",value:function(){var _e=this.props.page;invariant(_e,"Attempted to load page text content, but no page was specified."),warning(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),this.loadTextContent()}},{key:"componentDidUpdate",value:function(_e){var nt=this.props.page;_e.page&&nt!==_e.page&&this.loadTextContent()}},{key:"componentWillUnmount",value:function(){cancelRunningTask(this.runningTask)}},{key:"viewport",get:function(){var _e=this.props,nt=_e.page,rt=_e.rotate,st=_e.scale;return nt.getViewport({scale:st,rotation:rt})}},{key:"unrotatedViewport",get:function(){var _e=this.props,nt=_e.page,rt=_e.scale;return nt.getViewport({scale:rt})}},{key:"rotate",get:function(){var _e=this.props,nt=_e.page,rt=_e.rotate;return rt-nt.rotate}},{key:"renderTextLayer",value:function(){var _e=this,nt=this.state.textContent;if(!nt)return null;var rt=this.layerElement.current,st=this.viewport,it=this.props,ct=it.customTextRenderer,gt=it.pageIndex,ft=it.pageNumber;cancelRunningTask(this.runningTask),rt.innerHTML="";var ht={container:rt,textContent:nt,viewport:st},bt=pdfExports.renderTextLayer(ht);this.runningTask=bt,bt.promise.then(function(){var wt=document.createElement("div");if(wt.className="endOfContent",rt.append(wt),_e.endElement.current=wt,ct){var lt=0;nt.items.forEach(function(_t,ut){var kt=_e.layerElement.current.children[lt],pt=ct(_objectSpread$1({pageIndex:gt,pageNumber:ft,itemIndex:ut},_t));kt.innerHTML=pt,lt+=_t.str&&_t.hasEOL?2:1})}_e.onRenderSuccess()}).catch(function(wt){_e.onRenderError(wt)})}},{key:"render",value:function(){return React.createElement("div",{className:"react-pdf__Page__textContent textLayer",onMouseUp:this.onMouseUp,onMouseDown:this.onMouseDown,ref:this.layerElement},this.renderTextLayer())}}]),b}(reactExports.PureComponent);TextLayerInternal.propTypes={customTextRenderer:propTypesExports.func,onGetTextError:propTypesExports.func,onGetTextSuccess:propTypesExports.func,onRenderTextLayerError:propTypesExports.func,onRenderTextLayerSuccess:propTypesExports.func,page:isPage.isRequired,pageIndex:propTypesExports.number.isRequired,pageNumber:propTypesExports.number.isRequired,rotate:isRotate,scale:propTypesExports.number};function TextLayer$1(c){return React.createElement(PageContext.Consumer,null,function(d){return React.createElement(TextLayerInternal,_extends({},d,c))})}function _createSuper$1(c){var d=_isNativeReflectConstruct$1();return function(){var j=_getPrototypeOf(c),_e;if(d){var nt=_getPrototypeOf(this).constructor;_e=Reflect.construct(j,arguments,nt)}else _e=j.apply(this,arguments);return _possibleConstructorReturn(this,_e)}}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var AnnotationLayerInternal=function(c){_inherits(b,c);var d=_createSuper$1(b);function b(){var j;_classCallCheck(this,b);for(var _e=arguments.length,nt=new Array(_e),rt=0;rt<_e;rt++)nt[rt]=arguments[rt];return j=d.call.apply(d,[this].concat(nt)),_defineProperty(_assertThisInitialized(j),"state",{annotations:null}),_defineProperty(_assertThisInitialized(j),"layerElement",reactExports.createRef()),_defineProperty(_assertThisInitialized(j),"loadAnnotations",function(){var st=j.props.page,it=makeCancellablePromise(st.getAnnotations());j.runningTask=it,it.promise.then(function(ct){j.setState({annotations:ct},j.onLoadSuccess)}).catch(function(ct){j.onLoadError(ct)})}),_defineProperty(_assertThisInitialized(j),"onLoadSuccess",function(){var st=j.props.onGetAnnotationsSuccess,it=j.state.annotations;st&&st(it)}),_defineProperty(_assertThisInitialized(j),"onLoadError",function(st){j.setState({annotations:!1}),warning(st);var it=j.props.onGetAnnotationsError;it&&it(st)}),_defineProperty(_assertThisInitialized(j),"onRenderSuccess",function(){var st=j.props.onRenderAnnotationLayerSuccess;st&&st()}),_defineProperty(_assertThisInitialized(j),"onRenderError",function(st){warning(st);var it=j.props.onRenderAnnotationLayerError;it&&it(st)}),j}return _createClass(b,[{key:"componentDidMount",value:function(){var _e=this.props.page;invariant(_e,"Attempted to load page annotations, but no page was specified."),warning(parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),this.loadAnnotations()}},{key:"componentDidUpdate",value:function(_e){var nt=this.props,rt=nt.page,st=nt.renderForms;(_e.page&&rt!==_e.page||st!==_e.renderForms)&&this.loadAnnotations()}},{key:"componentWillUnmount",value:function(){cancelRunningTask(this.runningTask)}},{key:"viewport",get:function(){var _e=this.props,nt=_e.page,rt=_e.rotate,st=_e.scale;return nt.getViewport({scale:st,rotation:rt})}},{key:"renderAnnotationLayer",value:function(){var _e=this.state.annotations;if(_e){var nt=this.props,rt=nt.imageResourcesPath,st=nt.linkService,it=nt.page,ct=nt.renderForms,gt=this.viewport.clone({dontFlip:!0}),ft={annotations:_e,div:this.layerElement.current,imageResourcesPath:rt,linkService:st,page:it,renderForms:ct,viewport:gt};this.layerElement.current.innerHTML="";try{pdfExports.AnnotationLayer.render(ft),this.onRenderSuccess()}catch(ht){this.onRenderError(ht)}}}},{key:"render",value:function(){return React.createElement("div",{className:"react-pdf__Page__annotations annotationLayer",ref:this.layerElement},this.renderAnnotationLayer())}}]),b}(reactExports.PureComponent);AnnotationLayerInternal.propTypes={imageResourcesPath:propTypesExports.string,linkService:isLinkService.isRequired,onGetAnnotationsError:propTypesExports.func,onGetAnnotationsSuccess:propTypesExports.func,onRenderAnnotationLayerError:propTypesExports.func,onRenderAnnotationLayerSuccess:propTypesExports.func,page:isPage,renderForms:propTypesExports.bool,rotate:isRotate,scale:propTypesExports.number};var AnnotationLayer$1=function c(d){return React.createElement(DocumentContext.Consumer,null,function(b){return React.createElement(PageContext.Consumer,null,function(j){return React.createElement(AnnotationLayerInternal,_extends({},b,j,d))})})};function ownKeys(c,d){var b=Object.keys(c);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(c);d&&(j=j.filter(function(_e){return Object.getOwnPropertyDescriptor(c,_e).enumerable})),b.push.apply(b,j)}return b}function _objectSpread(c){for(var d=1;d<arguments.length;d++){var b=arguments[d]!=null?arguments[d]:{};d%2?ownKeys(Object(b),!0).forEach(function(j){_defineProperty(c,j,b[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(c,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(j){Object.defineProperty(c,j,Object.getOwnPropertyDescriptor(b,j))})}return c}function _createSuper(c){var d=_isNativeReflectConstruct();return function(){var j=_getPrototypeOf(c),_e;if(d){var nt=_getPrototypeOf(this).constructor;_e=Reflect.construct(j,arguments,nt)}else _e=j.apply(this,arguments);return _possibleConstructorReturn(this,_e)}}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var defaultScale=1,PageInternal=function(c){_inherits(b,c);var d=_createSuper(b);function b(){var j;_classCallCheck(this,b);for(var _e=arguments.length,nt=new Array(_e),rt=0;rt<_e;rt++)nt[rt]=arguments[rt];return j=d.call.apply(d,[this].concat(nt)),_defineProperty(_assertThisInitialized(j),"state",{page:null}),_defineProperty(_assertThisInitialized(j),"pageElement",reactExports.createRef()),_defineProperty(_assertThisInitialized(j),"onLoadSuccess",function(){var st=j.props,it=st.onLoadSuccess,ct=st.registerPage,gt=j.state.page;it&&it(makePageCallback(gt,j.scale)),ct&&ct(j.pageIndex,j.pageElement.current)}),_defineProperty(_assertThisInitialized(j),"onLoadError",function(st){j.setState({page:!1}),warning(st);var it=j.props.onLoadError;it&&it(st)}),_defineProperty(_assertThisInitialized(j),"loadPage",function(){var st=j.props.pdf,it=j.getPageNumber();if(it){j.setState(function(gt){return gt.page?{page:null}:null});var ct=makeCancellablePromise(st.getPage(it));j.runningTask=ct,ct.promise.then(function(gt){j.setState({page:gt},j.onLoadSuccess)}).catch(function(gt){j.onLoadError(gt)})}}),j}return _createClass(b,[{key:"componentDidMount",value:function(){var _e=this.props.pdf;invariant(_e,"Attempted to load a page, but no document was specified."),this.loadPage()}},{key:"componentDidUpdate",value:function(_e){var nt=this.props.pdf;if(_e.pdf&&nt!==_e.pdf||this.getPageNumber()!==this.getPageNumber(_e)){var rt=this.props.unregisterPage;rt&&rt(this.getPageIndex(_e)),this.loadPage()}}},{key:"componentWillUnmount",value:function(){var _e=this.props.unregisterPage;_e&&_e(this.pageIndex),cancelRunningTask(this.runningTask)}},{key:"childContext",get:function(){var _e=this.pageIndex,nt=this.pageNumber,rt=this.state.page;if(!rt)return{};var st=this.props,it=st.canvasBackground,ct=st.customTextRenderer,gt=st.devicePixelRatio,ft=st.onGetAnnotationsError,ht=st.onGetAnnotationsSuccess,bt=st.onGetTextError,wt=st.onGetTextSuccess,lt=st.onRenderAnnotationLayerError,_t=st.onRenderAnnotationLayerSuccess,ut=st.onRenderError,kt=st.onRenderSuccess,pt=st.onRenderTextLayerError,mt=st.onRenderTextLayerSuccess,Pt=st.renderForms,It=st.renderInteractiveForms;return{canvasBackground:it,customTextRenderer:ct,devicePixelRatio:gt,onGetAnnotationsError:ft,onGetAnnotationsSuccess:ht,onGetTextError:bt,onGetTextSuccess:wt,onRenderAnnotationLayerError:lt,onRenderAnnotationLayerSuccess:_t,onRenderError:ut,onRenderSuccess:kt,onRenderTextLayerError:pt,onRenderTextLayerSuccess:mt,page:rt,pageIndex:_e,pageNumber:nt,renderForms:Pt??It,rotate:this.rotate,scale:this.scale}}},{key:"getPageIndex",value:function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return isProvided(_e.pageNumber)?_e.pageNumber-1:isProvided(_e.pageIndex)?_e.pageIndex:null}},{key:"getPageNumber",value:function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props;return isProvided(_e.pageNumber)?_e.pageNumber:isProvided(_e.pageIndex)?_e.pageIndex+1:null}},{key:"pageIndex",get:function(){return this.getPageIndex()}},{key:"pageNumber",get:function(){return this.getPageNumber()}},{key:"rotate",get:function(){var _e=this.props.rotate;if(isProvided(_e))return _e;var nt=this.state.page;return nt?nt.rotate:null}},{key:"scale",get:function(){var _e=this.state.page;if(!_e)return null;var nt=this.props,rt=nt.scale,st=nt.width,it=nt.height,ct=this.rotate,gt=1,ft=rt===null?defaultScale:rt;if(st||it){var ht=_e.getViewport({scale:1,rotation:ct});gt=st?st/ht.width:it/ht.height}return ft*gt}},{key:"eventProps",get:function(){var _e=this;return makeEventProps(this.props,function(){var nt=_e.state.page;return nt&&makePageCallback(nt,_e.scale)})}},{key:"pageKey",get:function(){return"".concat(this.pageIndex,"@").concat(this.scale,"/").concat(this.rotate)}},{key:"pageKeyNoScale",get:function(){return"".concat(this.pageIndex,"/").concat(this.rotate)}},{key:"renderMainLayer",value:function(){var _e=this.props,nt=_e.canvasRef,rt=_e.renderMode;switch(rt){case"none":return null;case"svg":return React.createElement(PageSVG,{key:"".concat(this.pageKeyNoScale,"_svg")});case"canvas":default:return React.createElement(PageCanvas,{key:"".concat(this.pageKey,"_canvas"),canvasRef:nt})}}},{key:"renderTextLayer",value:function(){var _e=this.props.renderTextLayer;return _e?React.createElement(TextLayer$1,{key:"".concat(this.pageKey,"_text")}):null}},{key:"renderAnnotationLayer",value:function(){var _e=this.props.renderAnnotationLayer;return _e?React.createElement(AnnotationLayer$1,{key:"".concat(this.pageKey,"_annotations")}):null}},{key:"renderChildren",value:function(){var _e=this.props.children;return React.createElement(PageContext.Provider,{value:this.childContext},this.renderMainLayer(),this.renderTextLayer(),this.renderAnnotationLayer(),_e)}},{key:"renderContent",value:function(){var _e=this.pageNumber,nt=this.props.pdf,rt=this.state.page;if(!_e){var st=this.props.noData;return React.createElement(Message,{type:"no-data"},typeof st=="function"?st():st)}if(nt===null||rt===null){var it=this.props.loading;return React.createElement(Message,{type:"loading"},typeof it=="function"?it():it)}if(nt===!1||rt===!1){var ct=this.props.error;return React.createElement(Message,{type:"error"},typeof ct=="function"?ct():ct)}return this.renderChildren()}},{key:"render",value:function(){var _e=this.pageNumber,nt=this.props,rt=nt.className,st=nt.inputRef;return React.createElement("div",_extends({className:clsx("react-pdf__Page",rt),"data-page-number":_e,ref:mergeRefs(st,this.pageElement),style:{position:"relative",minWidth:"min-content",minHeight:"min-content"}},this.eventProps),this.renderContent())}}]),b}(reactExports.PureComponent);PageInternal.defaultProps={error:"Failed to load the page.",loading:"Loading page",noData:"No page specified.",renderAnnotationLayer:!0,renderMode:"canvas",renderTextLayer:!0,scale:defaultScale};var isFunctionOrNode=propTypesExports.oneOfType([propTypesExports.func,propTypesExports.node]);PageInternal.propTypes=_objectSpread(_objectSpread({},eventProps),{},{canvasBackground:propTypesExports.string,children:propTypesExports.node,className:isClassName,customTextRenderer:propTypesExports.func,devicePixelRatio:propTypesExports.number,error:isFunctionOrNode,height:propTypesExports.number,imageResourcesPath:propTypesExports.string,inputRef:isRef,loading:isFunctionOrNode,noData:isFunctionOrNode,onGetTextError:propTypesExports.func,onGetTextSuccess:propTypesExports.func,onLoadError:propTypesExports.func,onLoadSuccess:propTypesExports.func,onRenderError:propTypesExports.func,onRenderSuccess:propTypesExports.func,onRenderTextLayerError:propTypesExports.func,onRenderTextLayerSuccess:propTypesExports.func,pageIndex:isPageIndex,pageNumber:isPageNumber,pdf:isPdf,registerPage:propTypesExports.func,renderAnnotationLayer:propTypesExports.bool,renderForms:propTypesExports.bool,renderInteractiveForms:propTypesExports.bool,renderMode:isRenderMode,renderTextLayer:propTypesExports.bool,rotate:isRotate,scale:propTypesExports.number,unregisterPage:propTypesExports.func,width:propTypesExports.number});function Page(c,d){return React.createElement(DocumentContext.Consumer,null,function(b){return React.createElement(PageInternal,_extends({ref:d},b,c))})}const Page$1=React.forwardRef(Page);displayWorkerWarning();pdfExports.GlobalWorkerOptions.workerSrc=new URL("/assets/pdf.worker-6b078827.js",self.location);const AnnotationLayer="",TextLayer="";var ckeditorExports$1={},ckeditor$1={get exports(){return ckeditorExports$1},set exports(c){ckeditorExports$1=c}};/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(c,d){(function(b,j){c.exports=j(reactExports)})(self,b=>(()=>{var j={703:(st,it,ct)=>{var gt=ct(414);function ft(){}function ht(){}ht.resetWarningCache=ft,st.exports=function(){function bt(_t,ut,kt,pt,mt,Pt){if(Pt!==gt){var It=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw It.name="Invariant Violation",It}}function wt(){return bt}bt.isRequired=bt;var lt={array:bt,bigint:bt,bool:bt,func:bt,number:bt,object:bt,string:bt,symbol:bt,any:bt,arrayOf:wt,element:bt,elementType:bt,instanceOf:wt,node:bt,objectOf:wt,oneOf:wt,oneOfType:wt,shape:wt,exact:wt,checkPropTypes:ht,resetWarningCache:ft};return lt.PropTypes=lt,lt}},697:(st,it,ct)=>{st.exports=ct(703)()},414:st=>{st.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:st=>{st.exports=b}},_e={};function nt(st){var it=_e[st];if(it!==void 0)return it.exports;var ct=_e[st]={exports:{}};return j[st](ct,ct.exports,nt),ct.exports}nt.n=st=>{var it=st&&st.__esModule?()=>st.default:()=>st;return nt.d(it,{a:it}),it},nt.d=(st,it)=>{for(var ct in it)nt.o(it,ct)&&!nt.o(st,ct)&&Object.defineProperty(st,ct,{enumerable:!0,get:it[ct]})},nt.o=(st,it)=>Object.prototype.hasOwnProperty.call(st,it),nt.r=st=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(st,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(st,"__esModule",{value:!0})};var rt={};return(()=>{nt.r(rt),nt.d(rt,{CKEditor:()=>$r,CKEditorContext:()=>pu});var st=nt(787),it=nt.n(st),ct=nt(697),gt=nt.n(ct);const ft=function(Mt){var Rt=typeof Mt;return Mt!=null&&(Rt=="object"||Rt=="function")},ht=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;var bt=typeof self=="object"&&self&&self.Object===Object&&self;const wt=ht||bt||Function("return this")(),lt=function(){return wt.Date.now()};var _t=/\s/;const ut=function(Mt){for(var Rt=Mt.length;Rt--&&_t.test(Mt.charAt(Rt)););return Rt};var kt=/^\s+/;const pt=function(Mt){return Mt&&Mt.slice(0,ut(Mt)+1).replace(kt,"")},mt=wt.Symbol;var Pt=Object.prototype,It=Pt.hasOwnProperty,Ot=Pt.toString,at=mt?mt.toStringTag:void 0;const yt=function(Mt){var Rt=It.call(Mt,at),Qt=Mt[at];try{Mt[at]=void 0;var gn=!0}catch{}var Fn=Ot.call(Mt);return gn&&(Rt?Mt[at]=Qt:delete Mt[at]),Fn};var Ct=Object.prototype.toString;const Bt=function(Mt){return Ct.call(Mt)};var Vt=mt?mt.toStringTag:void 0;const en=function(Mt){return Mt==null?Mt===void 0?"[object Undefined]":"[object Null]":Vt&&Vt in Object(Mt)?yt(Mt):Bt(Mt)},Xt=function(Mt){return Mt!=null&&typeof Mt=="object"},dn=function(Mt){return typeof Mt=="symbol"||Xt(Mt)&&en(Mt)=="[object Symbol]"};var an=/^[-+]0x[0-9a-f]+$/i,Jt=/^0b[01]+$/i,Kt=/^0o[0-7]+$/i,tn=parseInt;const hn=function(Mt){if(typeof Mt=="number")return Mt;if(dn(Mt))return NaN;if(ft(Mt)){var Rt=typeof Mt.valueOf=="function"?Mt.valueOf():Mt;Mt=ft(Rt)?Rt+"":Rt}if(typeof Mt!="string")return Mt===0?Mt:+Mt;Mt=pt(Mt);var Qt=Jt.test(Mt);return Qt||Kt.test(Mt)?tn(Mt.slice(2),Qt?2:8):an.test(Mt)?NaN:+Mt};var fn=Math.max,Wt=Math.min;const xt=function(Mt,Rt,Qt){var gn,Fn,Gn,qn,Kn,Eo,xo=0,Xs=!1,xr=!1,lr=!0;if(typeof Mt!="function")throw new TypeError("Expected a function");function Gr(Mo){var cr=gn,vs=Fn;return gn=Fn=void 0,xo=Mo,qn=Mt.apply(vs,cr)}function _s(Mo){return xo=Mo,Kn=setTimeout(Zn,Rt),Xs?Gr(Mo):qn}function os(Mo){var cr=Mo-Eo;return Eo===void 0||cr>=Rt||cr<0||xr&&Mo-xo>=Gn}function Zn(){var Mo=lt();if(os(Mo))return nr(Mo);Kn=setTimeout(Zn,function(cr){var vs=Rt-(cr-Eo);return xr?Wt(vs,Gn-(cr-xo)):vs}(Mo))}function nr(Mo){return Kn=void 0,lr&&gn?Gr(Mo):(gn=Fn=void 0,qn)}function Js(){var Mo=lt(),cr=os(Mo);if(gn=arguments,Fn=this,Eo=Mo,cr){if(Kn===void 0)return _s(Eo);if(xr)return clearTimeout(Kn),Kn=setTimeout(Zn,Rt),Gr(Eo)}return Kn===void 0&&(Kn=setTimeout(Zn,Rt)),qn}return Rt=hn(Rt)||0,ft(Qt)&&(Xs=!!Qt.leading,Gn=(xr="maxWait"in Qt)?fn(hn(Qt.maxWait)||0,Rt):Gn,lr="trailing"in Qt?!!Qt.trailing:lr),Js.cancel=function(){Kn!==void 0&&clearTimeout(Kn),xo=0,gn=Eo=Fn=Kn=void 0},Js.flush=function(){return Kn===void 0?qn:nr(lt())},Js},Et=function(Mt,Rt,Qt){var gn=!0,Fn=!0;if(typeof Mt!="function")throw new TypeError("Expected a function");return ft(Qt)&&(gn="leading"in Qt?!!Qt.leading:gn,Fn="trailing"in Qt?!!Qt.trailing:Fn),xt(Mt,Rt,{leading:gn,maxWait:Rt,trailing:Fn})},jt=function(){this.__data__=[],this.size=0},Gt=function(Mt,Rt){return Mt===Rt||Mt!=Mt&&Rt!=Rt},Ht=function(Mt,Rt){for(var Qt=Mt.length;Qt--;)if(Gt(Mt[Qt][0],Rt))return Qt;return-1};var qt=Array.prototype.splice;const rn=function(Mt){var Rt=this.__data__,Qt=Ht(Rt,Mt);return!(Qt<0)&&(Qt==Rt.length-1?Rt.pop():qt.call(Rt,Qt,1),--this.size,!0)},sn=function(Mt){var Rt=this.__data__,Qt=Ht(Rt,Mt);return Qt<0?void 0:Rt[Qt][1]},vt=function(Mt){return Ht(this.__data__,Mt)>-1},Tt=function(Mt,Rt){var Qt=this.__data__,gn=Ht(Qt,Mt);return gn<0?(++this.size,Qt.push([Mt,Rt])):Qt[gn][1]=Rt,this};function Nt(Mt){var Rt=-1,Qt=Mt==null?0:Mt.length;for(this.clear();++Rt<Qt;){var gn=Mt[Rt];this.set(gn[0],gn[1])}}Nt.prototype.clear=jt,Nt.prototype.delete=rn,Nt.prototype.get=sn,Nt.prototype.has=vt,Nt.prototype.set=Tt;const Lt=Nt,zt=function(){this.__data__=new Lt,this.size=0},Zt=function(Mt){var Rt=this.__data__,Qt=Rt.delete(Mt);return this.size=Rt.size,Qt},mn=function(Mt){return this.__data__.get(Mt)},En=function(Mt){return this.__data__.has(Mt)},un=function(Mt){if(!ft(Mt))return!1;var Rt=en(Mt);return Rt=="[object Function]"||Rt=="[object GeneratorFunction]"||Rt=="[object AsyncFunction]"||Rt=="[object Proxy]"},vn=wt["__core-js_shared__"];var pn=function(){var Mt=/[^.]+$/.exec(vn&&vn.keys&&vn.keys.IE_PROTO||"");return Mt?"Symbol(src)_1."+Mt:""}();const _n=function(Mt){return!!pn&&pn in Mt};var yn=Function.prototype.toString;const $t=function(Mt){if(Mt!=null){try{return yn.call(Mt)}catch{}try{return Mt+""}catch{}}return""};var xn=/^\[object .+?Constructor\]$/,On=Function.prototype,Ln=Object.prototype,Vn=On.toString,Yn=Ln.hasOwnProperty,bo=RegExp("^"+Vn.call(Yn).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const no=function(Mt){return!(!ft(Mt)||_n(Mt))&&(un(Mt)?bo:xn).test($t(Mt))},sr=function(Mt,Rt){return Mt==null?void 0:Mt[Rt]},$n=function(Mt,Rt){var Qt=sr(Mt,Rt);return no(Qt)?Qt:void 0},ho=$n(wt,"Map"),tr=$n(Object,"create"),kn=function(){this.__data__=tr?tr(null):{},this.size=0},Cn=function(Mt){var Rt=this.has(Mt)&&delete this.__data__[Mt];return this.size-=Rt?1:0,Rt};var ln=Object.prototype.hasOwnProperty;const nn=function(Mt){var Rt=this.__data__;if(tr){var Qt=Rt[Mt];return Qt==="__lodash_hash_undefined__"?void 0:Qt}return ln.call(Rt,Mt)?Rt[Mt]:void 0};var on=Object.prototype.hasOwnProperty;const Dn=function(Mt){var Rt=this.__data__;return tr?Rt[Mt]!==void 0:on.call(Rt,Mt)},Mn=function(Mt,Rt){var Qt=this.__data__;return this.size+=this.has(Mt)?0:1,Qt[Mt]=tr&&Rt===void 0?"__lodash_hash_undefined__":Rt,this};function Bn(Mt){var Rt=-1,Qt=Mt==null?0:Mt.length;for(this.clear();++Rt<Qt;){var gn=Mt[Rt];this.set(gn[0],gn[1])}}Bn.prototype.clear=kn,Bn.prototype.delete=Cn,Bn.prototype.get=nn,Bn.prototype.has=Dn,Bn.prototype.set=Mn;const zn=Bn,Qn=function(){this.size=0,this.__data__={hash:new zn,map:new(ho||Lt),string:new zn}},yo=function(Mt){var Rt=typeof Mt;return Rt=="string"||Rt=="number"||Rt=="symbol"||Rt=="boolean"?Mt!=="__proto__":Mt===null},to=function(Mt,Rt){var Qt=Mt.__data__;return yo(Rt)?Qt[typeof Rt=="string"?"string":"hash"]:Qt.map},jn=function(Mt){var Rt=to(this,Mt).delete(Mt);return this.size-=Rt?1:0,Rt},So=function(Mt){return to(this,Mt).get(Mt)},po=function(Mt){return to(this,Mt).has(Mt)},Io=function(Mt,Rt){var Qt=to(this,Mt),gn=Qt.size;return Qt.set(Mt,Rt),this.size+=Qt.size==gn?0:1,this};function Xn(Mt){var Rt=-1,Qt=Mt==null?0:Mt.length;for(this.clear();++Rt<Qt;){var gn=Mt[Rt];this.set(gn[0],gn[1])}}Xn.prototype.clear=Qn,Xn.prototype.delete=jn,Xn.prototype.get=So,Xn.prototype.has=po,Xn.prototype.set=Io;const To=Xn,Zo=function(Mt,Rt){var Qt=this.__data__;if(Qt instanceof Lt){var gn=Qt.__data__;if(!ho||gn.length<199)return gn.push([Mt,Rt]),this.size=++Qt.size,this;Qt=this.__data__=new To(gn)}return Qt.set(Mt,Rt),this.size=Qt.size,this};function qo(Mt){var Rt=this.__data__=new Lt(Mt);this.size=Rt.size}qo.prototype.clear=zt,qo.prototype.delete=Zt,qo.prototype.get=mn,qo.prototype.has=En,qo.prototype.set=Zo;const ar=qo,zo=function(Mt,Rt){for(var Qt=-1,gn=Mt==null?0:Mt.length;++Qt<gn&&Rt(Mt[Qt],Qt,Mt)!==!1;);return Mt},_o=function(){try{var Mt=$n(Object,"defineProperty");return Mt({},"",{}),Mt}catch{}}(),Qo=function(Mt,Rt,Qt){Rt=="__proto__"&&_o?_o(Mt,Rt,{configurable:!0,enumerable:!0,value:Qt,writable:!0}):Mt[Rt]=Qt};var yr=Object.prototype.hasOwnProperty;const Lu=function(Mt,Rt,Qt){var gn=Mt[Rt];yr.call(Mt,Rt)&&Gt(gn,Qt)&&(Qt!==void 0||Rt in Mt)||Qo(Mt,Rt,Qt)},Fs=function(Mt,Rt,Qt,gn){var Fn=!Qt;Qt||(Qt={});for(var Gn=-1,qn=Rt.length;++Gn<qn;){var Kn=Rt[Gn],Eo=gn?gn(Qt[Kn],Mt[Kn],Kn,Qt,Mt):void 0;Eo===void 0&&(Eo=Mt[Kn]),Fn?Qo(Qt,Kn,Eo):Lu(Qt,Kn,Eo)}return Qt},jr=function(Mt,Rt){for(var Qt=-1,gn=Array(Mt);++Qt<Mt;)gn[Qt]=Rt(Qt);return gn},js=function(Mt){return Xt(Mt)&&en(Mt)=="[object Arguments]"};var Vl=Object.prototype,nm=Vl.hasOwnProperty,im=Vl.propertyIsEnumerable;const zr=js(function(){return arguments}())?js:function(Mt){return Xt(Mt)&&nm.call(Mt,"callee")&&!im.call(Mt,"callee")},Ul=Array.isArray,om=function(){return!1};var Bu=d&&!d.nodeType&&d,Fu=Bu&&!0&&c&&!c.nodeType&&c,ju=Fu&&Fu.exports===Bu?wt.Buffer:void 0;const zu=(ju?ju.isBuffer:void 0)||om;var rm=/^(?:0|[1-9]\d*)$/;const sm=function(Mt,Rt){var Qt=typeof Mt;return!!(Rt=Rt??9007199254740991)&&(Qt=="number"||Qt!="symbol"&&rm.test(Mt))&&Mt>-1&&Mt%1==0&&Mt<Rt},Cr=function(Mt){return typeof Mt=="number"&&Mt>-1&&Mt%1==0&&Mt<=9007199254740991};var lo={};lo["[object Float32Array]"]=lo["[object Float64Array]"]=lo["[object Int8Array]"]=lo["[object Int16Array]"]=lo["[object Int32Array]"]=lo["[object Uint8Array]"]=lo["[object Uint8ClampedArray]"]=lo["[object Uint16Array]"]=lo["[object Uint32Array]"]=!0,lo["[object Arguments]"]=lo["[object Array]"]=lo["[object ArrayBuffer]"]=lo["[object Boolean]"]=lo["[object DataView]"]=lo["[object Date]"]=lo["[object Error]"]=lo["[object Function]"]=lo["[object Map]"]=lo["[object Number]"]=lo["[object Object]"]=lo["[object RegExp]"]=lo["[object Set]"]=lo["[object String]"]=lo["[object WeakMap]"]=!1;const fs=function(Mt){return Xt(Mt)&&Cr(Mt.length)&&!!lo[en(Mt)]},Hl=function(Mt){return function(Rt){return Mt(Rt)}};var Vu=d&&!d.nodeType&&d,gs=Vu&&!0&&c&&!c.nodeType&&c,Wl=gs&&gs.exports===Vu&&ht.process;const Xr=function(){try{var Mt=gs&&gs.require&&gs.require("util").types;return Mt||Wl&&Wl.binding&&Wl.binding("util")}catch{}}();var Uu=Xr&&Xr.isTypedArray;const am=Uu?Hl(Uu):fs;var Jr=Object.prototype.hasOwnProperty;const $l=function(Mt,Rt){var Qt=Ul(Mt),gn=!Qt&&zr(Mt),Fn=!Qt&&!gn&&zu(Mt),Gn=!Qt&&!gn&&!Fn&&am(Mt),qn=Qt||gn||Fn||Gn,Kn=qn?jr(Mt.length,String):[],Eo=Kn.length;for(var xo in Mt)!Rt&&!Jr.call(Mt,xo)||qn&&(xo=="length"||Fn&&(xo=="offset"||xo=="parent")||Gn&&(xo=="buffer"||xo=="byteLength"||xo=="byteOffset")||sm(xo,Eo))||Kn.push(xo);return Kn};var lm=Object.prototype;const Gl=function(Mt){var Rt=Mt&&Mt.constructor;return Mt===(typeof Rt=="function"&&Rt.prototype||lm)},ms=function(Mt,Rt){return function(Qt){return Mt(Rt(Qt))}},cm=ms(Object.keys,Object);var dm=Object.prototype.hasOwnProperty;const um=function(Mt){if(!Gl(Mt))return cm(Mt);var Rt=[];for(var Qt in Object(Mt))dm.call(Mt,Qt)&&Qt!="constructor"&&Rt.push(Qt);return Rt},Hu=function(Mt){return Mt!=null&&Cr(Mt.length)&&!un(Mt)},Er=function(Mt){return Hu(Mt)?$l(Mt):um(Mt)},zs=function(Mt,Rt){return Mt&&Fs(Rt,Er(Rt),Mt)},hm=function(Mt){var Rt=[];if(Mt!=null)for(var Qt in Object(Mt))Rt.push(Qt);return Rt};var es=Object.prototype.hasOwnProperty;const ks=function(Mt){if(!ft(Mt))return hm(Mt);var Rt=Gl(Mt),Qt=[];for(var gn in Mt)(gn!="constructor"||!Rt&&es.call(Mt,gn))&&Qt.push(gn);return Qt},Kl=function(Mt){return Hu(Mt)?$l(Mt,!0):ks(Mt)},Vs=function(Mt,Rt){return Mt&&Fs(Rt,Kl(Rt),Mt)};var Us=d&&!d.nodeType&&d,Wu=Us&&!0&&c&&!c.nodeType&&c,Hs=Wu&&Wu.exports===Us?wt.Buffer:void 0,Vr=Hs?Hs.allocUnsafe:void 0;const pm=function(Mt,Rt){if(Rt)return Mt.slice();var Qt=Mt.length,gn=Vr?Vr(Qt):new Mt.constructor(Qt);return Mt.copy(gn),gn},$u=function(Mt,Rt){var Qt=-1,gn=Mt.length;for(Rt||(Rt=Array(gn));++Qt<gn;)Rt[Qt]=Mt[Qt];return Rt},Gu=function(Mt,Rt){for(var Qt=-1,gn=Mt==null?0:Mt.length,Fn=0,Gn=[];++Qt<gn;){var qn=Mt[Qt];Rt(qn,Qt,Mt)&&(Gn[Fn++]=qn)}return Gn},qu=function(){return[]};var fm=Object.prototype.propertyIsEnumerable,Ws=Object.getOwnPropertySymbols;const Yl=Ws?function(Mt){return Mt==null?[]:(Mt=Object(Mt),Gu(Ws(Mt),function(Rt){return fm.call(Mt,Rt)}))}:qu,Ku=function(Mt,Rt){return Fs(Mt,Yl(Mt),Rt)},Ql=function(Mt,Rt){for(var Qt=-1,gn=Rt.length,Fn=Mt.length;++Qt<gn;)Mt[Fn+Qt]=Rt[Qt];return Mt},$s=ms(Object.getPrototypeOf,Object),ts=Object.getOwnPropertySymbols?function(Mt){for(var Rt=[];Mt;)Ql(Rt,Yl(Mt)),Mt=$s(Mt);return Rt}:qu,gm=function(Mt,Rt){return Fs(Mt,ts(Mt),Rt)},Gs=function(Mt,Rt,Qt){var gn=Rt(Mt);return Ul(Mt)?gn:Ql(gn,Qt(Mt))},Yu=function(Mt){return Gs(Mt,Er,Yl)},wo=function(Mt){return Gs(Mt,Kl,ts)},Zl=$n(wt,"DataView"),bs=$n(wt,"Promise"),qs=$n(wt,"Set"),Ur=$n(wt,"WeakMap");var Ks="[object Map]",Hr="[object Promise]",Xl="[object Set]",Ys="[object WeakMap]",Qu="[object DataView]",Zu=$t(Zl),mm=$t(ho),Jl=$t(bs),km=$t(qs),bm=$t(Ur),Wr=en;(Zl&&Wr(new Zl(new ArrayBuffer(1)))!=Qu||ho&&Wr(new ho)!=Ks||bs&&Wr(bs.resolve())!=Hr||qs&&Wr(new qs)!=Xl||Ur&&Wr(new Ur)!=Ys)&&(Wr=function(Mt){var Rt=en(Mt),Qt=Rt=="[object Object]"?Mt.constructor:void 0,gn=Qt?$t(Qt):"";if(gn)switch(gn){case Zu:return Qu;case mm:return Ks;case Jl:return Hr;case km:return Xl;case bm:return Ys}return Rt});const ns=Wr;var _c=Object.prototype.hasOwnProperty;const wm=function(Mt){var Rt=Mt.length,Qt=new Mt.constructor(Rt);return Rt&&typeof Mt[0]=="string"&&_c.call(Mt,"index")&&(Qt.index=Mt.index,Qt.input=Mt.input),Qt},Xu=wt.Uint8Array,_d=function(Mt){var Rt=new Mt.constructor(Mt.byteLength);return new Xu(Rt).set(new Xu(Mt)),Rt},_m=function(Mt,Rt){var Qt=Rt?_d(Mt.buffer):Mt.buffer;return new Mt.constructor(Qt,Mt.byteOffset,Mt.byteLength)};var is=/\w*$/;const vm=function(Mt){var Rt=new Mt.constructor(Mt.source,is.exec(Mt));return Rt.lastIndex=Mt.lastIndex,Rt};var eu=mt?mt.prototype:void 0,tu=eu?eu.valueOf:void 0;const Ju=function(Mt){return tu?Object(tu.call(Mt)):{}},_h=function(Mt,Rt){var Qt=Rt?_d(Mt.buffer):Mt.buffer;return new Mt.constructor(Qt,Mt.byteOffset,Mt.length)},ep=function(Mt,Rt,Qt){var gn=Mt.constructor;switch(Rt){case"[object ArrayBuffer]":return _d(Mt);case"[object Boolean]":case"[object Date]":return new gn(+Mt);case"[object DataView]":return _m(Mt,Qt);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return _h(Mt,Qt);case"[object Map]":case"[object Set]":return new gn;case"[object Number]":case"[object String]":return new gn(Mt);case"[object RegExp]":return vm(Mt);case"[object Symbol]":return Ju(Mt)}};var nu=Object.create;const Am=function(){function Mt(){}return function(Rt){if(!ft(Rt))return{};if(nu)return nu(Rt);Mt.prototype=Rt;var Qt=new Mt;return Mt.prototype=void 0,Qt}}(),tp=function(Mt){return typeof Mt.constructor!="function"||Gl(Mt)?{}:Am($s(Mt))},ym=function(Mt){return Xt(Mt)&&ns(Mt)=="[object Map]"};var iu=Xr&&Xr.isMap;const ou=iu?Hl(iu):ym,Cm=function(Mt){return Xt(Mt)&&ns(Mt)=="[object Set]"};var ru=Xr&&Xr.isSet;const np=ru?Hl(ru):Cm;var ip="[object Arguments]",su="[object Function]",Qs="[object Object]",fo={};fo[ip]=fo["[object Array]"]=fo["[object ArrayBuffer]"]=fo["[object DataView]"]=fo["[object Boolean]"]=fo["[object Date]"]=fo["[object Float32Array]"]=fo["[object Float64Array]"]=fo["[object Int8Array]"]=fo["[object Int16Array]"]=fo["[object Int32Array]"]=fo["[object Map]"]=fo["[object Number]"]=fo[Qs]=fo["[object RegExp]"]=fo["[object Set]"]=fo["[object String]"]=fo["[object Symbol]"]=fo["[object Uint8Array]"]=fo["[object Uint8ClampedArray]"]=fo["[object Uint16Array]"]=fo["[object Uint32Array]"]=!0,fo["[object Error]"]=fo[su]=fo["[object WeakMap]"]=!1;const au=function Mt(Rt,Qt,gn,Fn,Gn,qn){var Kn,Eo=1&Qt,xo=2&Qt,Xs=4&Qt;if(gn&&(Kn=Gn?gn(Rt,Fn,Gn,qn):gn(Rt)),Kn!==void 0)return Kn;if(!ft(Rt))return Rt;var xr=Ul(Rt);if(xr){if(Kn=wm(Rt),!Eo)return $u(Rt,Kn)}else{var lr=ns(Rt),Gr=lr==su||lr=="[object GeneratorFunction]";if(zu(Rt))return pm(Rt,Eo);if(lr==Qs||lr==ip||Gr&&!Gn){if(Kn=xo||Gr?{}:tp(Rt),!Eo)return xo?gm(Rt,Vs(Kn,Rt)):Ku(Rt,zs(Kn,Rt))}else{if(!fo[lr])return Gn?Rt:{};Kn=ep(Rt,lr,Eo)}}qn||(qn=new ar);var _s=qn.get(Rt);if(_s)return _s;qn.set(Rt,Kn),np(Rt)?Rt.forEach(function(Zn){Kn.add(Mt(Zn,Qt,gn,Zn,Rt,qn))}):ou(Rt)&&Rt.forEach(function(Zn,nr){Kn.set(nr,Mt(Zn,Qt,gn,nr,Rt,qn))});var os=xr?void 0:(Xs?xo?wo:Yu:xo?Kl:Er)(Rt);return zo(os||Rt,function(Zn,nr){os&&(Zn=Rt[nr=Zn]),Lu(Kn,nr,Mt(Zn,Qt,gn,nr,Rt,qn))}),Kn},lu=function(Mt,Rt){return au(Mt,5,Rt=typeof Rt=="function"?Rt:void 0)};var cu=Function.prototype,du=Object.prototype,uu=cu.toString,op=du.hasOwnProperty,rp=uu.call(Object);const sp=function(Mt){if(!Xt(Mt)||en(Mt)!="[object Object]")return!1;var Rt=$s(Mt);if(Rt===null)return!0;var Qt=op.call(Rt,"constructor")&&Rt.constructor;return typeof Qt=="function"&&Qt instanceof Qt&&uu.call(Qt)==rp},ap=function(Mt){return Xt(Mt)&&Mt.nodeType===1&&!sp(Mt)};function hu(Mt,Rt=new Set){const Qt=[Mt],gn=new Set;let Fn=0;for(;Qt.length>Fn;){const Gn=Qt[Fn++];if(!(gn.has(Gn)||Em(Gn)||Rt.has(Gn)))if(gn.add(Gn),Gn[Symbol.iterator])try{for(const qn of Gn)Qt.push(qn)}catch{}else for(const qn in Gn)qn!=="defaultValue"&&Qt.push(Gn[qn])}return gn}function Em(Mt){const Rt=Object.prototype.toString.call(Mt),Qt=typeof Mt;return Qt==="number"||Qt==="boolean"||Qt==="string"||Qt==="symbol"||Qt==="function"||Rt==="[object Date]"||Rt==="[object RegExp]"||Rt==="[object Module]"||Mt==null||Mt._watchdogExcluded===!0||Mt instanceof EventTarget||Mt instanceof Event}function lp(Mt,Rt,Qt=new Set){if(Mt===Rt&&typeof(gn=Mt)=="object"&&gn!==null)return!0;var gn;const Fn=hu(Mt,Qt),Gn=hu(Rt,Qt);for(const qn of Fn)if(Gn.has(qn))return!0;return!1}class cp{constructor(Rt){if(this.crashes=[],this.state="initializing",this._crashNumberLimit=typeof Rt.crashNumberLimit=="number"?Rt.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod=typeof Rt.minimumNonErrorTimePeriod=="number"?Rt.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=Qt=>{const gn=Qt.error||Qt.reason;gn instanceof Error&&this._handleError(gn,Qt)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}setCreator(Rt){this._creator=Rt}setDestructor(Rt){this._destructor=Rt}destroy(){this._stopErrorHandling(),this._listeners={}}on(Rt,Qt){this._listeners[Rt]||(this._listeners[Rt]=[]),this._listeners[Rt].push(Qt)}off(Rt,Qt){this._listeners[Rt]=this._listeners[Rt].filter(gn=>gn!==Qt)}_fire(Rt,...Qt){const gn=this._listeners[Rt]||[];for(const Fn of gn)Fn.apply(this,[null,...Qt])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(Rt,Qt){if(this._shouldReactToError(Rt)){this.crashes.push({message:Rt.message,stack:Rt.stack,filename:Qt.filename,lineno:Qt.lineno,colno:Qt.colno,date:this._now()});const gn=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:Rt,causesRestart:gn}),gn?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(Rt){return Rt.is&&Rt.is("CKEditorError")&&Rt.context!==void 0&&Rt.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(Rt)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}class dp extends cp{constructor(Rt,Qt={}){super(Qt),this._editor=null,this._throttledSave=Et(this._save.bind(this),typeof Qt.saveInterval=="number"?Qt.saveInterval:5e3),this._creator=(gn,Fn)=>Rt.create(gn,Fn),this._destructor=gn=>gn.destroy()}get editor(){return this._editor}get _item(){return this._editor}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(Rt=>{console.error("An error happened during the editor destroying.",Rt)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const Rt=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,Rt,Rt.context)}}).then(()=>{this._fire("restart")})}create(Rt=this._elementOrData,Qt=this._config,gn){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=Rt,this._config=this._cloneEditorConfiguration(Qt)||{},this._config.context=gn,this._creator(Rt,this._config))).then(Fn=>{this._editor=Fn,Fn.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=Fn.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const Rt=this._editor;return this._editor=null,Rt.model.document.off("change:data",this._throttledSave),this._destructor(Rt)})}_save(){const Rt=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=Rt}catch(Qt){console.error(Qt,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(Rt){this._excludedProps=Rt}_getData(){const Rt={};for(const Qt of this._editor.model.document.getRootNames())Rt[Qt]=this._editor.data.get({rootName:Qt});return Rt}_isErrorComingFromThisItem(Rt){return lp(this._editor,Rt.context,this._excludedProps)}_cloneEditorConfiguration(Rt){return lu(Rt,(Qt,gn)=>ap(Qt)||gn==="context"?Qt:void 0)}}const Co=new Array(256).fill("").map((Mt,Rt)=>("0"+Rt.toString(16)).slice(-2)),gr=Symbol("MainQueueId");class up extends cp{constructor(Rt,Qt={}){super(Qt),this._watchdogs=new Map,this._watchdogConfig=Qt,this._context=null,this._contextProps=new Set,this._actionQueues=new xm,this._creator=gn=>Rt.create(gn),this._destructor=gn=>gn.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}get context(){return this._context}create(Rt={}){return this._actionQueues.enqueue(gr,()=>(this._contextConfig=Rt,this._create()))}getItem(Rt){return this._getWatchdog(Rt)._item}getItemState(Rt){return this._getWatchdog(Rt).state}add(Rt){const Qt=ws(Rt);return Promise.all(Qt.map(gn=>this._actionQueues.enqueue(gn.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let Fn;if(this._watchdogs.has(gn.id))throw new Error(`Item with the given id is already added: '${gn.id}'.`);if(gn.type==="editor")return Fn=new dp(this._watchdogConfig),Fn.setCreator(gn.creator),Fn._setExcludedProperties(this._contextProps),gn.destructor&&Fn.setDestructor(gn.destructor),this._watchdogs.set(gn.id,Fn),Fn.on("error",(Gn,{error:qn,causesRestart:Kn})=>{this._fire("itemError",{itemId:gn.id,error:qn}),Kn&&this._actionQueues.enqueue(gn.id,()=>new Promise(Eo=>{Fn.on("restart",function xo(){Fn.off("restart",xo),this._fire("itemRestart",{itemId:gn.id}),Eo()}.bind(this))}))}),Fn.create(gn.sourceElementOrData,gn.config,this._context);throw new Error(`Not supported item type: '${gn.type}'.`)})))}remove(Rt){const Qt=ws(Rt);return Promise.all(Qt.map(gn=>this._actionQueues.enqueue(gn,()=>{const Fn=this._getWatchdog(gn);return this._watchdogs.delete(gn),Fn.destroy()})))}destroy(){return this._actionQueues.enqueue(gr,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(gr,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(Rt=>{console.error("An error happened during destroying the context or items.",Rt)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(Rt=>(this._context=Rt,this._contextProps=hu(this._context),Promise.all(Array.from(this._watchdogs.values()).map(Qt=>(Qt._setExcludedProperties(this._contextProps),Qt.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const Rt=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(Qt=>Qt.destroy())).then(()=>this._destructor(Rt))})}_getWatchdog(Rt){const Qt=this._watchdogs.get(Rt);if(!Qt)throw new Error(`Item with the given id was not registered: ${Rt}.`);return Qt}_isErrorComingFromThisItem(Rt){for(const Qt of this._watchdogs.values())if(Qt._isErrorComingFromThisItem(Rt))return!1;return lp(this._context,Rt.context)}}class xm{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._actions=new WeakMap,this._lastActionId=0,this._activeActions=0}onEmpty(Rt){this._onEmptyCallbacks.push(Rt)}enqueue(Rt,Qt){const gn=Rt===gr;this._activeActions++,this._queues.get(Rt)||this._queues.set(Rt,Promise.resolve());const Fn=(gn?Promise.all(this._queues.values()):Promise.all([this._queues.get(gr),this._queues.get(Rt)])).then(Qt),Gn=Fn.catch(()=>{});return this._queues.set(Rt,Gn),Fn.finally(()=>{this._activeActions--,this._queues.get(Rt)===Gn&&this._activeActions===0&&this._onEmptyCallbacks.forEach(qn=>qn())})}}function ws(Mt){return Array.isArray(Mt)?Mt:[Mt]}const Zs=it().createContext("contextWatchdog");class pu extends it().Component{constructor(Rt,Qt){super(Rt,Qt),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}async shouldComponentUpdate(Rt){return Rt.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(Rt.config)),Rt.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(Rt.config),!0):this.props.children!==Rt.children}render(){return it().createElement(Zs.Provider,{value:this.contextWatchdog},this.props.children)}async componentWillUnmount(){await this._destroyContext()}async _initializeContextWatchdog(Rt){this.contextWatchdog=new up(this.props.context),this.contextWatchdog.on("error",(Qt,gn)=>{this.props.onError(gn.error,{phase:"runtime",willContextRestart:gn.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(Rt).catch(Qt=>{this.props.onError(Qt,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}pu.defaultProps={isLayoutReady:!0,onError:(Mt,Rt)=>console.error(Mt,Rt)},pu.propTypes={id:gt().string,isLayoutReady:gt().bool,context:gt().func,config:gt().object,onReady:gt().func,onError:gt().func};const fu="Lock from React integration (@ckeditor/ckeditor5-react)";class $r extends it().Component{constructor(Rt){super(Rt),this.editorDestructionInProgress=null,this.domContainer=it().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:Qt}=window;if(Qt){const[gn]=Qt.split(".").map(Number);gn<34&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 34 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(Rt){return!!this.editor&&(Rt.id!==this.props.id||(this._shouldUpdateEditor(Rt)&&this.editor.setData(Rt.data),"disabled"in Rt&&(Rt.disabled?this.editor.enableReadOnlyMode(fu):this.editor.disableReadOnlyMode(fu)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return it().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.watchdog||(this.context instanceof up?this.watchdog=new hp(this.context):this.watchdog=new $r._EditorWatchdog(this.props.editor),this.watchdog.setCreator((Rt,Qt)=>this._createEditor(Rt,Qt)),this.watchdog.on("error",(Rt,{error:Qt,causesRestart:gn})=>{this.props.onError(Qt,{phase:"runtime",willEditorRestart:gn})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(Rt=>this.props.onError(Rt,{phase:"initialization",willEditorRestart:!1})))}_createEditor(Rt,Qt){return this.props.editor.create(Rt,Qt).then(gn=>{"disabled"in this.props&&this.props.disabled&&gn.enableReadOnlyMode(fu);const Fn=gn.model.document,Gn=gn.editing.view.document;return Fn.on("change:data",qn=>{this.props.onChange&&this.props.onChange(qn,gn)}),Gn.on("focus",qn=>{this.props.onFocus&&this.props.onFocus(qn,gn)}),Gn.on("blur",qn=>{this.props.onBlur&&this.props.onBlur(qn,gn)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(gn)}),gn})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(Rt=>{setTimeout(()=>{this.watchdog?this.watchdog.destroy().then(()=>{this.watchdog=null,Rt()}):Rt()})})}_shouldUpdateEditor(Rt){return this.props.data!==Rt.data&&this.editor.getData()!==Rt.data}_getConfig(){return this.props.data&&this.props.config.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),{...this.props.config,initialData:this.props.config.initialData||this.props.data||""}}}class hp{constructor(Rt){this._contextWatchdog=Rt,this._id=function(){const Qt=4294967296*Math.random()>>>0,gn=4294967296*Math.random()>>>0,Fn=4294967296*Math.random()>>>0,Gn=4294967296*Math.random()>>>0;return"e"+Co[Qt>>0&255]+Co[Qt>>8&255]+Co[Qt>>16&255]+Co[Qt>>24&255]+Co[gn>>0&255]+Co[gn>>8&255]+Co[gn>>16&255]+Co[gn>>24&255]+Co[Fn>>0&255]+Co[Fn>>8&255]+Co[Fn>>16&255]+Co[Fn>>24&255]+Co[Gn>>0&255]+Co[Gn>>8&255]+Co[Gn>>16&255]+Co[Gn>>24&255]}()}setCreator(Rt){this._creator=Rt}create(Rt,Qt){return this._contextWatchdog.add({sourceElementOrData:Rt,config:Qt,creator:this._creator,id:this._id,type:"editor"})}on(Rt,Qt){this._contextWatchdog.on("itemError",(gn,{itemId:Fn,causesRestart:Gn,error:qn})=>{Fn===this._id&&Qt(null,{error:qn,causesRestart:Gn})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}$r.contextType=Zs,$r.propTypes={editor:gt().func.isRequired,data:gt().string,config:gt().object,onChange:gt().func,onReady:gt().func,onFocus:gt().func,onBlur:gt().func,onError:gt().func,disabled:gt().bool,onInit:(Mt,Rt)=>{if(Mt[Rt])return new Error('The "onInit" property is not supported anymore by the CKEditor component. Use the "onReady" property instead.')}},$r.defaultProps={config:{},onError:(Mt,Rt)=>console.error(Mt,Rt)},$r._EditorWatchdog=dp})(),rt})())})(ckeditor$1,ckeditorExports$1);var ckeditorExports={},ckeditor={get exports(){return ckeditorExports},set exports(c){ckeditorExports=c}};(function(c,d){(function(b){const j=b.en=b.en||{};j.dictionary=Object.assign(j.dictionary||{},{"%0 of %1":"%0 of %1",Aquamarine:"Aquamarine",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold","Break text":"Break text","Bulleted List":"Bulleted List",Cancel:"Cancel","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image",Green:"Green",Grey:"Grey","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Italic:"Italic","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link URL":"Link URL","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Rich Text Editor":"Rich Text Editor","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically","Table toolbar":"Table toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on",Turquoise:"Turquoise",Undo:"Undo",Unlink:"Unlink","Upload failed":"Upload failed","Upload in progress":"Upload in progress",White:"White","Widget toolbar":"Widget toolbar","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(b,j){c.exports=j()}(self,()=>(()=>{var b={3062:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const bt=ht},903:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CCzBF,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CA2DF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border)
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	// Horizontal drop target (between blocks).
	& .ck.ck-clipboard-drop-target-position {
		display: block;
		position: relative;
		width: 100%;
		height: 0;
		margin: 0;
		text-align: initial;

		& .ck-clipboard-drop-target__line {
			position: absolute;
			width: 100%;
			height: 0;
			border: 1px solid var(--ck-clipboard-drop-target-color);
			margin-top: -1px;

			&::before {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: calc(-1 * var(--ck-clipboard-drop-target-dot-size));
				top: 0;

				transform: translateY(-50%);
				border-color: transparent transparent transparent var(--ck-clipboard-drop-target-color);
				border-width: var(--ck-clipboard-drop-target-dot-size) 0 var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size));
				border-style: solid;
			}

			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				right: calc(-1 * var(--ck-clipboard-drop-target-dot-size));
				top: 0;

				transform: translateY(-50%);
				border-color: transparent var(--ck-clipboard-drop-target-color) transparent transparent;
				border-width: var(--ck-clipboard-drop-target-dot-size) calc(2 * var(--ck-clipboard-drop-target-dot-size)) var(--ck-clipboard-drop-target-dot-size) 0;
				border-style: solid;
			}
		}
	}
	*/

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}
`],sourceRoot:""}]);const bt=ht},3143:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-modal);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-toolbar {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border-bottom-width: 0;
		}

		& .ck-sticky-panel__content_sticky .ck-toolbar {
			border-bottom-width: 1px;

			@mixin ck-rounded-corners {
				border-radius: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const bt=ht},4717:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const bt=ht},9315:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const bt=ht},8733:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const bt=ht},3508:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}


	/*
	 * Make sure the selected inline image always stays on top of its siblings.
	 * See https://github.com/ckeditor/ckeditor5/issues/9108.
	 */
	& .image.ck-widget_selected {
		z-index: 1;
	}

	& .image-inline.ck-widget_selected {
		z-index: 1;

		/*
		 * Make sure the native browser selection style is not displayed.
		 * Inline image widgets have their own styles for the selected state and
		 * leaving this up to the browser is asking for a visual collision.
		 */
		& ::selection {
			display: none;
		}
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const bt=ht},2640:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const bt=ht},5083:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const bt=ht},4036:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const bt=ht},3773:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const bt=ht},3689:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const bt=ht},1905:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const bt=ht},9773:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const bt=ht},2347:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const bt=ht},7754:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const bt=ht},4564:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const bt=ht},4652:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const bt=ht},7442:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const bt=ht},9292:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const bt=ht},1613:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const bt=ht},6306:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const bt=ht},3881:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,":root{--ck-color-table-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,6DACD,CAKE,8QAGC,wDAAyD,CAKzD,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-table-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-table-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const bt=ht},6945:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const bt=ht},4906:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const bt=ht},5332:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const bt=ht},6781:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-table__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,4DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-table__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const bt=ht},5485:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eH8GD,CA5BA,qFG9EE,qCH0GF,CA5BA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAmBD,CAfC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;
			
			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const bt=ht},3949:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const bt=ht},7686:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const bt=ht},7339:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const bt=ht},9688:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,mDACD,CAIA,gEACC,gDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-base-foreground);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-base-foreground);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const bt=ht},8847:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const bt=ht},6574:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const bt=ht},4879:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const bt=ht},3662:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const bt=ht},2577:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
			}

			@mixin ck-dir rtl {
				right: 0px;
			}

			pointer-events: none;
			transform-origin: 0 0;

			/* By default, display the label scaled down above the field. */
			transform: translate(var(--ck-spacing-medium), -6px) scale(.75);

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const bt=ht},1046:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		text-align: left;
		border-radius: 0;

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding:
			calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
			calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const bt=ht},8793:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const bt=ht},4650:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const bt=ht},7676:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const bt=ht},5868:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const bt=ht},6764:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const bt=ht},9695:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const bt=ht},5542:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDoGD,CAvGA,qECOE,qCDgGF,CAvGA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAmGD,CAhGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAjGF,qCAqGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const bt=ht},3332:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-modal) + 100 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const bt=ht},4793:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_reset.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const bt=ht},3488:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const bt=ht},8506:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const bt=ht},4921:(rt,st,it)=>{it.d(st,{Z:()=>bt});var ct=it(1799),gt=it.n(ct),ft=it(2609),ht=it.n(ft)()(gt());ht.push([rt.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const bt=ht},2609:rt=>{rt.exports=function(st){var it=[];return it.toString=function(){return this.map(function(ct){var gt=st(ct);return ct[2]?"@media ".concat(ct[2]," {").concat(gt,"}"):gt}).join("")},it.i=function(ct,gt,ft){typeof ct=="string"&&(ct=[[null,ct,""]]);var ht={};if(ft)for(var bt=0;bt<this.length;bt++){var wt=this[bt][0];wt!=null&&(ht[wt]=!0)}for(var lt=0;lt<ct.length;lt++){var _t=[].concat(ct[lt]);ft&&ht[_t[0]]||(gt&&(_t[2]?_t[2]="".concat(gt," and ").concat(_t[2]):_t[2]=gt),it.push(_t))}},it}},1799:rt=>{function st(ct,gt){return function(ft){if(Array.isArray(ft))return ft}(ct)||function(ft,ht){var bt=ft&&(typeof Symbol<"u"&&ft[Symbol.iterator]||ft["@@iterator"]);if(bt!=null){var wt,lt,_t=[],ut=!0,kt=!1;try{for(bt=bt.call(ft);!(ut=(wt=bt.next()).done)&&(_t.push(wt.value),!ht||_t.length!==ht);ut=!0);}catch(pt){kt=!0,lt=pt}finally{try{ut||bt.return==null||bt.return()}finally{if(kt)throw lt}}return _t}}(ct,gt)||function(ft,ht){if(ft){if(typeof ft=="string")return it(ft,ht);var bt=Object.prototype.toString.call(ft).slice(8,-1);if(bt==="Object"&&ft.constructor&&(bt=ft.constructor.name),bt==="Map"||bt==="Set")return Array.from(ft);if(bt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(bt))return it(ft,ht)}}(ct,gt)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function it(ct,gt){(gt==null||gt>ct.length)&&(gt=ct.length);for(var ft=0,ht=new Array(gt);ft<gt;ft++)ht[ft]=ct[ft];return ht}rt.exports=function(ct){var gt=st(ct,4),ft=gt[1],ht=gt[3];if(!ht)return ft;if(typeof btoa=="function"){var bt=btoa(unescape(encodeURIComponent(JSON.stringify(ht)))),wt="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(bt),lt="/*# ".concat(wt," */"),_t=ht.sources.map(function(ut){return"/*# sourceURL=".concat(ht.sourceRoot||"").concat(ut," */")});return[ft].concat(_t).concat([lt]).join(`
`)}return[ft].join(`
`)}},6062:(rt,st,it)=>{var ct,gt=function(){return ct===void 0&&(ct=Boolean(window&&document&&document.all&&!window.atob)),ct},ft=function(){var Ot={};return function(at){if(Ot[at]===void 0){var yt=document.querySelector(at);if(window.HTMLIFrameElement&&yt instanceof window.HTMLIFrameElement)try{yt=yt.contentDocument.head}catch{yt=null}Ot[at]=yt}return Ot[at]}}(),ht=[];function bt(Ot){for(var at=-1,yt=0;yt<ht.length;yt++)if(ht[yt].identifier===Ot){at=yt;break}return at}function wt(Ot,at){for(var yt={},Ct=[],Bt=0;Bt<Ot.length;Bt++){var Vt=Ot[Bt],en=at.base?Vt[0]+at.base:Vt[0],Xt=yt[en]||0,dn="".concat(en," ").concat(Xt);yt[en]=Xt+1;var an=bt(dn),Jt={css:Vt[1],media:Vt[2],sourceMap:Vt[3]};an!==-1?(ht[an].references++,ht[an].updater(Jt)):ht.push({identifier:dn,updater:It(Jt,at),references:1}),Ct.push(dn)}return Ct}function lt(Ot){var at=document.createElement("style"),yt=Ot.attributes||{};if(yt.nonce===void 0){var Ct=it.nc;Ct&&(yt.nonce=Ct)}if(Object.keys(yt).forEach(function(Vt){at.setAttribute(Vt,yt[Vt])}),typeof Ot.insert=="function")Ot.insert(at);else{var Bt=ft(Ot.insert||"head");if(!Bt)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");Bt.appendChild(at)}return at}var _t,ut=(_t=[],function(Ot,at){return _t[Ot]=at,_t.filter(Boolean).join(`
`)});function kt(Ot,at,yt,Ct){var Bt=yt?"":Ct.media?"@media ".concat(Ct.media," {").concat(Ct.css,"}"):Ct.css;if(Ot.styleSheet)Ot.styleSheet.cssText=ut(at,Bt);else{var Vt=document.createTextNode(Bt),en=Ot.childNodes;en[at]&&Ot.removeChild(en[at]),en.length?Ot.insertBefore(Vt,en[at]):Ot.appendChild(Vt)}}function pt(Ot,at,yt){var Ct=yt.css,Bt=yt.media,Vt=yt.sourceMap;if(Bt?Ot.setAttribute("media",Bt):Ot.removeAttribute("media"),Vt&&typeof btoa<"u"&&(Ct+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(Vt))))," */")),Ot.styleSheet)Ot.styleSheet.cssText=Ct;else{for(;Ot.firstChild;)Ot.removeChild(Ot.firstChild);Ot.appendChild(document.createTextNode(Ct))}}var mt=null,Pt=0;function It(Ot,at){var yt,Ct,Bt;if(at.singleton){var Vt=Pt++;yt=mt||(mt=lt(at)),Ct=kt.bind(null,yt,Vt,!1),Bt=kt.bind(null,yt,Vt,!0)}else yt=lt(at),Ct=pt.bind(null,yt,at),Bt=function(){(function(en){if(en.parentNode===null)return!1;en.parentNode.removeChild(en)})(yt)};return Ct(Ot),function(en){if(en){if(en.css===Ot.css&&en.media===Ot.media&&en.sourceMap===Ot.sourceMap)return;Ct(Ot=en)}else Bt()}}rt.exports=function(Ot,at){(at=at||{}).singleton||typeof at.singleton=="boolean"||(at.singleton=gt());var yt=wt(Ot=Ot||[],at);return function(Ct){if(Ct=Ct||[],Object.prototype.toString.call(Ct)==="[object Array]"){for(var Bt=0;Bt<yt.length;Bt++){var Vt=bt(yt[Bt]);ht[Vt].references--}for(var en=wt(Ct,at),Xt=0;Xt<yt.length;Xt++){var dn=bt(yt[Xt]);ht[dn].references===0&&(ht[dn].updater(),ht.splice(dn,1))}yt=en}}}}},j={};function _e(rt){var st=j[rt];if(st!==void 0)return st.exports;var it=j[rt]={id:rt,exports:{}};return b[rt](it,it.exports,_e),it.exports}_e.n=rt=>{var st=rt&&rt.__esModule?()=>rt.default:()=>rt;return _e.d(st,{a:st}),st},_e.d=(rt,st)=>{for(var it in st)_e.o(st,it)&&!_e.o(rt,it)&&Object.defineProperty(rt,it,{enumerable:!0,get:st[it]})},_e.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),_e.o=(rt,st)=>Object.prototype.hasOwnProperty.call(rt,st),_e.nc=void 0;var nt={};return(()=>{function rt({emitter:a,activator:e,callback:i,contextElements:o}){a.listenTo(document,"mousedown",(s,h)=>{if(!e())return;const g=typeof h.composedPath=="function"?h.composedPath():[],_=typeof o=="function"?o():o;for(const $ of _)if($.contains(h.target)||g.includes($))return;i()})}function st(a){const e=a;e.set("_isCssTransitionsDisabled",!1),e.disableCssTransitions=()=>{e._isCssTransitionsDisabled=!0},e.enableCssTransitions=()=>{e._isCssTransitionsDisabled=!1},e.extendTemplate({attributes:{class:[e.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}function it({view:a}){a.listenTo(a.element,"submit",(e,i)=>{i.preventDefault(),a.fire("submit")},{useCapture:!0})}_e.d(nt,{default:()=>o_});const ct=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}(),gt={isMac:ht(ct),isWindows:function(a){return a.indexOf("windows")>-1}(ct),isGecko:function(a){return!!a.match(/gecko\/\d+/)}(ct),isSafari:function(a){return a.indexOf(" applewebkit/")>-1&&a.indexOf("chrome")===-1}(ct),isiOS:function(a){return!!a.match(/iphone|ipad/i)||ht(a)&&navigator.maxTouchPoints>0}(ct),isAndroid:function(a){return a.indexOf("android")>-1}(ct),isBlink:function(a){return a.indexOf("chrome/")>-1&&a.indexOf("edge/")<0}(ct),features:{isRegExpUnicodePropertySupported:function(){let a=!1;try{a="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return a}()}},ft=gt;function ht(a){return a.indexOf("macintosh")>-1}function bt(a,e,i,o){i=i||function($,et){return $===et};const s=Array.isArray(a)?a:Array.prototype.slice.call(a),h=Array.isArray(e)?e:Array.prototype.slice.call(e),g=function($,et,tt){const ot=wt($,et,tt);if(ot===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const dt=lt($,ot),At=lt(et,ot),St=wt(dt,At,tt),Dt=$.length-St,Ft=et.length-St;return{firstIndex:ot,lastIndexOld:Dt,lastIndexNew:Ft}}(s,h,i);return o?function($,et){const{firstIndex:tt,lastIndexOld:ot,lastIndexNew:dt}=$;if(tt===-1)return Array(et).fill("equal");let At=[];return tt>0&&(At=At.concat(Array(tt).fill("equal"))),dt-tt>0&&(At=At.concat(Array(dt-tt).fill("insert"))),ot-tt>0&&(At=At.concat(Array(ot-tt).fill("delete"))),dt<et&&(At=At.concat(Array(et-dt).fill("equal"))),At}(g,h.length):function($,et){const tt=[],{firstIndex:ot,lastIndexOld:dt,lastIndexNew:At}=et;return At-ot>0&&tt.push({index:ot,type:"insert",values:$.slice(ot,At)}),dt-ot>0&&tt.push({index:ot+(At-ot),type:"delete",howMany:dt-ot}),tt}(h,g)}function wt(a,e,i){for(let o=0;o<Math.max(a.length,e.length);o++)if(a[o]===void 0||e[o]===void 0||!i(a[o],e[o]))return o;return-1}function lt(a,e){return a.slice(e).reverse()}function _t(a,e,i){i=i||function(Dt,Ft){return Dt===Ft};const o=a.length,s=e.length;if(o>200||s>200||o+s>300)return _t.fastDiff(a,e,i,!0);let h,g;if(s<o){const Dt=a;a=e,e=Dt,h="delete",g="insert"}else h="insert",g="delete";const _=a.length,$=e.length,et=$-_,tt={},ot={};function dt(Dt){const Ft=(ot[Dt-1]!==void 0?ot[Dt-1]:-1)+1,Yt=ot[Dt+1]!==void 0?ot[Dt+1]:-1,cn=Ft>Yt?-1:1;tt[Dt+cn]&&(tt[Dt]=tt[Dt+cn].slice(0)),tt[Dt]||(tt[Dt]=[]),tt[Dt].push(Ft>Yt?h:g);let wn=Math.max(Ft,Yt),Pn=wn-Dt;for(;Pn<_&&wn<$&&i(a[Pn],e[wn]);)Pn++,wn++,tt[Dt].push("equal");return wn}let At,St=0;do{for(At=-St;At<et;At++)ot[At]=dt(At);for(At=et+St;At>et;At--)ot[At]=dt(At);ot[et]=dt(et),St++}while(ot[et]!==$);return tt[et].slice(1)}function ut(a,...e){e.forEach(i=>{const o=Object.getOwnPropertyNames(i),s=Object.getOwnPropertySymbols(i);o.concat(s).forEach(h=>{if(h in a.prototype||typeof i=="function"&&(h=="length"||h=="name"||h=="prototype"))return;const g=Object.getOwnPropertyDescriptor(i,h);g.enumerable=!1,Object.defineProperty(a.prototype,h,g)})})}_t.fastDiff=bt;const kt=function(){return function a(){a.called=!0}};class pt{constructor(e,i){this.source=e,this.name=i,this.path=[],this.stop=kt(),this.off=kt()}}const mt=new Array(256).fill("").map((a,e)=>("0"+e.toString(16)).slice(-2));function Pt(){const a=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0;return"e"+mt[a>>0&255]+mt[a>>8&255]+mt[a>>16&255]+mt[a>>24&255]+mt[e>>0&255]+mt[e>>8&255]+mt[e>>16&255]+mt[e>>24&255]+mt[i>>0&255]+mt[i>>8&255]+mt[i>>16&255]+mt[i>>24&255]+mt[o>>0&255]+mt[o>>8&255]+mt[o>>16&255]+mt[o>>24&255]}const It={get(a="normal"){return typeof a!="number"?this[a]||this.normal:a},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function Ot(a,e){const i=It.get(e.priority);for(let o=0;o<a.length;o++)if(It.get(a[o].priority)<i)return void a.splice(o,0,e);a.push(e)}class at extends Error{constructor(e,i,o){super(function(s,h){const g=new WeakSet,_=(tt,ot)=>{if(typeof ot=="object"&&ot!==null){if(g.has(ot))return`[object ${ot.constructor.name}]`;g.add(ot)}return ot},$=h?` ${JSON.stringify(h,_)}`:"",et=Bt(s);return s+$+et}(e,o)),this.name="CKEditorError",this.context=i,this.data=o}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,i){if(e.is&&e.is("CKEditorError"))throw e;const o=new at(e.message,i);throw o.stack=e.stack,o}}function yt(a,e){console.warn(...Vt(a,e))}function Ct(a,e){console.error(...Vt(a,e))}function Bt(a){return`
Read more: https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html#error-${a}`}function Vt(a,e){const i=Bt(a);return e?[a,e,i]:[a,i]}const en="36.0.0",Xt=typeof window=="object"?window:_e.g;if(Xt.CKEDITOR_VERSION)throw new at("ckeditor-duplicated-modules",null);Xt.CKEDITOR_VERSION=en;const dn=Symbol("listeningTo"),an=Symbol("emitterId"),Jt=Symbol("delegations"),Kt=tn(Object);function tn(a){return a?class extends a{on(e,i,o){this.listenTo(this,e,i,o)}once(e,i,o){let s=!1;this.listenTo(this,e,(h,...g)=>{s||(s=!0,h.off(),i.call(this,h,...g))},o)}off(e,i){this.stopListening(this,e,i)}listenTo(e,i,o,s={}){let h,g;this[dn]||(this[dn]={});const _=this[dn];fn(e)||hn(e);const $=fn(e);(h=_[$])||(h=_[$]={emitter:e,callbacks:{}}),(g=h.callbacks[i])||(g=h.callbacks[i]=[]),g.push(o),function(et,tt,ot,dt,At){tt._addEventListener?tt._addEventListener(ot,dt,At):et._addEventListener.call(tt,ot,dt,At)}(this,e,i,o,s)}stopListening(e,i,o){const s=this[dn];let h=e&&fn(e);const g=s&&h?s[h]:void 0,_=g&&i?g.callbacks[i]:void 0;if(!(!s||e&&!g||i&&!_))if(o)Gt(this,e,i,o),_.indexOf(o)!==-1&&(_.length===1?delete g.callbacks[i]:Gt(this,e,i,o));else if(_){for(;o=_.pop();)Gt(this,e,i,o);delete g.callbacks[i]}else if(g){for(i in g.callbacks)this.stopListening(e,i);delete s[h]}else{for(h in s)this.stopListening(s[h].emitter);delete this[dn]}}fire(e,...i){try{const o=e instanceof pt?e:new pt(this,e),s=o.name;let h=Et(this,s);if(o.path.push(this),h){const _=[o,...i];h=Array.from(h);for(let $=0;$<h.length&&(h[$].callback.apply(this,_),o.off.called&&(delete o.off.called,this._removeEventListener(s,h[$].callback)),!o.stop.called);$++);}const g=this[Jt];if(g){const _=g.get(s),$=g.get("*");_&&jt(_,o,i),$&&jt($,o,i)}return o.return}catch(o){at.rethrowUnexpectedError(o,this)}}delegate(...e){return{to:(i,o)=>{this[Jt]||(this[Jt]=new Map),e.forEach(s=>{const h=this[Jt].get(s);h?h.set(i,o):this[Jt].set(s,new Map([[i,o]]))})}}}stopDelegating(e,i){if(this[Jt])if(e)if(i){const o=this[Jt].get(e);o&&o.delete(i)}else this[Jt].delete(e);else this[Jt].clear()}_addEventListener(e,i,o){(function(g,_){const $=Wt(g);if($[_])return;let et=_,tt=null;const ot=[];for(;et!==""&&!$[et];)$[et]={callbacks:[],childEvents:[]},ot.push($[et]),tt&&$[et].childEvents.push(tt),tt=et,et=et.substr(0,et.lastIndexOf(":"));if(et!==""){for(const dt of ot)dt.callbacks=$[et].callbacks.slice();$[et].childEvents.push(tt)}})(this,e);const s=xt(this,e),h={callback:i,priority:It.get(o.priority)};for(const g of s)Ot(g,h)}_removeEventListener(e,i){const o=xt(this,e);for(const s of o)for(let h=0;h<s.length;h++)s[h].callback==i&&(s.splice(h,1),h--)}}:Kt}function hn(a,e){a[an]||(a[an]=e||Pt())}function fn(a){return a[an]}function Wt(a){return a._events||Object.defineProperty(a,"_events",{value:{}}),a._events}function xt(a,e){const i=Wt(a)[e];if(!i)return[];let o=[i.callbacks];for(let s=0;s<i.childEvents.length;s++){const h=xt(a,i.childEvents[s]);o=o.concat(h)}return o}function Et(a,e){let i;return a._events&&(i=a._events[e])&&i.callbacks.length?i.callbacks:e.indexOf(":")>-1?Et(a,e.substr(0,e.lastIndexOf(":"))):null}function jt(a,e,i){for(let[o,s]of a){s?typeof s=="function"&&(s=s(e.name)):s=e.name;const h=new pt(e.source,s);h.path=[...e.path],o.fire(h,...i)}}function Gt(a,e,i,o){e._removeEventListener?e._removeEventListener(i,o):a._removeEventListener.call(e,i,o)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{tn[a]=Kt.prototype[a]});const Ht=function(a){var e=typeof a;return a!=null&&(e=="object"||e=="function")},qt=Symbol("observableProperties"),rn=Symbol("boundObservables"),sn=Symbol("boundProperties"),vt=Symbol("decoratedMethods"),Tt=Symbol("decoratedOriginal"),Nt=Lt(tn());function Lt(a){return a?class extends a{set(e,i){if(Ht(e))return void Object.keys(e).forEach(s=>{this.set(s,e[s])},this);zt(this);const o=this[qt];if(e in this&&!o.has(e))throw new at("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>o.get(e),set(s){const h=o.get(e);let g=this.fire(`set:${e}`,e,s,h);g===void 0&&(g=s),h===g&&o.has(e)||(o.set(e,g),this.fire(`change:${e}`,e,g,h))}}),this[e]=i}bind(...e){if(!e.length||!En(e))throw new at("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new at("observable-bind-duplicate-properties",this);zt(this);const i=this[sn];e.forEach(s=>{if(i.has(s))throw new at("observable-bind-rebind",this)});const o=new Map;return e.forEach(s=>{const h={property:s,to:[]};i.set(s,h),o.set(s,h)}),{to:Zt,toMany:mn,_observable:this,_bindProperties:e,_to:[],_bindings:o}}unbind(...e){if(!this[qt])return;const i=this[sn],o=this[rn];if(e.length){if(!En(e))throw new at("observable-unbind-wrong-properties",this);e.forEach(s=>{const h=i.get(s);h&&(h.to.forEach(([g,_])=>{const $=o.get(g),et=$[_];et.delete(h),et.size||delete $[_],Object.keys($).length||(o.delete(g),this.stopListening(g,"change"))}),i.delete(s))})}else o.forEach((s,h)=>{this.stopListening(h,"change")}),o.clear(),i.clear()}decorate(e){zt(this);const i=this[e];if(!i)throw new at("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(o,s)=>{o.return=i.apply(this,s)}),this[e]=function(...o){return this.fire(e,o)},this[e][Tt]=i,this[vt]||(this[vt]=[]),this[vt].push(e)}stopListening(e,i,o){if(!e&&this[vt]){for(const s of this[vt])this[s]=this[s][Tt];delete this[vt]}super.stopListening(e,i,o)}}:Nt}function zt(a){a[qt]||(Object.defineProperty(a,qt,{value:new Map}),Object.defineProperty(a,rn,{value:new Map}),Object.defineProperty(a,sn,{value:new Map}))}function Zt(...a){const e=function(...h){if(!h.length)throw new at("observable-bind-to-parse-error",null);const g={to:[]};let _;return typeof h[h.length-1]=="function"&&(g.callback=h.pop()),h.forEach($=>{if(typeof $=="string")_.properties.push($);else{if(typeof $!="object")throw new at("observable-bind-to-parse-error",null);_={observable:$,properties:[]},g.to.push(_)}}),g}(...a),i=Array.from(this._bindings.keys()),o=i.length;if(!e.callback&&e.to.length>1)throw new at("observable-bind-to-no-callback",this);if(o>1&&e.callback)throw new at("observable-bind-to-extra-callback",this);var s;e.to.forEach(h=>{if(h.properties.length&&h.properties.length!==o)throw new at("observable-bind-to-properties-length",this);h.properties.length||(h.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(i[0]).callback=e.callback),s=this._observable,this._to.forEach(h=>{const g=s[rn];let _;g.get(h.observable)||s.listenTo(h.observable,"change",($,et)=>{_=g.get(h.observable)[et],_&&_.forEach(tt=>{un(s,tt.property)})})}),function(h){let g;h._bindings.forEach((_,$)=>{h._to.forEach(et=>{g=et.properties[_.callback?0:h._bindProperties.indexOf($)],_.to.push([et.observable,g]),function(tt,ot,dt,At){const St=tt[rn],Dt=St.get(dt),Ft=Dt||{};Ft[At]||(Ft[At]=new Set),Ft[At].add(ot),Dt||St.set(dt,Ft)}(h._observable,_,et.observable,g)})})}(this),this._bindProperties.forEach(h=>{un(this._observable,h)})}function mn(a,e,i){if(this._bindings.size>1)throw new at("observable-bind-to-many-not-one-binding",this);this.to(...function(o,s){const h=o.map(g=>[g,s]);return Array.prototype.concat.apply([],h)}(a,e),i)}function En(a){return a.every(e=>typeof e=="string")}function un(a,e){const i=a[sn].get(e);let o;i.callback?o=i.callback.apply(a,i.to.map(s=>s[0][s[1]])):(o=i.to[0],o=o[0][o[1]]),Object.prototype.hasOwnProperty.call(a,e)?a[e]=o:a.set(e,o)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{Lt[a]=Nt.prototype[a]});class vn{constructor(){this._replacedElements=[]}replace(e,i){this._replacedElements.push({element:e,newElement:i}),e.style.display="none",i&&e.parentNode.insertBefore(i,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:i})=>{e.style.display="",i&&i.remove()}),this._replacedElements=[]}}function pn(a){let e=0;for(const i of a)e++;return e}function _n(a,e){const i=Math.min(a.length,e.length);for(let o=0;o<i;o++)if(a[o]!=e[o])return o;return a.length==e.length?"same":a.length<e.length?"prefix":"extension"}function yn(a){return!(!a||!a[Symbol.iterator])}const $t=typeof commonjsGlobal=="object"&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal;var xn=typeof self=="object"&&self&&self.Object===Object&&self;const On=$t||xn||Function("return this")(),Ln=On.Symbol;var Vn=Object.prototype,Yn=Vn.hasOwnProperty,bo=Vn.toString,no=Ln?Ln.toStringTag:void 0;const sr=function(a){var e=Yn.call(a,no),i=a[no];try{a[no]=void 0;var o=!0}catch{}var s=bo.call(a);return o&&(e?a[no]=i:delete a[no]),s};var $n=Object.prototype.toString;const ho=function(a){return $n.call(a)};var tr=Ln?Ln.toStringTag:void 0;const kn=function(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":tr&&tr in Object(a)?sr(a):ho(a)},Cn=Array.isArray,ln=function(a){return a!=null&&typeof a=="object"},nn=function(a){return typeof a=="string"||!Cn(a)&&ln(a)&&kn(a)=="[object String]"};function on(a,e,i={},o=[]){const s=i&&i.xmlns,h=s?a.createElementNS(s,e):a.createElement(e);for(const g in i)h.setAttribute(g,i[g]);!nn(o)&&yn(o)||(o=[o]);for(let g of o)nn(g)&&(g=a.createTextNode(g)),h.appendChild(g);return h}const Dn=function(a,e){return function(i){return a(e(i))}},Mn=Dn(Object.getPrototypeOf,Object);var Bn=Function.prototype,zn=Object.prototype,Qn=Bn.toString,yo=zn.hasOwnProperty,to=Qn.call(Object);const jn=function(a){if(!ln(a)||kn(a)!="[object Object]")return!1;var e=Mn(a);if(e===null)return!0;var i=yo.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&Qn.call(i)==to},So=function(){this.__data__=[],this.size=0},po=function(a,e){return a===e||a!=a&&e!=e},Io=function(a,e){for(var i=a.length;i--;)if(po(a[i][0],e))return i;return-1};var Xn=Array.prototype.splice;const To=function(a){var e=this.__data__,i=Io(e,a);return!(i<0)&&(i==e.length-1?e.pop():Xn.call(e,i,1),--this.size,!0)},Zo=function(a){var e=this.__data__,i=Io(e,a);return i<0?void 0:e[i][1]},qo=function(a){return Io(this.__data__,a)>-1},ar=function(a,e){var i=this.__data__,o=Io(i,a);return o<0?(++this.size,i.push([a,e])):i[o][1]=e,this};function zo(a){var e=-1,i=a==null?0:a.length;for(this.clear();++e<i;){var o=a[e];this.set(o[0],o[1])}}zo.prototype.clear=So,zo.prototype.delete=To,zo.prototype.get=Zo,zo.prototype.has=qo,zo.prototype.set=ar;const _o=zo,Qo=function(){this.__data__=new _o,this.size=0},yr=function(a){var e=this.__data__,i=e.delete(a);return this.size=e.size,i},Lu=function(a){return this.__data__.get(a)},Fs=function(a){return this.__data__.has(a)},jr=function(a){if(!Ht(a))return!1;var e=kn(a);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},js=On["__core-js_shared__"];var Vl=function(){var a=/[^.]+$/.exec(js&&js.keys&&js.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();const nm=function(a){return!!Vl&&Vl in a};var im=Function.prototype.toString;const zr=function(a){if(a!=null){try{return im.call(a)}catch{}try{return a+""}catch{}}return""};var Ul=/^\[object .+?Constructor\]$/,om=Function.prototype,Bu=Object.prototype,Fu=om.toString,ju=Bu.hasOwnProperty,zu=RegExp("^"+Fu.call(ju).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const rm=function(a){return!(!Ht(a)||nm(a))&&(jr(a)?zu:Ul).test(zr(a))},sm=function(a,e){return a==null?void 0:a[e]},Cr=function(a,e){var i=sm(a,e);return rm(i)?i:void 0},lo=Cr(On,"Map"),fs=Cr(Object,"create"),Hl=function(){this.__data__=fs?fs(null):{},this.size=0},Vu=function(a){var e=this.has(a)&&delete this.__data__[a];return this.size-=e?1:0,e};var gs=Object.prototype.hasOwnProperty;const Wl=function(a){var e=this.__data__;if(fs){var i=e[a];return i==="__lodash_hash_undefined__"?void 0:i}return gs.call(e,a)?e[a]:void 0};var Xr=Object.prototype.hasOwnProperty;const Uu=function(a){var e=this.__data__;return fs?e[a]!==void 0:Xr.call(e,a)},am=function(a,e){var i=this.__data__;return this.size+=this.has(a)?0:1,i[a]=fs&&e===void 0?"__lodash_hash_undefined__":e,this};function Jr(a){var e=-1,i=a==null?0:a.length;for(this.clear();++e<i;){var o=a[e];this.set(o[0],o[1])}}Jr.prototype.clear=Hl,Jr.prototype.delete=Vu,Jr.prototype.get=Wl,Jr.prototype.has=Uu,Jr.prototype.set=am;const $l=Jr,lm=function(){this.size=0,this.__data__={hash:new $l,map:new(lo||_o),string:new $l}},Gl=function(a){var e=typeof a;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?a!=="__proto__":a===null},ms=function(a,e){var i=a.__data__;return Gl(e)?i[typeof e=="string"?"string":"hash"]:i.map},cm=function(a){var e=ms(this,a).delete(a);return this.size-=e?1:0,e},dm=function(a){return ms(this,a).get(a)},um=function(a){return ms(this,a).has(a)},Hu=function(a,e){var i=ms(this,a),o=i.size;return i.set(a,e),this.size+=i.size==o?0:1,this};function Er(a){var e=-1,i=a==null?0:a.length;for(this.clear();++e<i;){var o=a[e];this.set(o[0],o[1])}}Er.prototype.clear=lm,Er.prototype.delete=cm,Er.prototype.get=dm,Er.prototype.has=um,Er.prototype.set=Hu;const zs=Er,hm=function(a,e){var i=this.__data__;if(i instanceof _o){var o=i.__data__;if(!lo||o.length<199)return o.push([a,e]),this.size=++i.size,this;i=this.__data__=new zs(o)}return i.set(a,e),this.size=i.size,this};function es(a){var e=this.__data__=new _o(a);this.size=e.size}es.prototype.clear=Qo,es.prototype.delete=yr,es.prototype.get=Lu,es.prototype.has=Fs,es.prototype.set=hm;const ks=es,Kl=function(a,e){for(var i=-1,o=a==null?0:a.length;++i<o&&e(a[i],i,a)!==!1;);return a},Vs=function(){try{var a=Cr(Object,"defineProperty");return a({},"",{}),a}catch{}}(),Us=function(a,e,i){e=="__proto__"&&Vs?Vs(a,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):a[e]=i};var Wu=Object.prototype.hasOwnProperty;const Hs=function(a,e,i){var o=a[e];Wu.call(a,e)&&po(o,i)&&(i!==void 0||e in a)||Us(a,e,i)},Vr=function(a,e,i,o){var s=!i;i||(i={});for(var h=-1,g=e.length;++h<g;){var _=e[h],$=o?o(i[_],a[_],_,i,a):void 0;$===void 0&&($=a[_]),s?Us(i,_,$):Hs(i,_,$)}return i},pm=function(a,e){for(var i=-1,o=Array(a);++i<a;)o[i]=e(i);return o},$u=function(a){return ln(a)&&kn(a)=="[object Arguments]"};var Gu=Object.prototype,qu=Gu.hasOwnProperty,fm=Gu.propertyIsEnumerable;const Ws=$u(function(){return arguments}())?$u:function(a){return ln(a)&&qu.call(a,"callee")&&!fm.call(a,"callee")},Yl=function(){return!1};var Ku=d&&!d.nodeType&&d,Ql=Ku&&!0&&c&&!c.nodeType&&c,$s=Ql&&Ql.exports===Ku?On.Buffer:void 0;const ts=($s?$s.isBuffer:void 0)||Yl;var gm=/^(?:0|[1-9]\d*)$/;const Gs=function(a,e){var i=typeof a;return!!(e=e??9007199254740991)&&(i=="number"||i!="symbol"&&gm.test(a))&&a>-1&&a%1==0&&a<e},Yu=function(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=9007199254740991};var wo={};wo["[object Float32Array]"]=wo["[object Float64Array]"]=wo["[object Int8Array]"]=wo["[object Int16Array]"]=wo["[object Int32Array]"]=wo["[object Uint8Array]"]=wo["[object Uint8ClampedArray]"]=wo["[object Uint16Array]"]=wo["[object Uint32Array]"]=!0,wo["[object Arguments]"]=wo["[object Array]"]=wo["[object ArrayBuffer]"]=wo["[object Boolean]"]=wo["[object DataView]"]=wo["[object Date]"]=wo["[object Error]"]=wo["[object Function]"]=wo["[object Map]"]=wo["[object Number]"]=wo["[object Object]"]=wo["[object RegExp]"]=wo["[object Set]"]=wo["[object String]"]=wo["[object WeakMap]"]=!1;const Zl=function(a){return ln(a)&&Yu(a.length)&&!!wo[kn(a)]},bs=function(a){return function(e){return a(e)}};var qs=d&&!d.nodeType&&d,Ur=qs&&!0&&c&&!c.nodeType&&c,Ks=Ur&&Ur.exports===qs&&$t.process;const Hr=function(){try{var a=Ur&&Ur.require&&Ur.require("util").types;return a||Ks&&Ks.binding&&Ks.binding("util")}catch{}}();var Xl=Hr&&Hr.isTypedArray;const Ys=Xl?bs(Xl):Zl;var Qu=Object.prototype.hasOwnProperty;const Zu=function(a,e){var i=Cn(a),o=!i&&Ws(a),s=!i&&!o&&ts(a),h=!i&&!o&&!s&&Ys(a),g=i||o||s||h,_=g?pm(a.length,String):[],$=_.length;for(var et in a)!e&&!Qu.call(a,et)||g&&(et=="length"||s&&(et=="offset"||et=="parent")||h&&(et=="buffer"||et=="byteLength"||et=="byteOffset")||Gs(et,$))||_.push(et);return _};var mm=Object.prototype;const Jl=function(a){var e=a&&a.constructor;return a===(typeof e=="function"&&e.prototype||mm)},km=Dn(Object.keys,Object);var bm=Object.prototype.hasOwnProperty;const Wr=function(a){if(!Jl(a))return km(a);var e=[];for(var i in Object(a))bm.call(a,i)&&i!="constructor"&&e.push(i);return e},ns=function(a){return a!=null&&Yu(a.length)&&!jr(a)},_c=function(a){return ns(a)?Zu(a):Wr(a)},wm=function(a,e){return a&&Vr(e,_c(e),a)},Xu=function(a){var e=[];if(a!=null)for(var i in Object(a))e.push(i);return e};var _d=Object.prototype.hasOwnProperty;const _m=function(a){if(!Ht(a))return Xu(a);var e=Jl(a),i=[];for(var o in a)(o!="constructor"||!e&&_d.call(a,o))&&i.push(o);return i},is=function(a){return ns(a)?Zu(a,!0):_m(a)},vm=function(a,e){return a&&Vr(e,is(e),a)};var eu=d&&!d.nodeType&&d,tu=eu&&!0&&c&&!c.nodeType&&c,Ju=tu&&tu.exports===eu?On.Buffer:void 0,_h=Ju?Ju.allocUnsafe:void 0;const ep=function(a,e){if(e)return a.slice();var i=a.length,o=_h?_h(i):new a.constructor(i);return a.copy(o),o},nu=function(a,e){var i=-1,o=a.length;for(e||(e=Array(o));++i<o;)e[i]=a[i];return e},Am=function(a,e){for(var i=-1,o=a==null?0:a.length,s=0,h=[];++i<o;){var g=a[i];e(g,i,a)&&(h[s++]=g)}return h},tp=function(){return[]};var ym=Object.prototype.propertyIsEnumerable,iu=Object.getOwnPropertySymbols;const ou=iu?function(a){return a==null?[]:(a=Object(a),Am(iu(a),function(e){return ym.call(a,e)}))}:tp,Cm=function(a,e){return Vr(a,ou(a),e)},ru=function(a,e){for(var i=-1,o=e.length,s=a.length;++i<o;)a[s+i]=e[i];return a},np=Object.getOwnPropertySymbols?function(a){for(var e=[];a;)ru(e,ou(a)),a=Mn(a);return e}:tp,ip=function(a,e){return Vr(a,np(a),e)},su=function(a,e,i){var o=e(a);return Cn(a)?o:ru(o,i(a))},Qs=function(a){return su(a,_c,ou)},fo=function(a){return su(a,is,np)},au=Cr(On,"DataView"),lu=Cr(On,"Promise"),cu=Cr(On,"Set"),du=Cr(On,"WeakMap");var uu="[object Map]",op="[object Promise]",rp="[object Set]",sp="[object WeakMap]",ap="[object DataView]",hu=zr(au),Em=zr(lo),lp=zr(lu),cp=zr(cu),dp=zr(du),Co=kn;(au&&Co(new au(new ArrayBuffer(1)))!=ap||lo&&Co(new lo)!=uu||lu&&Co(lu.resolve())!=op||cu&&Co(new cu)!=rp||du&&Co(new du)!=sp)&&(Co=function(a){var e=kn(a),i=e=="[object Object]"?a.constructor:void 0,o=i?zr(i):"";if(o)switch(o){case hu:return ap;case Em:return uu;case lp:return op;case cp:return rp;case dp:return sp}return e});const gr=Co;var up=Object.prototype.hasOwnProperty;const xm=function(a){var e=a.length,i=new a.constructor(e);return e&&typeof a[0]=="string"&&up.call(a,"index")&&(i.index=a.index,i.input=a.input),i},ws=On.Uint8Array,Zs=function(a){var e=new a.constructor(a.byteLength);return new ws(e).set(new ws(a)),e},pu=function(a,e){var i=e?Zs(a.buffer):a.buffer;return new a.constructor(i,a.byteOffset,a.byteLength)};var fu=/\w*$/;const $r=function(a){var e=new a.constructor(a.source,fu.exec(a));return e.lastIndex=a.lastIndex,e};var hp=Ln?Ln.prototype:void 0,Mt=hp?hp.valueOf:void 0;const Rt=function(a){return Mt?Object(Mt.call(a)):{}},Qt=function(a,e){var i=e?Zs(a.buffer):a.buffer;return new a.constructor(i,a.byteOffset,a.length)},gn=function(a,e,i){var o=a.constructor;switch(e){case"[object ArrayBuffer]":return Zs(a);case"[object Boolean]":case"[object Date]":return new o(+a);case"[object DataView]":return pu(a,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Qt(a,i);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(a);case"[object RegExp]":return $r(a);case"[object Symbol]":return Rt(a)}};var Fn=Object.create;const Gn=function(){function a(){}return function(e){if(!Ht(e))return{};if(Fn)return Fn(e);a.prototype=e;var i=new a;return a.prototype=void 0,i}}(),qn=function(a){return typeof a.constructor!="function"||Jl(a)?{}:Gn(Mn(a))},Kn=function(a){return ln(a)&&gr(a)=="[object Map]"};var Eo=Hr&&Hr.isMap;const xo=Eo?bs(Eo):Kn,Xs=function(a){return ln(a)&&gr(a)=="[object Set]"};var xr=Hr&&Hr.isSet;const lr=xr?bs(xr):Xs;var Gr="[object Arguments]",_s="[object Function]",os="[object Object]",Zn={};Zn[Gr]=Zn["[object Array]"]=Zn["[object ArrayBuffer]"]=Zn["[object DataView]"]=Zn["[object Boolean]"]=Zn["[object Date]"]=Zn["[object Float32Array]"]=Zn["[object Float64Array]"]=Zn["[object Int8Array]"]=Zn["[object Int16Array]"]=Zn["[object Int32Array]"]=Zn["[object Map]"]=Zn["[object Number]"]=Zn[os]=Zn["[object RegExp]"]=Zn["[object Set]"]=Zn["[object String]"]=Zn["[object Symbol]"]=Zn["[object Uint8Array]"]=Zn["[object Uint8ClampedArray]"]=Zn["[object Uint16Array]"]=Zn["[object Uint32Array]"]=!0,Zn["[object Error]"]=Zn[_s]=Zn["[object WeakMap]"]=!1;const nr=function a(e,i,o,s,h,g){var _,$=1&i,et=2&i,tt=4&i;if(o&&(_=h?o(e,s,h,g):o(e)),_!==void 0)return _;if(!Ht(e))return e;var ot=Cn(e);if(ot){if(_=xm(e),!$)return nu(e,_)}else{var dt=gr(e),At=dt==_s||dt=="[object GeneratorFunction]";if(ts(e))return ep(e,$);if(dt==os||dt==Gr||At&&!h){if(_=et||At?{}:qn(e),!$)return et?ip(e,vm(_,e)):Cm(e,wm(_,e))}else{if(!Zn[dt])return h?e:{};_=gn(e,dt,$)}}g||(g=new ks);var St=g.get(e);if(St)return St;g.set(e,_),lr(e)?e.forEach(function(Ft){_.add(a(Ft,i,o,Ft,e,g))}):xo(e)&&e.forEach(function(Ft,Yt){_.set(Yt,a(Ft,i,o,Yt,e,g))});var Dt=ot?void 0:(tt?et?fo:Qs:et?is:_c)(e);return Kl(Dt||e,function(Ft,Yt){Dt&&(Ft=e[Yt=Ft]),Hs(_,Yt,a(Ft,i,o,Yt,e,g))}),_},Js=function(a,e){return nr(a,5,e=typeof e=="function"?e:void 0)},Mo=function(a){return ln(a)&&a.nodeType===1&&!jn(a)};class cr{constructor(e,i){this._config={},i&&this.define(vs(i)),e&&this._setObjectToTarget(this._config,e)}set(e,i){this._setToTarget(this._config,e,i)}define(e,i){this._setToTarget(this._config,e,i,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,i,o,s=!1){if(jn(i))return void this._setObjectToTarget(e,i,s);const h=i.split(".");i=h.pop();for(const g of h)jn(e[g])||(e[g]={}),e=e[g];if(jn(o))return jn(e[i])||(e[i]={}),e=e[i],void this._setObjectToTarget(e,o,s);s&&e[i]!==void 0||(e[i]=o)}_getFromSource(e,i){const o=i.split(".");i=o.pop();for(const s of o){if(!jn(e[s])){e=null;break}e=e[s]}return e?vs(e[i]):void 0}_setObjectToTarget(e,i,o){Object.keys(i).forEach(s=>{this._setToTarget(e,s,i[s],o)})}}function vs(a){return Js(a,hE)}function hE(a){return Mo(a)?a:void 0}function rs(a){if(a){if(a.defaultView)return a instanceof a.defaultView.Document;if(a.ownerDocument&&a.ownerDocument.defaultView)return a instanceof a.ownerDocument.defaultView.Node}return!1}function pp(a){const e=Object.prototype.toString.apply(a);return e=="[object Window]"||e=="[object global]"}const C_=As(tn());function As(a){return a?class extends a{listenTo(e,i,o,s={}){if(rs(e)||pp(e)){const h={capture:!!s.useCapture,passive:!!s.usePassive},g=this._getProxyEmitter(e,h)||new pE(e,h);this.listenTo(g,i,o,s)}else super.listenTo(e,i,o,s)}stopListening(e,i,o){if(rs(e)||pp(e)){const s=this._getAllProxyEmitters(e);for(const h of s)this.stopListening(h,i,o)}else super.stopListening(e,i,o)}_getProxyEmitter(e,i){return function(o,s){const h=o[dn];return h&&h[s]?h[s].emitter:null}(this,E_(e,i))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(i=>this._getProxyEmitter(e,i)).filter(i=>!!i)}}:C_}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{As[a]=C_.prototype[a]});class pE extends tn(){constructor(e,i){super(),hn(this,E_(e,i)),this._domNode=e,this._options=i}attach(e){if(this._domListeners&&this._domListeners[e])return;const i=this._createDomListener(e);this._domNode.addEventListener(e,i,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=i}detach(e){let i;!this._domListeners[e]||(i=this._events[e])&&i.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,i,o){this.attach(e),tn().prototype._addEventListener.call(this,e,i,o)}_removeEventListener(e,i){tn().prototype._removeEventListener.call(this,e,i),this.detach(e)}_createDomListener(e){const i=o=>{this.fire(e,o)};return i.removeListener=()=>{this._domNode.removeEventListener(e,i,this._options),delete this._domListeners[e]},i}}function E_(a,e){let i=function(o){return o["data-ck-expando"]||(o["data-ck-expando"]=Pt())}(a);for(const o of Object.keys(e).sort())e[o]&&(i+="-"+o);return i}let Sm;try{Sm={window,document}}catch{Sm={window:{},document:{}}}const _i=Sm;function x_(a){const e=[];let i=a;for(;i&&i.nodeType!=Node.DOCUMENT_NODE;)e.unshift(i),i=i.parentNode;return e}function Po(a){return Object.prototype.toString.call(a)=="[object Text]"}function fp(a){return Object.prototype.toString.apply(a)=="[object Range]"}function S_(a){const e=a.ownerDocument.defaultView.getComputedStyle(a);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}const T_=["top","right","bottom","left","width","height"];class No{constructor(e){const i=fp(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),I_(e)||i)if(i){const o=No.getDomRangeRects(e);gp(this,No.getBoundingRect(o))}else gp(this,e.getBoundingClientRect());else if(pp(e)){const{innerWidth:o,innerHeight:s}=e;gp(this,{top:0,right:o,bottom:s,left:0,width:o,height:s})}else gp(this,e)}clone(){return new No(this)}moveTo(e,i){return this.top=i,this.right=e+this.width,this.bottom=i+this.height,this.left=e,this}moveBy(e,i){return this.top+=i,this.right+=e,this.left+=e,this.bottom+=i,this}getIntersection(e){const i={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};return i.width=i.right-i.left,i.height=i.bottom-i.top,i.width<0||i.height<0?null:new No(i)}getIntersectionArea(e){const i=this.getIntersection(e);return i?i.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let i=this.clone();if(!D_(e)){let o=e.parentNode||e.commonAncestorContainer;for(;o&&!D_(o);){const s=new No(o),h=i.getIntersection(s);if(!h)return null;h.getArea()<i.getArea()&&(i=h),o=o.parentNode}}return i}isEqual(e){for(const i of T_)if(this[i]!==e[i])return!1;return!0}contains(e){const i=this.getIntersection(e);return!(!i||!i.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let i,o,s;if(pp(e))i=e.innerWidth-e.document.documentElement.clientWidth,o=e.innerHeight-e.document.documentElement.clientHeight,s=e.getComputedStyle(e.document.documentElement).direction;else{const h=S_(e);i=e.offsetWidth-e.clientWidth-h.left-h.right,o=e.offsetHeight-e.clientHeight-h.top-h.bottom,s=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=h.left,this.top+=h.top,this.right-=h.right,this.bottom-=h.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=i,s==="ltr"?this.right-=i:this.left+=i,this.height-=o,this.bottom-=o,this}static getDomRangeRects(e){const i=[],o=Array.from(e.getClientRects());if(o.length)for(const s of o)i.push(new No(s));else{let s=e.startContainer;Po(s)&&(s=s.parentNode);const h=new No(s.getBoundingClientRect());h.right=h.left,h.width=0,i.push(h)}return i}static getBoundingRect(e){const i={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let o=0;for(const s of e)o++,i.left=Math.min(i.left,s.left),i.top=Math.min(i.top,s.top),i.right=Math.max(i.right,s.right),i.bottom=Math.max(i.bottom,s.bottom);return o==0?null:(i.width=i.right-i.left,i.height=i.bottom-i.top,new No(i))}}function gp(a,e){for(const i of T_)a[i]=e[i]}function D_(a){return!!I_(a)&&a===a.ownerDocument.body}function I_(a){return a!==null&&typeof a=="object"&&a.nodeType===1&&typeof a.getBoundingClientRect=="function"}class Ao{constructor(e,i){Ao._observerInstance||Ao._createObserver(),this._element=e,this._callback=i,Ao._addElementCallback(e,i),Ao._observerInstance.observe(e)}destroy(){Ao._deleteElementCallback(this._element,this._callback)}static _addElementCallback(e,i){Ao._elementCallbacks||(Ao._elementCallbacks=new Map);let o=Ao._elementCallbacks.get(e);o||(o=new Set,Ao._elementCallbacks.set(e,o)),o.add(i)}static _deleteElementCallback(e,i){const o=Ao._getElementCallbacks(e);o&&(o.delete(i),o.size||(Ao._elementCallbacks.delete(e),Ao._observerInstance.unobserve(e))),Ao._elementCallbacks&&!Ao._elementCallbacks.size&&(Ao._observerInstance=null,Ao._elementCallbacks=null)}static _getElementCallbacks(e){return Ao._elementCallbacks?Ao._elementCallbacks.get(e):null}static _createObserver(){Ao._observerInstance=new _i.window.ResizeObserver(e=>{for(const i of e){const o=Ao._getElementCallbacks(i.target);if(o)for(const s of o)s(i)}})}}function fE(a,e){a instanceof HTMLTextAreaElement&&(a.value=e),a.innerHTML=e}function Tm(a){return e=>e+a}function mp(a){let e=0;for(;a.previousSibling;)a=a.previousSibling,e++;return e}function M_(a,e,i){a.insertBefore(i,a.childNodes[e]||null)}function na(a){return a&&a.nodeType===Node.COMMENT_NODE}function ys(a){return!!(a&&a.getClientRects&&a.getClientRects().length)}function P_({element:a,target:e,positions:i,limiter:o,fitInViewport:s,viewportOffsetConfig:h}){jr(e)&&(e=e()),jr(o)&&(o=o());const g=function(dt){return dt&&dt.parentNode?dt.offsetParent===_i.document.body?null:dt.offsetParent:null}(a),_=new No(a),$=new No(e);let et;const tt=s&&function(dt){dt=Object.assign({top:0,bottom:0,left:0,right:0},dt);const At=new No(_i.window);return At.top+=dt.top,At.height-=dt.top,At.bottom-=dt.bottom,At.height-=dt.bottom,At}(h)||null,ot={targetRect:$,elementRect:_,positionedElementAncestor:g,viewportRect:tt};if(o||s){const dt=o&&new No(o).getVisible();Object.assign(ot,{limiterRect:dt,viewportRect:tt}),et=function(At,St){const{elementRect:Dt}=St,Ft=Dt.getArea(),Yt=At.map(Pn=>new Dm(Pn,St)).filter(Pn=>!!Pn.name);let cn=0,wn=null;for(const Pn of Yt){const{limiterIntersectionArea:Un,viewportIntersectionArea:oo}=Pn;if(Un===Ft)return Pn;const ao=oo**2+Un**2;ao>cn&&(cn=ao,wn=Pn)}return wn}(i,ot)||new Dm(i[0],ot)}else et=new Dm(i[0],ot);return et}function N_(a){const{scrollX:e,scrollY:i}=_i.window;return a.clone().moveBy(e,i)}Ao._observerInstance=null,Ao._elementCallbacks=null;class Dm{constructor(e,i){const o=e(i.targetRect,i.elementRect,i.viewportRect);if(!o)return;const{left:s,top:h,name:g,config:_}=o;this.name=g,this.config=_,this._positioningFunctionCorrdinates={left:s,top:h},this._options=i}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;if(e){const i=this._options.viewportRect;if(!i)return e.getIntersectionArea(this._rect);{const o=e.getIntersection(i);if(o)return o.getIntersectionArea(this._rect)}}return 0}get viewportIntersectionArea(){const e=this._options.viewportRect;return e?e.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=N_(this._rect),this._options.positionedElementAncestor&&function(e,i){const o=N_(new No(i)),s=S_(i);let h=0,g=0;h-=o.left,g-=o.top,h+=i.scrollLeft,g+=i.scrollTop,h-=s.left,g-=s.top,e.moveBy(h,g)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}function R_(a){const e=a.parentNode;e&&e.removeChild(a)}function gE(a,e,i){const o=e.clone().moveBy(0,i),s=e.clone().moveBy(0,-i),h=new No(a).excludeScrollbarsAndBorders();if(![s,o].every(g=>h.contains(g))){let{scrollX:g,scrollY:_}=a;L_(s,h)?_-=h.top-e.top+i:O_(o,h)&&(_+=e.bottom-h.bottom+i),B_(e,h)?g-=h.left-e.left+i:F_(e,h)&&(g+=e.right-h.right+i),a.scrollTo(g,_)}}function mE(a,e){const i=Im(a);let o,s;for(;a!=i.document.body;)s=e(),o=new No(a).excludeScrollbarsAndBorders(),o.contains(s)||(L_(s,o)?a.scrollTop-=o.top-s.top:O_(s,o)&&(a.scrollTop+=s.bottom-o.bottom),B_(s,o)?a.scrollLeft-=o.left-s.left:F_(s,o)&&(a.scrollLeft+=s.right-o.right)),a=a.parentNode}function O_(a,e){return a.bottom>e.bottom}function L_(a,e){return a.top<e.top}function B_(a,e){return a.left<e.left}function F_(a,e){return a.right>e.right}function Im(a){return fp(a)?a.startContainer.ownerDocument.defaultView:a.ownerDocument.defaultView}function kE(a){if(fp(a)){let e=a.commonAncestorContainer;return Po(e)&&(e=e.parentNode),e}return a.parentNode}function j_(a,e){const i=Im(a),o=new No(a);if(i===e)return o;{let s=i;for(;s!=e;){const h=s.frameElement,g=new No(h).excludeScrollbarsAndBorders();o.moveBy(g.left,g.top),s=s.parent}}return o}const bE={ctrl:"",cmd:"",alt:"",shift:""},wE={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},io=function(){const a={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)a[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)a[e-48]=e;for(let e=112;e<=123;e++)a["f"+(e-111)]=e;for(const e of"`-=[];',./\\")a[e]=e.charCodeAt(0);return a}(),_E=Object.fromEntries(Object.entries(io).map(([a,e])=>[e,a.charAt(0).toUpperCase()+a.slice(1)]));function ga(a){let e;if(typeof a=="string"){if(e=io[a.toLowerCase()],!e)throw new at("keyboard-unknown-key",null,{key:a})}else e=a.keyCode+(a.altKey?io.alt:0)+(a.ctrlKey?io.ctrl:0)+(a.shiftKey?io.shift:0)+(a.metaKey?io.cmd:0);return e}function Mm(a){return typeof a=="string"&&(a=function(e){return e.split("+").map(i=>i.trim())}(a)),a.map(e=>typeof e=="string"?function(i){if(i.endsWith("!"))return ga(i.slice(0,-1));const o=ga(i);return ft.isMac&&o==io.ctrl?io.cmd:o}(e):e).reduce((e,i)=>i+e,0)}function z_(a){let e=Mm(a);return Object.entries(ft.isMac?bE:wE).reduce((i,[o,s])=>(e&io[o]&&(e&=~io[o],i+=s),i),"")+(e?_E[e]:"")}function Pm(a,e){const i=e==="ltr";switch(a){case io.arrowleft:return i?"left":"right";case io.arrowright:return i?"right":"left";case io.arrowup:return"up";case io.arrowdown:return"down"}}function Uo(a){return Array.isArray(a)?a:[a]}function vE(a,e,i=1){if(typeof i!="number")throw new at("translation-service-quantity-not-a-number",null,{quantity:i});const o=Object.keys(_i.window.CKEDITOR_TRANSLATIONS).length;o===1&&(a=Object.keys(_i.window.CKEDITOR_TRANSLATIONS)[0]);const s=e.id||e.string;if(o===0||!function($,et){return!!_i.window.CKEDITOR_TRANSLATIONS[$]&&!!_i.window.CKEDITOR_TRANSLATIONS[$].dictionary[et]}(a,s))return i!==1?e.plural:e.string;const h=_i.window.CKEDITOR_TRANSLATIONS[a].dictionary,g=_i.window.CKEDITOR_TRANSLATIONS[a].getPluralForm||($=>$===1?0:1),_=h[s];return typeof _=="string"?_:_[Number(g(i))]}_i.window.CKEDITOR_TRANSLATIONS||(_i.window.CKEDITOR_TRANSLATIONS={});const AE=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function V_(a){return AE.includes(a)?"rtl":"ltr"}class yE{constructor({uiLanguage:e="en",contentLanguage:i}={}){this.uiLanguage=e,this.contentLanguage=i||this.uiLanguage,this.uiLanguageDirection=V_(this.uiLanguage),this.contentLanguageDirection=V_(this.contentLanguage),this.t=(o,s)=>this._t(o,s)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,i=[]){i=Uo(i),typeof e=="string"&&(e={string:e});const o=e.plural?i[0]:1;return function(s,h){return s.replace(/%(\d+)/g,(g,_)=>_<h.length?h[_]:g)}(vE(this.uiLanguage,e,o),i)}}class mr extends tn(){constructor(e={},i={}){super();const o=yn(e);if(o||(i=e),this._items=[],this._itemMap=new Map,this._idProperty=i.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],o)for(const s of e)this._items.push(s),this._itemMap.set(this._getItemIdBeforeAdding(s),s)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,i){return this.addMany([e],i)}addMany(e,i){if(i===void 0)i=this._items.length;else if(i>this._items.length||i<0)throw new at("collection-add-item-invalid-index",this);let o=0;for(const s of e){const h=this._getItemIdBeforeAdding(s),g=i+o;this._items.splice(g,0,s),this._itemMap.set(h,s),this.fire("add",s,g),o++}return this.fire("change",{added:e,removed:[],index:i}),this}get(e){let i;if(typeof e=="string")i=this._itemMap.get(e);else{if(typeof e!="number")throw new at("collection-get-invalid-arg",this);i=this._items[e]}return i||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const i=e[this._idProperty];return i&&this._itemMap.has(i)}}getIndex(e){let i;return i=typeof e=="string"?this._itemMap.get(e):e,i?this._items.indexOf(i):-1}remove(e){const[i,o]=this._remove(e);return this.fire("change",{added:[],removed:[i],index:o}),i}map(e,i){return this._items.map(e,i)}find(e,i){return this._items.find(e,i)}filter(e,i){return this._items.filter(e,i)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new at("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:i=>{this._setUpBindToBinding(o=>new i(o))},using:i=>{typeof i=="function"?this._setUpBindToBinding(i):this._setUpBindToBinding(o=>o[i])}}}_setUpBindToBinding(e){const i=this._bindToCollection,o=(s,h,g)=>{const _=i._bindToCollection==this,$=i._bindToInternalToExternalMap.get(h);if(_&&$)this._bindToExternalToInternalMap.set(h,$),this._bindToInternalToExternalMap.set($,h);else{const et=e(h);if(!et)return void this._skippedIndexesFromExternal.push(g);let tt=g;for(const ot of this._skippedIndexesFromExternal)g>ot&&tt--;for(const ot of i._skippedIndexesFromExternal)tt>=ot&&tt++;this._bindToExternalToInternalMap.set(h,et),this._bindToInternalToExternalMap.set(et,h),this.add(et,tt);for(let ot=0;ot<i._skippedIndexesFromExternal.length;ot++)tt<=i._skippedIndexesFromExternal[ot]&&i._skippedIndexesFromExternal[ot]++}};for(const s of i)o(0,s,i.getIndex(s));this.listenTo(i,"add",o),this.listenTo(i,"remove",(s,h,g)=>{const _=this._bindToExternalToInternalMap.get(h);_&&this.remove(_),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce(($,et)=>(g<et&&$.push(et-1),g>et&&$.push(et),$),[])})}_getItemIdBeforeAdding(e){const i=this._idProperty;let o;if(i in e){if(o=e[i],typeof o!="string")throw new at("collection-add-invalid-id",this);if(this.get(o))throw new at("collection-add-item-already-exists",this)}else e[i]=o=Pt();return o}_remove(e){let i,o,s,h=!1;const g=this._idProperty;if(typeof e=="string"?(o=e,s=this._itemMap.get(o),h=!s,s&&(i=this._items.indexOf(s))):typeof e=="number"?(i=e,s=this._items[i],h=!s,s&&(o=s[g])):(s=e,o=s[g],i=this._items.indexOf(s),h=i==-1||!this._itemMap.get(o)),h)throw new at("collection-remove-404",this);this._items.splice(i,1),this._itemMap.delete(o);const _=this._bindToInternalToExternalMap.get(s);return this._bindToInternalToExternalMap.delete(s),this._bindToExternalToInternalMap.delete(_),this.fire("remove",s,i),[s,i]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function jo(a){const e=a.next();return e.done?null:e.value}class dr extends As(Lt()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new at("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class Sr{constructor(){this._listener=new(As())}listenTo(e){this._listener.listenTo(e,"keydown",(i,o)=>{this._listener.fire("_keydown:"+ga(o),o)})}set(e,i,o={}){const s=Mm(e),h=o.priority;this._listener.listenTo(this._listener,"_keydown:"+s,(g,_)=>{i(_,()=>{_.preventDefault(),_.stopPropagation(),g.stop()}),g.return=!0},{priority:h})}press(e){return!!this._listener.fire("_keydown:"+ga(e),e)}destroy(){this._listener.stopListening()}}function Tr(a){return yn(a)?new Map(a):function(e){const i=new Map;for(const o in e)i.set(o,e[o]);return i}(a)}function U_(a,e){return!!(i=a.charAt(e-1))&&i.length==1&&/[\ud800-\udbff]/.test(i)&&function(o){return!!o&&o.length==1&&/[\udc00-\udfff]/.test(o)}(a.charAt(e));var i}function H_(a,e){return!!(i=a.charAt(e))&&i.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(i);var i}const CE=function(){const a=/\p{Regional_Indicator}{2}/u.source,e="(?:"+[/\p{Emoji}[\u{E0020}-\u{E007E}]+\u{E007F}/u,/\p{Emoji}\u{FE0F}?\u{20E3}/u,/\p{Emoji}\u{FE0F}/u,/(?=\p{General_Category=Other_Symbol})\p{Emoji}\p{Emoji_Modifier}*/u].map(i=>i.source).join("|")+")";return new RegExp(`${a}|${e}(?:${e})*`,"ug")}();function EE(a,e){const i=String(a).matchAll(CE);return Array.from(i).some(o=>o.index<e&&e<o.index+o[0].length)}class ss extends mr{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(i,o,s)=>{this._renderViewIntoCollectionParent(o,s)}),this.on("remove",(i,o)=>{o.element&&this._parentElement&&o.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const i of this)this._renderViewIntoCollectionParent(i)}delegate(...e){if(!e.length||!e.every(i=>typeof i=="string"))throw new at("ui-viewcollection-delegate-wrong-events",this);return{to:i=>{for(const o of this)for(const s of e)o.delegate(s).to(i);this.on("add",(o,s)=>{for(const h of e)s.delegate(h).to(i)}),this.on("remove",(o,s)=>{for(const h of e)s.stopDelegating(h,i)})}}}_renderViewIntoCollectionParent(e,i){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[i])}}var xE=_e(6062),Hn=_e.n(xE),W_=_e(4793),SE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(W_.Z,SE),W_.Z.locals;class eo extends As(Lt()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new mr,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(i,o)=>{o.locale=e,o.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=kr.bind(this,this)}createCollection(e){const i=new ss(e);return this._viewCollections.add(i),i}registerChild(e){yn(e)||(e=[e]);for(const i of e)this._unboundChildren.add(i)}deregisterChild(e){yn(e)||(e=[e]);for(const i of e)this._unboundChildren.remove(i)}setTemplate(e){this.template=new kr(e)}extendTemplate(e){kr.extend(this.template,e)}render(){if(this.isRendered)throw new at("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}class kr extends tn(){constructor(e){super(),Object.assign(this,K_(q_(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new at("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(i){if(i.children)for(const o of i.children)bp(o)?yield o:Nm(o)&&(yield*e(o))}(this)}static bind(e,i){return{to:(o,s)=>new TE({eventNameOrFunction:o,attribute:o,observable:e,emitter:i,callback:s}),if:(o,s,h)=>new $_({observable:e,emitter:i,attribute:o,valueIfTrue:s,callback:h})}}static extend(e,i){if(e._isRendered)throw new at("template-extend-render",[this,e]);X_(e,K_(q_(i)))}_renderNode(e){let i;if(i=e.node?this.tag&&this.text:this.tag?this.text:!this.text,i)throw new at("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let i=e.node;return i||(i=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),i}_renderText(e){let i=e.node;return i?e.revertData.text=i.textContent:i=e.node=document.createTextNode(""),kp(this.text)?this._bindToObservable({schema:this.text,updater:DE(i),data:e}):i.textContent=this.text.join(""),i}_renderAttributes(e){if(!this.attributes)return;const i=e.node,o=e.revertData;for(const s in this.attributes){const h=i.getAttribute(s),g=this.attributes[s];o&&(o.attributes[s]=h);const _=J_(g)?g[0].ns:null;if(kp(g)){const $=J_(g)?g[0].value:g;o&&e0(s)&&$.unshift(h),this._bindToObservable({schema:$,updater:IE(i,s,_),data:e})}else if(s=="style"&&typeof g[0]!="string")this._renderStyleAttribute(g[0],e);else{o&&h&&e0(s)&&g.unshift(h);const $=g.map(et=>et&&et.value||et).reduce((et,tt)=>et.concat(tt),[]).reduce(Q_,"");ba($)||i.setAttributeNS(_,s,$)}}}_renderStyleAttribute(e,i){const o=i.node;for(const s in e){const h=e[s];kp(h)?this._bindToObservable({schema:[h],updater:ME(o,s),data:i}):o.style[s]=h}}_renderElementChildren(e){const i=e.node,o=e.intoFragment?document.createDocumentFragment():i,s=e.isApplying;let h=0;for(const g of this.children)if(Rm(g)){if(!s){g.setParent(i);for(const _ of g)o.appendChild(_.element)}}else if(bp(g))s||(g.isRendered||g.render(),o.appendChild(g.element));else if(rs(g))o.appendChild(g);else if(s){const _={children:[],bindings:[],attributes:{}};e.revertData.children.push(_),g._renderNode({intoFragment:!1,node:o.childNodes[h++],isApplying:!0,revertData:_})}else o.appendChild(g.render());e.intoFragment&&i.appendChild(o)}_setUpListeners(e){if(this.eventListeners)for(const i in this.eventListeners){const o=this.eventListeners[i].map(s=>{const[h,g]=i.split("@");return s.activateDomEventListener(h,g,e)});e.revertData&&e.revertData.bindings.push(o)}}_bindToObservable({schema:e,updater:i,data:o}){const s=o.revertData;G_(e,i,o);const h=e.filter(g=>!ba(g)).filter(g=>g.observable).map(g=>g.activateAttributeListener(e,i,o));s&&s.bindings.push(h)}_revertTemplateFromNode(e,i){for(const s of i.bindings)for(const h of s)h();if(i.text)return void(e.textContent=i.text);const o=e;for(const s in i.attributes){const h=i.attributes[s];h===null?o.removeAttribute(s):o.setAttribute(s,h)}for(let s=0;s<i.children.length;++s)this._revertTemplateFromNode(o.childNodes[s],i.children[s])}}class gu{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const i=this.observable[this.attribute];return this.callback?this.callback(i,e):i}activateAttributeListener(e,i,o){const s=()=>G_(e,i,o);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,s),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,s)}}}class TE extends gu{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,i,o){const s=(h,g)=>{i&&!g.target.matches(i)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(g):this.observable.fire(this.eventNameOrFunction,g))};return this.emitter.listenTo(o.node,e,s),()=>{this.emitter.stopListening(o.node,e,s)}}}class $_ extends gu{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!ba(super.getValue(e))&&(this.valueIfTrue||!0)}}function kp(a){return!!a&&(a.value&&(a=a.value),Array.isArray(a)?a.some(kp):a instanceof gu)}function G_(a,e,{node:i}){const o=function(h,g){return h.map(_=>_ instanceof gu?_.getValue(g):_)}(a,i);let s;s=a.length==1&&a[0]instanceof $_?o[0]:o.reduce(Q_,""),ba(s)?e.remove():e.set(s)}function DE(a){return{set(e){a.textContent=e},remove(){a.textContent=""}}}function IE(a,e,i){return{set(o){a.setAttributeNS(i,e,o)},remove(){a.removeAttributeNS(i,e)}}}function ME(a,e){return{set(i){a.style[e]=i},remove(){a.style[e]=null}}}function q_(a){return Js(a,e=>{if(e&&(e instanceof gu||Nm(e)||bp(e)||Rm(e)))return e})}function K_(a){if(typeof a=="string"?a=function(e){return{text:[e]}}(a):a.text&&function(e){e.text=Uo(e.text)}(a),a.on&&(a.eventListeners=function(e){for(const i in e)Y_(e,i);return e}(a.on),delete a.on),!a.text){a.attributes&&function(i){for(const o in i)i[o].value&&(i[o].value=Uo(i[o].value)),Y_(i,o)}(a.attributes);const e=[];if(a.children)if(Rm(a.children))e.push(a.children);else for(const i of a.children)Nm(i)||bp(i)||rs(i)?e.push(i):e.push(new kr(i));a.children=e}return a}function Y_(a,e){a[e]=Uo(a[e])}function Q_(a,e){return ba(e)?a:ba(a)?e:`${a} ${e}`}function Z_(a,e){for(const i in e)a[i]?a[i].push(...e[i]):a[i]=e[i]}function X_(a,e){if(e.attributes&&(a.attributes||(a.attributes={}),Z_(a.attributes,e.attributes)),e.eventListeners&&(a.eventListeners||(a.eventListeners={}),Z_(a.eventListeners,e.eventListeners)),e.text&&a.text.push(...e.text),e.children&&e.children.length){if(a.children.length!=e.children.length)throw new at("ui-template-extend-children-mismatch",a);let i=0;for(const o of e.children)X_(a.children[i++],o)}}function ba(a){return!a&&a!==0}function bp(a){return a instanceof eo}function Nm(a){return a instanceof kr}function Rm(a){return a instanceof ss}function J_(a){return Ht(a[0])&&a[0].ns}function e0(a){return a=="class"||a=="style"}class PE extends ss{constructor(e,i=[]){super(i),this.locale=e}attachToDom(){this._bodyCollectionContainer=new kr({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=on(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var t0=_e(6574),NE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(t0.Z,NE),t0.Z.locals;class Cs extends eo{constructor(){super();const e=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",e.if("isColorInherited","ck-icon_inherit-color")],viewBox:e.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const e=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),i=e.getAttribute("viewBox");i&&(this.viewBox=i);for(const{name:o,value:s}of Array.from(e.attributes))Cs.presentationalAttributeNames.includes(o)&&this.element.setAttribute(o,s);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;e.childNodes.length>0;)this.element.appendChild(e.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(e=>{e.style.fill=this.fillColor})}}Cs.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];var n0=_e(4906),RE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(n0.Z,RE),n0.Z.locals;class vo extends eo{constructor(e){super(e);const i=this.bindTemplate,o=Pt();this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(o),this.iconView=new Cs,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const s={tag:"button",attributes:{class:["ck","ck-button",i.to("class"),i.if("isEnabled","ck-disabled",h=>!h),i.if("isVisible","ck-hidden",h=>!h),i.to("isOn",h=>h?"ck-on":"ck-off"),i.if("withText","ck-button_with-text"),i.if("withKeystroke","ck-button_with-keystroke")],type:i.to("type",h=>h||"button"),tabindex:i.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${o}`,"aria-disabled":i.if("isEnabled",!0,h=>!h),"aria-pressed":i.to("isOn",h=>!!this.isToggleable&&String(!!h)),"data-cke-tooltip-text":i.to("_tooltipString"),"data-cke-tooltip-position":i.to("tooltipPosition")},children:this.children,on:{click:i.to(h=>{this.isEnabled?this.fire("execute"):h.preventDefault()})}};ft.isSafari&&(s.on.mousedown=i.to(h=>{this.focus(),h.preventDefault()})),this.setTemplate(s)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}_createLabelView(e){const i=new eo,o=this.bindTemplate;return i.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:o.to("labelStyle"),id:`ck-editor__aria-label_${e}`},children:[{text:this.bindTemplate.to("label")}]}),i}_createKeystrokeView(){const e=new eo;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",i=>z_(i))}]}),e}_getTooltipString(e,i,o){return e?typeof e=="string"?e:(o&&(o=z_(o)),e instanceof Function?e(i,o):`${i}${o?` (${o})`:""}`):""}}var i0=_e(5332),OE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(i0.Z,OE),i0.Z.locals;class wp extends vo{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new eo;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}var o0=_e(6781),LE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(o0.Z,LE),o0.Z.locals;class BE{constructor(e){this.editor=e,this._components=new Map}*names(){for(const e of this._components.values())yield e.originalName}add(e,i){this._components.set(Om(e),{callback:i,originalName:e})}create(e){if(!this.has(e))throw new at("componentfactory-item-missing",this,{name:e});return this._components.get(Om(e)).callback(this.editor.locale)}has(e){return this._components.has(Om(e))}}function Om(a){return String(a).toLowerCase()}var r0=_e(5485),FE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(r0.Z,FE),r0.Z.locals;class _a extends eo{constructor(e,i,o){super(e);const s=this.bindTemplate;this.buttonView=i,this.panelView=o,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new Sr,this.focusTracker=new dr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",s.to("class"),s.if("isEnabled","ck-disabled",h=>!h)],id:s.to("id"),"aria-describedby":s.to("ariaDescribedById")},children:[i,o]}),i.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":s.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(i,o,s)=>{s&&(this.panelPosition==="auto"?this.panelView.position=_a._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const e=(i,o)=>{this.isOpen&&(this.isOpen=!1,o())};this.keystrokes.set("arrowdown",(i,o)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,o())}),this.keystrokes.set("arrowright",(i,o)=>{this.isOpen&&o()}),this.keystrokes.set("arrowleft",e),this.keystrokes.set("esc",e)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:e,north:i,southEast:o,southWest:s,northEast:h,northWest:g,southMiddleEast:_,southMiddleWest:$,northMiddleEast:et,northMiddleWest:tt}=_a.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[o,s,_,$,e,h,g,et,tt,i]:[s,o,$,_,e,g,h,tt,et,i]}}_a.defaultPanelPositions={south:(a,e)=>({top:a.bottom,left:a.left-(e.width-a.width)/2,name:"s"}),southEast:a=>({top:a.bottom,left:a.left,name:"se"}),southWest:(a,e)=>({top:a.bottom,left:a.left-e.width+a.width,name:"sw"}),southMiddleEast:(a,e)=>({top:a.bottom,left:a.left-(e.width-a.width)/4,name:"sme"}),southMiddleWest:(a,e)=>({top:a.bottom,left:a.left-3*(e.width-a.width)/4,name:"smw"}),north:(a,e)=>({top:a.top-e.height,left:a.left-(e.width-a.width)/2,name:"n"}),northEast:(a,e)=>({top:a.top-e.height,left:a.left,name:"ne"}),northWest:(a,e)=>({top:a.top-e.height,left:a.left-e.width+a.width,name:"nw"}),northMiddleEast:(a,e)=>({top:a.top-e.height,left:a.left-(e.width-a.width)/4,name:"nme"}),northMiddleWest:(a,e)=>({top:a.top-e.height,left:a.left-3*(e.width-a.width)/4,name:"nmw"})},_a._getOptimalPosition=P_;const s0='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class jE extends vo{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",i=>String(i))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new Cs;return e.content=s0,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}var a0=_e(7686),zE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(a0.Z,zE),a0.Z.locals;class Lm extends eo{constructor(e){super(e);const i=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new Sr,this.focusTracker=new dr,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",i.to("class"),i.if("isVisible","ck-hidden",o=>!o),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,i)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),i())}),this.keystrokes.set("arrowleft",(e,i)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),i())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const e=new vo;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const e=new vo,i=e.bindTemplate;return e.icon=s0,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":i.to("isOn"),"aria-haspopup":!0,"aria-expanded":i.to("isOn",o=>String(o))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}class VE extends eo{constructor(e){super(e);const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",i.to("position",o=>`ck-dropdown__panel_${o}`),i.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:i.to(o=>o.preventDefault())}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():yt("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}class xa{constructor(e){if(this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const i in e.actions){let o=e.actions[i];typeof o=="string"&&(o=[o]);for(const s of o)e.keystrokeHandler.set(s,(h,g)=>{this[i](),g()})}}get first(){return this.focusables.find(Bm)||null}get last(){return this.focusables.filter(Bm).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((i,o)=>{const s=i.element===this.focusTracker.focusedElement;return s&&(e=o),s}),e)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(e){e&&e.focus()}_getFocusableItem(e){const i=this.current,o=this.focusables.length;if(!o)return null;if(i===null)return this[e===1?"first":"last"];let s=(i+o+e)%o;do{const h=this.focusables.get(s);if(Bm(h))return h;s=(s+o+e)%o}while(s!==i);return null}}function Bm(a){return!(!a.focus||!ys(a.element))}class l0 extends eo{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class UE extends eo{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function c0(a){return Array.isArray(a)?{items:a,removeItems:[]}:a?Object.assign({items:[],removeItems:[]},a):{items:[],removeItems:[]}}class In extends Lt(){constructor(e){super(),this.editor=e,this.set("isEnabled",!0),this._disableStack=new Set}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",d0,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",d0),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function d0(a){a.return=!1,a.stop()}class Jn extends Lt(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",i=>{this.isEnabled||i.stop()},{priority:"high"}),this.listenTo(e,"change:isReadOnly",(i,o,s)=>{s&&this.affectsData?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",u0,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",u0),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function u0(a){a.return=!1,a.stop()}class h0 extends Jn{constructor(e){super(e),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const i=this._getFirstEnabledCommand();return!!i&&i.execute(e)}registerChildCommand(e,i={}){Ot(this._childCommandsDefinitions,{command:e,priority:i.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:i})=>i.isEnabled);return e&&e.command}}class p0 extends tn(){constructor(e,i=[],o=[]){super(),this._context=e,this._plugins=new Map,this._availablePlugins=new Map;for(const s of i)s.pluginName&&this._availablePlugins.set(s.pluginName,s);this._contextPlugins=new Map;for(const[s,h]of o)this._contextPlugins.set(s,h),this._contextPlugins.set(h,s),s.pluginName&&this._availablePlugins.set(s.pluginName,s)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const i=this._plugins.get(e);if(!i){let o=e;throw typeof e=="function"&&(o=e.pluginName||e.name),new at("plugincollection-plugin-not-loaded",this._context,{plugin:o})}return i}has(e){return this._plugins.has(e)}init(e,i=[],o=[]){const s=this,h=this._context;(function St(Dt,Ft=new Set){Dt.forEach(Yt=>{$(Yt)&&(Ft.has(Yt)||(Ft.add(Yt),Yt.pluginName&&!s._availablePlugins.has(Yt.pluginName)&&s._availablePlugins.set(Yt.pluginName,Yt),Yt.requires&&St(Yt.requires,Ft)))})})(e),dt(e);const g=[...function St(Dt,Ft=new Set){return Dt.map(Yt=>$(Yt)?Yt:s._availablePlugins.get(Yt)).reduce((Yt,cn)=>Ft.has(cn)?Yt:(Ft.add(cn),cn.requires&&(dt(cn.requires,cn),St(cn.requires,Ft).forEach(wn=>Yt.add(wn))),Yt.add(cn)),new Set)}(e.filter(St=>!tt(St,i)))];(function(St,Dt){for(const Ft of Dt){if(typeof Ft!="function")throw new at("plugincollection-replace-plugin-invalid-type",null,{pluginItem:Ft});const Yt=Ft.pluginName;if(!Yt)throw new at("plugincollection-replace-plugin-missing-name",null,{pluginItem:Ft});if(Ft.requires&&Ft.requires.length)throw new at("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:Yt});const cn=s._availablePlugins.get(Yt);if(!cn)throw new at("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:Yt});const wn=St.indexOf(cn);if(wn===-1){if(s._contextPlugins.has(cn))return;throw new at("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:Yt})}if(cn.requires&&cn.requires.length)throw new at("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:Yt});St.splice(wn,1,Ft),s._availablePlugins.set(Yt,Ft)}})(g,o);const _=function(St){return St.map(Dt=>{let Ft=s._contextPlugins.get(Dt);return Ft=Ft||new Dt(h),s._add(Dt,Ft),Ft})}(g);return At(_,"init").then(()=>At(_,"afterInit")).then(()=>_);function $(St){return typeof St=="function"}function et(St){return $(St)&&St.isContextPlugin}function tt(St,Dt){return Dt.some(Ft=>Ft===St||ot(St)===Ft||ot(Ft)===St)}function ot(St){return $(St)?St.pluginName||St.name:St}function dt(St,Dt=null){St.map(Ft=>$(Ft)?Ft:s._availablePlugins.get(Ft)||Ft).forEach(Ft=>{(function(Yt,cn){if(!$(Yt))throw cn?new at("plugincollection-soft-required",h,{missingPlugin:Yt,requiredBy:ot(cn)}):new at("plugincollection-plugin-not-found",h,{plugin:Yt})})(Ft,Dt),function(Yt,cn){if(et(cn)&&!et(Yt))throw new at("plugincollection-context-required",h,{plugin:ot(Yt),requiredBy:ot(cn)})}(Ft,Dt),function(Yt,cn){if(cn&&tt(Yt,i))throw new at("plugincollection-required",h,{plugin:ot(Yt),requiredBy:ot(cn)})}(Ft,Dt)})}function At(St,Dt){return St.reduce((Ft,Yt)=>Yt[Dt]?s._contextPlugins.has(Yt)?Ft:Ft.then(Yt[Dt].bind(Yt)):Ft,Promise.resolve())}}destroy(){const e=[];for(const[,i]of this)typeof i.destroy!="function"||this._contextPlugins.has(i)||e.push(i.destroy());return Promise.all(e)}_add(e,i){this._plugins.set(e,i);const o=e.pluginName;if(o){if(this._plugins.has(o))throw new at("plugincollection-plugin-name-conflict",null,{pluginName:o,plugin1:this._plugins.get(o).constructor,plugin2:e});this._plugins.set(o,i)}}}class HE{constructor(e){this.config=new cr(e,this.constructor.defaultConfig);const i=this.constructor.builtinPlugins;this.config.define("plugins",i),this.plugins=new p0(this,i);const o=this.config.get("language")||{};this.locale=new yE({uiLanguage:typeof o=="string"?o:o.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new mr,this._contextOwner=null}initPlugins(){const e=this.config.get("plugins")||[],i=this.config.get("substitutePlugins")||[];for(const o of e.concat(i)){if(typeof o!="function")throw new at("context-initplugins-constructor-only",null,{Plugin:o});if(o.isContextPlugin!==!0)throw new at("context-initplugins-invalid-plugin",null,{Plugin:o})}return this.plugins.init(e,[],i)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,i){if(this._contextOwner)throw new at("context-addeditor-private-context");this.editors.add(e),i&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const i of this.config.names())["plugins","removePlugins","extraPlugins"].includes(i)||(e[i]=this.config.get(i));return e}static create(e){return new Promise(i=>{const o=new this(e);i(o.initPlugins().then(()=>o))})}}class _p extends Lt(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}var f0=_e(4717),WE={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(f0.Z,WE),f0.Z.locals;const vp=new WeakMap;function g0(a){const{view:e,element:i,text:o,isDirectHost:s=!0,keepOnFocus:h=!1}=a,g=e.document;vp.has(g)||(vp.set(g,new Map),g.registerPostFixer(_=>Fm(g,_)),g.on("change:isComposing",()=>{e.change(_=>Fm(g,_))},{priority:"high"})),vp.get(g).set(i,{text:o,isDirectHost:s,keepOnFocus:h,hostElement:s?i:null}),e.change(_=>Fm(g,_))}function $E(a,e){return!!e.hasClass("ck-placeholder")&&(a.removeClass("ck-placeholder",e),!0)}function Fm(a,e){const i=vp.get(a),o=[];let s=!1;for(const[h,g]of i)g.isDirectHost&&(o.push(h),m0(e,h,g)&&(s=!0));for(const[h,g]of i){if(g.isDirectHost)continue;const _=GE(h);_&&(o.includes(_)||(g.hostElement=_,m0(e,h,g)&&(s=!0)))}return s}function m0(a,e,i){const{text:o,isDirectHost:s,hostElement:h}=i;let g=!1;return h.getAttribute("data-placeholder")!==o&&(a.setAttribute("data-placeholder",o,h),g=!0),(s||e.childCount==1)&&function(_,$){if(!_.isAttached()||Array.from(_.getChildren()).some(dt=>!dt.is("uiElement")))return!1;const tt=_.document,ot=tt.selection.anchor;return!(tt.isComposing&&ot&&ot.parent===_||!$&&tt.isFocused&&(!ot||ot.parent===_))}(h,i.keepOnFocus)?function(_,$){return!$.hasClass("ck-placeholder")&&(_.addClass("ck-placeholder",$),!0)}(a,h)&&(g=!0):$E(a,h)&&(g=!0),g}function GE(a){if(a.childCount){const e=a.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class Es{is(){throw new Error("is() method is abstract")}}const k0=function(a){return nr(a,4)};class xs extends tn(Es){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new at("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let i=this;for(;i.parent;)e.unshift(i.index),i=i.parent;return e}getAncestors(e={}){const i=[];let o=e.includeSelf?this:this.parent;for(;o;)i[e.parentFirst?"push":"unshift"](o),o=o.parent;return i}getCommonAncestor(e,i={}){const o=this.getAncestors(i),s=e.getAncestors(i);let h=0;for(;o[h]==s[h]&&o[h];)h++;return h===0?null:o[h-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const i=this.getPath(),o=e.getPath(),s=_n(i,o);switch(s){case"prefix":return!0;case"extension":return!1;default:return i[s]<o[s]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,i){this.fire(`change:${e}`,i),this.parent&&this.parent._fireChange(e,i)}toJSON(){const e=k0(this);return delete e.parent,e}}xs.prototype.is=function(a){return a==="node"||a==="view:node"};class go extends xs{constructor(e,i){super(e),this._textData=i}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof go&&(this===e||this.data===e.data)}_clone(){return new go(this.document,this.data)}}go.prototype.is=function(a){return a==="$text"||a==="view:$text"||a==="text"||a==="view:text"||a==="node"||a==="view:node"};class Dr extends Es{constructor(e,i,o){if(super(),this.textNode=e,i<0||i>e.data.length)throw new at("view-textproxy-wrong-offsetintext",this);if(o<0||i+o>e.data.length)throw new at("view-textproxy-wrong-length",this);this.data=e.data.substring(i,i+o),this.offsetInText=i}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const i=[];let o=e.includeSelf?this.textNode:this.parent;for(;o!==null;)i[e.parentFirst?"push":"unshift"](o),o=o.parent;return i}}Dr.prototype.is=function(a){return a==="$textProxy"||a==="view:$textProxy"||a==="textProxy"||a==="view:textProxy"};class Ir{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let i of e)(typeof i=="string"||i instanceof RegExp)&&(i={name:i}),this._patterns.push(i)}match(...e){for(const i of e)for(const o of this._patterns){const s=b0(i,o);if(s)return{element:i,pattern:o,match:s}}return null}matchAll(...e){const i=[];for(const o of e)for(const s of this._patterns){const h=b0(o,s);h&&i.push({element:o,pattern:s,match:h})}return i.length>0?i:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],i=e.name;return typeof e=="function"||!i||i instanceof RegExp?null:i}}function b0(a,e){if(typeof e=="function")return e(a);const i={};return e.name&&(i.name=function(o,s){return o instanceof RegExp?!!s.match(o):o===s}(e.name,a.name),!i.name)||e.attributes&&(i.attributes=function(o,s){const h=new Set(s.getAttributeKeys());return jn(o)?(o.style!==void 0&&yt("matcher-pattern-deprecated-attributes-style-key",o),o.class!==void 0&&yt("matcher-pattern-deprecated-attributes-class-key",o)):(h.delete("style"),h.delete("class")),jm(o,h,g=>s.getAttribute(g))}(e.attributes,a),!i.attributes)||e.classes&&(i.classes=function(o,s){return jm(o,s.getClassNames(),()=>{})}(e.classes,a),!i.classes)||e.styles&&(i.styles=function(o,s){return jm(o,s.getStyleNames(!0),h=>s.getStyle(h))}(e.styles,a),!i.styles)?null:i}function jm(a,e,i){const o=function(g){return Array.isArray(g)?g.map(_=>jn(_)?(_.key!==void 0&&_.value!==void 0||yt("matcher-pattern-missing-key-or-value",_),[_.key,_.value]):[_,!0]):jn(g)?Object.entries(g):[[g,!0]]}(a),s=Array.from(e),h=[];if(o.forEach(([g,_])=>{s.forEach($=>{(function(et,tt){return et===!0||et===tt||et instanceof RegExp&&tt.match(et)})(g,$)&&function(et,tt,ot){if(et===!0)return!0;const dt=ot(tt);return et===dt||et instanceof RegExp&&!!String(dt).match(et)}(_,$,i)&&h.push($)})}),o.length&&!(h.length<o.length))return h}const Ap=function(a){return typeof a=="symbol"||ln(a)&&kn(a)=="[object Symbol]"};var qE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,KE=/^\w*$/;const YE=function(a,e){if(Cn(a))return!1;var i=typeof a;return!(i!="number"&&i!="symbol"&&i!="boolean"&&a!=null&&!Ap(a))||KE.test(a)||!qE.test(a)||e!=null&&a in Object(e)};function zm(a,e){if(typeof a!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var i=function(){var o=arguments,s=e?e.apply(this,o):o[0],h=i.cache;if(h.has(s))return h.get(s);var g=a.apply(this,o);return i.cache=h.set(s,g)||h,g};return i.cache=new(zm.Cache||zs),i}zm.Cache=zs;const QE=zm;var ZE=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,XE=/\\(\\)?/g,JE=function(a){var e=QE(a,function(o){return i.size===500&&i.clear(),o}),i=e.cache;return e}(function(a){var e=[];return a.charCodeAt(0)===46&&e.push(""),a.replace(ZE,function(i,o,s,h){e.push(s?h.replace(XE,"$1"):o||i)}),e});const ex=JE,tx=function(a,e){for(var i=-1,o=a==null?0:a.length,s=Array(o);++i<o;)s[i]=e(a[i],i,a);return s};var w0=Ln?Ln.prototype:void 0,_0=w0?w0.toString:void 0;const nx=function a(e){if(typeof e=="string")return e;if(Cn(e))return tx(e,a)+"";if(Ap(e))return _0?_0.call(e):"";var i=e+"";return i=="0"&&1/e==-1/0?"-0":i},Vm=function(a){return a==null?"":nx(a)},Um=function(a,e){return Cn(a)?a:YE(a,e)?[a]:ex(Vm(a))},ix=function(a){var e=a==null?0:a.length;return e?a[e-1]:void 0},Hm=function(a){if(typeof a=="string"||Ap(a))return a;var e=a+"";return e=="0"&&1/a==-1/0?"-0":e},v0=function(a,e){for(var i=0,o=(e=Um(e,a)).length;a!=null&&i<o;)a=a[Hm(e[i++])];return i&&i==o?a:void 0},A0=function(a,e,i){var o=-1,s=a.length;e<0&&(e=-e>s?0:s+e),(i=i>s?s:i)<0&&(i+=s),s=e>i?0:i-e>>>0,e>>>=0;for(var h=Array(s);++o<s;)h[o]=a[o+e];return h},ox=function(a,e){return e.length<2?a:v0(a,A0(e,0,-1))},rx=function(a,e){return e=Um(e,a),(a=ox(a,e))==null||delete a[Hm(ix(e))]},sx=function(a,e){return a==null||rx(a,e)},yp=function(a,e,i){var o=a==null?void 0:v0(a,e);return o===void 0?i:o},Wm=function(a,e,i){(i!==void 0&&!po(a[e],i)||i===void 0&&!(e in a))&&Us(a,e,i)},ax=function(a){return function(e,i,o){for(var s=-1,h=Object(e),g=o(e),_=g.length;_--;){var $=g[a?_:++s];if(i(h[$],$,h)===!1)break}return e}}(),lx=function(a){return ln(a)&&ns(a)},$m=function(a,e){if((e!=="constructor"||typeof a[e]!="function")&&e!="__proto__")return a[e]},cx=function(a){return Vr(a,is(a))},dx=function(a,e,i,o,s,h,g){var _=$m(a,i),$=$m(e,i),et=g.get($);if(et)Wm(a,i,et);else{var tt=h?h(_,$,i+"",a,e,g):void 0,ot=tt===void 0;if(ot){var dt=Cn($),At=!dt&&ts($),St=!dt&&!At&&Ys($);tt=$,dt||At||St?Cn(_)?tt=_:lx(_)?tt=nu(_):At?(ot=!1,tt=ep($,!0)):St?(ot=!1,tt=Qt($,!0)):tt=[]:jn($)||Ws($)?(tt=_,Ws(_)?tt=cx(_):Ht(_)&&!jr(_)||(tt=qn($))):ot=!1}ot&&(g.set($,tt),s(tt,$,o,h,g),g.delete($)),Wm(a,i,tt)}},ux=function a(e,i,o,s,h){e!==i&&ax(i,function(g,_){if(h||(h=new ks),Ht(g))dx(e,i,_,o,a,s,h);else{var $=s?s($m(e,_),g,_+"",e,i,h):void 0;$===void 0&&($=g),Wm(e,_,$)}},is)},Ss=function(a){return a},hx=function(a,e,i){switch(i.length){case 0:return a.call(e);case 1:return a.call(e,i[0]);case 2:return a.call(e,i[0],i[1]);case 3:return a.call(e,i[0],i[1],i[2])}return a.apply(e,i)};var y0=Math.max;const px=function(a,e,i){return e=y0(e===void 0?a.length-1:e,0),function(){for(var o=arguments,s=-1,h=y0(o.length-e,0),g=Array(h);++s<h;)g[s]=o[e+s];s=-1;for(var _=Array(e+1);++s<e;)_[s]=o[s];return _[e]=i(g),hx(a,this,_)}},fx=function(a){return function(){return a}},gx=Vs?function(a,e){return Vs(a,"toString",{configurable:!0,enumerable:!1,value:fx(e),writable:!0})}:Ss;var mx=Date.now;const kx=function(a){var e=0,i=0;return function(){var o=mx(),s=16-(o-i);if(i=o,s>0){if(++e>=800)return arguments[0]}else e=0;return a.apply(void 0,arguments)}}(gx),bx=function(a,e){return kx(px(a,e,Ss),a+"")},wx=function(a,e,i){if(!Ht(i))return!1;var o=typeof e;return!!(o=="number"?ns(i)&&Gs(e,i.length):o=="string"&&e in i)&&po(i[e],a)},C0=function(a){return bx(function(e,i){var o=-1,s=i.length,h=s>1?i[s-1]:void 0,g=s>2?i[2]:void 0;for(h=a.length>3&&typeof h=="function"?(s--,h):void 0,g&&wx(i[0],i[1],g)&&(h=s<3?void 0:h,s=1),e=Object(e);++o<s;){var _=i[o];_&&a(e,_,o,h)}return e})},E0=C0(function(a,e,i){ux(a,e,i)}),_x=function(a,e,i,o){if(!Ht(a))return a;for(var s=-1,h=(e=Um(e,a)).length,g=h-1,_=a;_!=null&&++s<h;){var $=Hm(e[s]),et=i;if($==="__proto__"||$==="constructor"||$==="prototype")return a;if(s!=g){var tt=_[$];(et=o?o(tt,$,_):void 0)===void 0&&(et=Ht(tt)?tt:Gs(e[s+1])?[]:{})}Hs(_,$,et),_=_[$]}return a},vx=function(a,e,i){return a==null?a:_x(a,e,i)};class Ax{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const i=Array.from(function(o){let s=null,h=0,g=0,_=null;const $=new Map;if(o==="")return $;o.charAt(o.length-1)!=";"&&(o+=";");for(let et=0;et<o.length;et++){const tt=o.charAt(et);if(s===null)switch(tt){case":":_||(_=o.substr(h,et-h),g=et+1);break;case'"':case"'":s=tt;break;case";":{const ot=o.substr(g,et-g);_&&$.set(_.trim(),ot.trim()),_=null,h=et+1;break}}else tt===s&&(s=null)}return $}(e).entries());for(const[o,s]of i)this._styleProcessor.toNormalizedForm(o,s,this._styles)}has(e){if(this.isEmpty)return!1;const i=this._styleProcessor.getReducedForm(e,this._styles).find(([o])=>o===e);return Array.isArray(i)}set(e,i){if(Ht(e))for(const[o,s]of Object.entries(e))this._styleProcessor.toNormalizedForm(o,s,this._styles);else this._styleProcessor.toNormalizedForm(e,i,this._styles)}remove(e){const i=Gm(e);sx(this._styles,i),delete this._styles[e],this._cleanEmptyObjectsOnPath(i)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!Ht(this._styles[e]))return this._styles[e];const i=this._styleProcessor.getReducedForm(e,this._styles).find(([o])=>o===e);return Array.isArray(i)?i[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([i])=>i)}clear(){this._styles={}}_getStylesEntries(){const e=[],i=Object.keys(this._styles);for(const o of i)e.push(...this._styleProcessor.getReducedForm(o,this._styles));return e}_cleanEmptyObjectsOnPath(e){const i=e.split(".");if(!(i.length>1))return;const o=i.splice(0,i.length-1).join("."),s=yp(this._styles,o);s&&!Array.from(Object.keys(s)).length&&this.remove(o)}}class yx{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,i,o){if(Ht(i))qm(o,Gm(e),i);else if(this._normalizers.has(e)){const s=this._normalizers.get(e),{path:h,value:g}=s(i);qm(o,h,g)}else qm(o,e,i)}getNormalized(e,i){if(!e)return E0({},i);if(i[e]!==void 0)return i[e];if(this._extractors.has(e)){const o=this._extractors.get(e);if(typeof o=="string")return yp(i,o);const s=o(e,i);if(s)return s}return yp(i,Gm(e))}getReducedForm(e,i){const o=this.getNormalized(e,i);return o===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(o):[[e,o]]}getStyleNames(e){const i=Array.from(this._consumables.keys()).filter(s=>{const h=this.getNormalized(s,e);return h&&typeof h=="object"?Object.keys(h).length:h}),o=new Set([...i,...Object.keys(e)]);return Array.from(o.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,i){this._normalizers.set(e,i)}setExtractor(e,i){this._extractors.set(e,i)}setReducer(e,i){this._reducers.set(e,i)}setStyleRelation(e,i){this._mapStyleNames(e,i);for(const o of i)this._mapStyleNames(o,[e])}_mapStyleNames(e,i){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...i)}}function Gm(a){return a.replace("-",".")}function qm(a,e,i){let o=i;Ht(i)&&(o=E0({},yp(a,e),i)),vx(a,e,o)}class ir extends xs{constructor(e,i,o,s){if(super(e),this.name=i,this._attrs=function(h){const g=Tr(h);for(const[_,$]of g)$===null?g.delete(_):typeof $!="string"&&g.set(_,String($));return g}(o),this._children=[],s&&this._insertChild(0,s),this._classes=new Set,this._attrs.has("class")){const h=this._attrs.get("class");x0(this._classes,h),this._attrs.delete("class")}this._styles=new Ax(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map,this._unsafeAttributesToRender=[]}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const i=this._styles.toString();return i==""?void 0:i}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof ir))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[i,o]of this._attrs)if(!e._attrs.has(i)||e._attrs.get(i)!==o)return!1;for(const i of this._classes)if(!e._classes.has(i))return!1;for(const i of this._styles.getStyleNames())if(!e._styles.has(i)||e._styles.getAsString(i)!==this._styles.getAsString(i))return!1;return!0}hasClass(...e){for(const i of e)if(!this._classes.has(i))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const i of e)if(!this._styles.has(i))return!1;return!0}findAncestor(...e){const i=new Ir(...e);let o=this.parent;for(;o&&!o.is("documentFragment");){if(i.match(o))return o;o=o.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),i=this._styles.toString(),o=Array.from(this._attrs).map(s=>`${s[0]}="${s[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(i?` style="${i}"`:"")+(o==""?"":` ${o}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const i=[];if(e)for(const s of this.getChildren())i.push(s._clone(e));const o=new this.constructor(this.document,this.name,this._attrs,i);return o._classes=new Set(this._classes),o._styles.set(this._styles.getNormalized()),o._customProperties=new Map(this._customProperties),o.getFillerOffset=this.getFillerOffset,o._unsafeAttributesToRender=this._unsafeAttributesToRender,o}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,i){this._fireChange("children",this);let o=0;const s=function(h,g){return typeof g=="string"?[new go(h,g)]:(yn(g)||(g=[g]),Array.from(g).map(_=>typeof _=="string"?new go(h,_):_ instanceof Dr?new go(h,_.data):_))}(this.document,i);for(const h of s)h.parent!==null&&h._remove(),h.parent=this,h.document=this.document,this._children.splice(e,0,h),e++,o++;return o}_removeChildren(e,i=1){this._fireChange("children",this);for(let o=e;o<e+i;o++)this._children[o].parent=null;return this._children.splice(e,i)}_setAttribute(e,i){const o=String(i);this._fireChange("attributes",this),e=="class"?x0(this._classes,o):e=="style"?this._styles.setTo(o):this._attrs.set(e,o)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const i of Uo(e))this._classes.add(i)}_removeClass(e){this._fireChange("attributes",this);for(const i of Uo(e))this._classes.delete(i)}_setStyle(e,i){this._fireChange("attributes",this),jn(e)?this._styles.set(e):this._styles.set(e,i)}_removeStyle(e){this._fireChange("attributes",this);for(const i of Uo(e))this._styles.remove(i)}_setCustomProperty(e,i){this._customProperties.set(e,i)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function x0(a,e){const i=e.split(/\s+/);a.clear(),i.forEach(o=>a.add(o))}ir.prototype.is=function(a,e){return e?e===this.name&&(a==="element"||a==="view:element"):a==="element"||a==="view:element"||a==="node"||a==="view:node"};class mu extends ir{constructor(...e){super(...e),this.getFillerOffset=S0}}function S0(){const a=[...this.getChildren()],e=a[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const i of a)if(!i.is("uiElement"))return null;return this.childCount}mu.prototype.is=function(a,e){return e?e===this.name&&(a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Cp extends Lt(mu){constructor(...e){super(...e);const i=e[0];this.set("isReadOnly",!1),this.set("isFocused",!1),this.bind("isReadOnly").to(i),this.bind("isFocused").to(i,"isFocused",o=>o&&i.selection.editableElement==this),this.listenTo(i.selection,"change",()=>{this.isFocused=i.isFocused&&i.selection.editableElement==this})}destroy(){this.stopListening()}}Cp.prototype.is=function(a,e){return e?e===this.name&&(a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};const T0=Symbol("rootName");class D0 extends Cp{constructor(e,i){super(e,i),this.rootName="main"}get rootName(){return this.getCustomProperty(T0)}set rootName(e){this._setCustomProperty(T0,e)}set _name(e){this.name=e}}D0.prototype.is=function(a,e){return e?e===this.name&&(a==="rootElement"||a==="view:rootElement"||a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="rootElement"||a==="view:rootElement"||a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Ts{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new at("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new at("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this.position=Rn._createAt(e.startPosition):this.position=Rn._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(e){let i,o,s;do s=this.position,{done:i,value:o}=this.next();while(!i&&e(o));i||(this.position=s)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const i=this.position,o=e.parent;if(o.parent===null&&e.offset===o.childCount)return{done:!0,value:void 0};if(o===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let s;if(o instanceof go){if(e.isAtEnd)return this.position=Rn._createAfter(o),this._next();s=o.data[e.offset]}else s=o.getChild(e.offset);if(s instanceof ir)return this.shallow?e.offset++:e=new Rn(s,0),this.position=e,this._formatReturnValue("elementStart",s,i,e,1);if(s instanceof go){if(this.singleCharacters)return e=new Rn(s,0),this.position=e,this._next();{let h,g=s.data.length;return s==this._boundaryEndParent?(g=this.boundaries.end.offset,h=new Dr(s,0,g),e=Rn._createAfter(h)):(h=new Dr(s,0,s.data.length),e.offset++),this.position=e,this._formatReturnValue("text",h,i,e,g)}}if(typeof s=="string"){let h;this.singleCharacters?h=1:h=(o===this._boundaryEndParent?this.boundaries.end.offset:o.data.length)-e.offset;const g=new Dr(o,e.offset,h);return e.offset+=h,this.position=e,this._formatReturnValue("text",g,i,e,h)}return e=Rn._createAfter(o),this.position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",o,i,e)}_previous(){let e=this.position.clone();const i=this.position,o=e.parent;if(o.parent===null&&e.offset===0)return{done:!0,value:void 0};if(o==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let s;if(o instanceof go){if(e.isAtStart)return this.position=Rn._createBefore(o),this._previous();s=o.data[e.offset-1]}else s=o.getChild(e.offset-1);if(s instanceof ir)return this.shallow?(e.offset--,this.position=e,this._formatReturnValue("elementStart",s,i,e,1)):(e=new Rn(s,s.childCount),this.position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",s,i,e));if(s instanceof go){if(this.singleCharacters)return e=new Rn(s,s.data.length),this.position=e,this._previous();{let h,g=s.data.length;if(s==this._boundaryStartParent){const _=this.boundaries.start.offset;h=new Dr(s,_,s.data.length-_),g=h.data.length,e=Rn._createBefore(h)}else h=new Dr(s,0,s.data.length),e.offset--;return this.position=e,this._formatReturnValue("text",h,i,e,g)}}if(typeof s=="string"){let h;if(this.singleCharacters)h=1;else{const _=o===this._boundaryStartParent?this.boundaries.start.offset:0;h=e.offset-_}e.offset-=h;const g=new Dr(o,e.offset,h);return this.position=e,this._formatReturnValue("text",g,i,e,h)}return e=Rn._createBefore(o),this.position=e,this._formatReturnValue("elementStart",o,i,e,1)}_formatReturnValue(e,i,o,s,h){return i instanceof Dr&&(i.offsetInText+i.data.length==i.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?o=Rn._createAfter(i.textNode):(s=Rn._createAfter(i.textNode),this.position=s)),i.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?o=Rn._createBefore(i.textNode):(s=Rn._createBefore(i.textNode),this.position=s))),{done:!1,value:{type:e,item:i,previousPosition:o,nextPosition:s,length:h}}}}class Rn extends Es{constructor(e,i){super(),this.parent=e,this.offset=i}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Cp);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const i=Rn._createAt(this),o=i.offset+e;return i.offset=o<0?0:o,i}getLastMatchingPosition(e,i={}){i.startPosition=this;const o=new Ts(i);return o.skip(e),o.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const i=this.getAncestors(),o=e.getAncestors();let s=0;for(;i[s]==o[s]&&i[s];)s++;return s===0?null:i[s-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const i=this.parent.is("node")?this.parent.getPath():[],o=e.parent.is("node")?e.parent.getPath():[];i.push(this.offset),o.push(e.offset);const s=_n(i,o);switch(s){case"prefix":return"before";case"extension":return"after";default:return i[s]<o[s]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Ts(e)}clone(){return new Rn(this.parent,this.offset)}static _createAt(e,i){if(e instanceof Rn)return new this(e.parent,e.offset);{const o=e;if(i=="end")i=o.is("$text")?o.data.length:o.childCount;else{if(i=="before")return this._createBefore(o);if(i=="after")return this._createAfter(o);if(i!==0&&!i)throw new at("view-createpositionat-offset-required",o)}return new Rn(o,i)}}static _createAfter(e){if(e.is("$textProxy"))return new Rn(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new at("view-position-after-root",e,{root:e});return new Rn(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new Rn(e.textNode,e.offsetInText);if(!e.parent)throw new at("view-position-before-root",e,{root:e});return new Rn(e.parent,e.index)}}Rn.prototype.is=function(a){return a==="position"||a==="view:position"};class Wn extends Es{constructor(e,i=null){super(),this.start=e.clone(),this.end=i?i.clone():e.clone()}*[Symbol.iterator](){yield*new Ts({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Ep,{direction:"backward"}),i=this.end.getLastMatchingPosition(Ep);return e.parent.is("$text")&&e.isAtStart&&(e=Rn._createBefore(e.parent)),i.parent.is("$text")&&i.isAtEnd&&(i=Rn._createAfter(i.parent)),new Wn(e,i)}getTrimmed(){let e=this.start.getLastMatchingPosition(Ep);if(e.isAfter(this.end)||e.isEqual(this.end))return new Wn(e,e);let i=this.end.getLastMatchingPosition(Ep,{direction:"backward"});const o=e.nodeAfter,s=i.nodeBefore;return o&&o.is("$text")&&(e=new Rn(o,0)),s&&s.is("$text")&&(i=new Rn(s,s.data.length)),new Wn(e,i)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,i=!1){e.isCollapsed&&(i=!1);const o=this.containsPosition(e.start)||i&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||i&&this.end.isEqual(e.end);return o&&s}getDifference(e){const i=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&i.push(new Wn(this.start,e.start)),this.containsPosition(e.end)&&i.push(new Wn(e.end,this.end))):i.push(this.clone()),i}getIntersection(e){if(this.isIntersecting(e)){let i=this.start,o=this.end;return this.containsPosition(e.start)&&(i=e.start),this.containsPosition(e.end)&&(o=e.end),new Wn(i,o)}return null}getWalker(e={}){return e.boundaries=this,new Ts(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,i=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(i=this.end.parent.previousSibling),e&&e.is("element")&&e===i?e:null}clone(){return new Wn(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const i=new Ts(e);for(const o of i)yield o.item}*getPositions(e={}){e.boundaries=this;const i=new Ts(e);yield i.position;for(const o of i)yield o.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,i,o,s){return new this(new Rn(e,i),new Rn(o,s))}static _createFromPositionAndShift(e,i){const o=e,s=e.getShiftedBy(i);return i>0?new this(o,s):new this(s,o)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const i=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(Rn._createBefore(e),i)}}function Ep(a){return!(!a.item.is("attributeElement")&&!a.item.is("uiElement"))}Wn.prototype.is=function(a){return a==="range"||a==="view:range"};class Mr extends tn(Es){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const i of this._ranges)e&&!i.start.isBefore(e.start)||(e=i);return e?e.clone():null}getLastRange(){let e=null;for(const i of this._ranges)e&&!i.end.isAfter(e.end)||(e=i);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const i of this._ranges){let o=!1;for(const s of e._ranges)if(i.isEqual(s)){o=!0;break}if(!o)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const i=pn(this.getRanges());if(i!=pn(e.getRanges()))return!1;if(i==0)return!0;for(let o of this.getRanges()){o=o.getTrimmed();let s=!1;for(let h of e.getRanges())if(h=h.getTrimmed(),o.start.isEqual(h.start)&&o.end.isEqual(h.end)){s=!0;break}if(!s)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[i,o,s]=e;if(typeof o=="object"&&(s=o,o=void 0),i===null)this._setRanges([]),this._setFakeOptions(s);else if(i instanceof Mr||i instanceof Km)this._setRanges(i.getRanges(),i.isBackward),this._setFakeOptions({fake:i.isFake,label:i.fakeSelectionLabel});else if(i instanceof Wn)this._setRanges([i],s&&s.backward),this._setFakeOptions(s);else if(i instanceof Rn)this._setRanges([new Wn(i)]),this._setFakeOptions(s);else if(i instanceof xs){const h=!!s&&!!s.backward;let g;if(o===void 0)throw new at("view-selection-setto-required-second-parameter",this);g=o=="in"?Wn._createIn(i):o=="on"?Wn._createOn(i):new Wn(Rn._createAt(i,o)),this._setRanges([g],h),this._setFakeOptions(s)}else{if(!yn(i))throw new at("view-selection-setto-not-selectable",this);this._setRanges(i,s&&s.backward),this._setFakeOptions(s)}this.fire("change")}setFocus(e,i){if(this.anchor===null)throw new at("view-selection-setfocus-no-ranges",this);const o=Rn._createAt(e,i);if(o.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.pop(),o.compareWith(s)=="before"?this._addRange(new Wn(o,s),!0):this._addRange(new Wn(s,o)),this.fire("change")}_setRanges(e,i=!1){e=Array.from(e),this._ranges=[];for(const o of e)this._addRange(o);this._lastRangeBackward=!!i}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,i=!1){if(!(e instanceof Wn))throw new at("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!i}_pushRange(e){for(const i of this._ranges)if(e.isIntersecting(i))throw new at("view-selection-range-intersects",this,{addedRange:e,intersectingRange:i});this._ranges.push(new Wn(e.start,e.end))}}Mr.prototype.is=function(a){return a==="selection"||a==="view:selection"};class Km extends tn(Es){constructor(...e){super(),this._selection=new Mr,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,i){this._selection.setFocus(e,i)}}Km.prototype.is=function(a){return a==="selection"||a=="documentSelection"||a=="view:selection"||a=="view:documentSelection"};class $a extends pt{constructor(e,i,o){super(e,i),this.startRange=o,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const Ym=Symbol("bubbling contexts");function Qm(a){return class extends a{fire(e,...i){try{const o=e instanceof pt?e:new pt(this,e),s=Zm(this);if(!s.size)return;if(ku(o,"capturing",this),_l(s,"$capture",o,...i))return o.return;const h=o.startRange||this.selection.getFirstRange(),g=h?h.getContainedElement():null,_=!!g&&Boolean(I0(s,g));let $=g||function(et){if(!et)return null;const tt=et.start.parent,ot=et.end.parent,dt=tt.getPath(),At=ot.getPath();return dt.length>At.length?tt:ot}(h);if(ku(o,"atTarget",$),!_){if(_l(s,"$text",o,...i))return o.return;ku(o,"bubbling",$)}for(;$;){if($.is("rootElement")){if(_l(s,"$root",o,...i))return o.return}else if($.is("element")&&_l(s,$.name,o,...i))return o.return;if(_l(s,$,o,...i))return o.return;$=$.parent,ku(o,"bubbling",$)}return ku(o,"bubbling",this),_l(s,"$document",o,...i),o.return}catch(o){at.rethrowUnexpectedError(o,this)}}_addEventListener(e,i,o){const s=Uo(o.context||"$document"),h=Zm(this);for(const g of s){let _=h.get(g);_||(_=new(tn()),h.set(g,_)),this.listenTo(_,e,i,o)}}_removeEventListener(e,i){const o=Zm(this);for(const s of o.values())this.stopListening(s,e,i)}}}{const a=Qm(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{Qm[e]=a.prototype[e]})}function ku(a,e,i){a instanceof $a&&(a._eventPhase=e,a._currentTarget=i)}function _l(a,e,i,...o){const s=typeof e=="string"?a.get(e):I0(a,e);return!!s&&(s.fire(i,...o),i.stop.called)}function I0(a,e){for(const[i,o]of a)if(typeof i=="function"&&i(e))return o;return null}function Zm(a){return a[Ym]||(a[Ym]=new Map),a[Ym]}class xp extends Qm(Lt()){constructor(e){super(),this.selection=new Km,this.roots=new mr({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let i=!1;do for(const o of this._postFixers)if(i=o(e),i)break;while(i)}}class Ds extends ir{constructor(...e){super(...e),this.getFillerOffset=Cx,this._priority=10,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new at("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const i=super._clone(e);return i._priority=this._priority,i._id=this._id,i}}function Cx(){if(Xm(this))return null;let a=this.parent;for(;a&&a.is("attributeElement");){if(Xm(a)>1)return null;a=a.parent}return!a||Xm(a)>1?null:this.childCount}function Xm(a){return Array.from(a.getChildren()).filter(e=>!e.is("uiElement")).length}Ds.DEFAULT_PRIORITY=10,Ds.prototype.is=function(a,e){return e?e===this.name&&(a==="attributeElement"||a==="view:attributeElement"||a==="element"||a==="view:element"):a==="attributeElement"||a==="view:attributeElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Jm extends ir{constructor(e,i,o,s){super(e,i,o,s),this.getFillerOffset=Ex}_insertChild(e,i){if(i&&(i instanceof xs||Array.from(i).length>0))throw new at("view-emptyelement-cannot-add",[this,i]);return 0}}function Ex(){return null}Jm.prototype.is=function(a,e){return e?e===this.name&&(a==="emptyElement"||a==="view:emptyElement"||a==="element"||a==="view:element"):a==="emptyElement"||a==="view:emptyElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Sp extends ir{constructor(...e){super(...e),this.getFillerOffset=Sx}_insertChild(e,i){if(i&&(i instanceof xs||Array.from(i).length>0))throw new at("view-uielement-cannot-add",[this,i]);return 0}render(e,i){return this.toDomElement(e)}toDomElement(e){const i=e.createElement(this.name);for(const o of this.getAttributeKeys())i.setAttribute(o,this.getAttribute(o));return i}}function xx(a){a.document.on("arrowKey",(e,i)=>function(o,s,h){if(s.keyCode==io.arrowright){const g=s.domTarget.ownerDocument.defaultView.getSelection(),_=g.rangeCount==1&&g.getRangeAt(0).collapsed;if(_||s.shiftKey){const $=g.focusNode,et=g.focusOffset,tt=h.domPositionToView($,et);if(tt===null)return;let ot=!1;const dt=tt.getLastMatchingPosition(At=>(At.item.is("uiElement")&&(ot=!0),!(!At.item.is("uiElement")&&!At.item.is("attributeElement"))));if(ot){const At=h.viewPositionToDom(dt);_?g.collapse(At.parent,At.offset):g.extend(At.parent,At.offset)}}}}(0,i,a.domConverter),{priority:"low"})}function Sx(){return null}Sp.prototype.is=function(a,e){return e?e===this.name&&(a==="uiElement"||a==="view:uiElement"||a==="element"||a==="view:element"):a==="uiElement"||a==="view:uiElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class _k extends ir{constructor(...e){super(...e),this.getFillerOffset=Tx}_insertChild(e,i){if(i&&(i instanceof xs||Array.from(i).length>0))throw new at("view-rawelement-cannot-add",[this,i]);return 0}render(){}}function Tx(){return null}_k.prototype.is=function(a,e){return e?e===this.name&&(a==="rawElement"||a==="view:rawElement"||a==="element"||a==="view:element"):a==="rawElement"||a==="view:rawElement"||a===this.name||a==="view:"+this.name||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Is extends tn(Es){constructor(e,i){super(),this.document=e,this._children=[],i&&this._insertChild(0,i),this._customProperties=new Map}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,i){this._fireChange("children",this);let o=0;const s=function(h,g){return typeof g=="string"?[new go(h,g)]:(yn(g)||(g=[g]),Array.from(g).map(_=>typeof _=="string"?new go(h,_):_ instanceof Dr?new go(h,_.data):_))}(this.document,i);for(const h of s)h.parent!==null&&h._remove(),h.parent=this,this._children.splice(e,0,h),e++,o++;return o}_removeChildren(e,i=1){this._fireChange("children",this);for(let o=e;o<e+i;o++)this._children[o].parent=null;return this._children.splice(e,i)}_fireChange(e,i){this.fire("change:"+e,i)}_setCustomProperty(e,i){this._customProperties.set(e,i)}_removeCustomProperty(e){return this._customProperties.delete(e)}}Is.prototype.is=function(a){return a==="documentFragment"||a==="view:documentFragment"};class M0{constructor(e){this.document=e,this._cloneGroups=new Map,this._slotFactory=null}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(...e){this.document.selection._setFocus(...e)}createDocumentFragment(e){return new Is(this.document,e)}createText(e){return new go(this.document,e)}createAttributeElement(e,i,o={}){const s=new Ds(this.document,e,i);return typeof o.priority=="number"&&(s._priority=o.priority),o.id&&(s._id=o.id),o.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),s}createContainerElement(e,i,o={},s={}){let h=null;jn(o)?s=o:h=o;const g=new mu(this.document,e,i,h);return s.renderUnsafeAttributes&&g._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),g}createEditableElement(e,i,o={}){const s=new Cp(this.document,e,i);return o.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),s}createEmptyElement(e,i,o={}){const s=new Jm(this.document,e,i);return o.renderUnsafeAttributes&&s._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),s}createUIElement(e,i,o){const s=new Sp(this.document,e,i);return o&&(s.render=o),s}createRawElement(e,i,o,s={}){const h=new _k(this.document,e,i);return o&&(h.render=o),s.renderUnsafeAttributes&&h._unsafeAttributesToRender.push(...s.renderUnsafeAttributes),h}setAttribute(e,i,o){o._setAttribute(e,i)}removeAttribute(e,i){i._removeAttribute(e)}addClass(e,i){i._addClass(e)}removeClass(e,i){i._removeClass(e)}setStyle(e,i,o){jn(e)&&o===void 0?i._setStyle(e):o._setStyle(e,i)}removeStyle(e,i){i._removeStyle(e)}setCustomProperty(e,i,o){o._setCustomProperty(e,i)}removeCustomProperty(e,i){return i._removeCustomProperty(e)}breakAttributes(e){return e instanceof Rn?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const i=e.parent;if(!i.is("containerElement"))throw new at("view-writer-break-non-container-element",this.document);if(!i.parent)throw new at("view-writer-break-root",this.document);if(e.isAtStart)return Rn._createBefore(i);if(!e.isAtEnd){const o=i._clone(!1);this.insert(Rn._createAfter(i),o);const s=new Wn(e,Rn._createAt(i,"end")),h=new Rn(o,0);this.move(s,h)}return Rn._createAfter(i)}mergeAttributes(e){const i=e.offset,o=e.parent;if(o.is("$text"))return e;if(o.is("attributeElement")&&o.childCount===0){const g=o.parent,_=o.index;return o._remove(),this._removeFromClonedElementsGroup(o),this.mergeAttributes(new Rn(g,_))}const s=o.getChild(i-1),h=o.getChild(i);if(!s||!h)return e;if(s.is("$text")&&h.is("$text"))return N0(s,h);if(s.is("attributeElement")&&h.is("attributeElement")&&s.isSimilar(h)){const g=s.childCount;return s._appendChild(h.getChildren()),h._remove(),this._removeFromClonedElementsGroup(h),this.mergeAttributes(new Rn(s,g))}return e}mergeContainers(e){const i=e.nodeBefore,o=e.nodeAfter;if(!(i&&o&&i.is("containerElement")&&o.is("containerElement")))throw new at("view-writer-merge-containers-invalid-position",this.document);const s=i.getChild(i.childCount-1),h=s instanceof go?Rn._createAt(s,"end"):Rn._createAt(i,"end");return this.move(Wn._createIn(o),Rn._createAt(i,"end")),this.remove(Wn._createOn(o)),h}insert(e,i){R0(i=yn(i)?[...i]:[i],this.document);const o=i.reduce((g,_)=>{const $=g[g.length-1],et=!_.is("uiElement");return $&&$.breakAttributes==et?$.nodes.push(_):g.push({breakAttributes:et,nodes:[_]}),g},[]);let s=null,h=e;for(const{nodes:g,breakAttributes:_}of o){const $=this._insertNodes(h,g,_);s||(s=$.start),h=$.end}return s?new Wn(s,h):new Wn(e)}remove(e){const i=e instanceof Wn?e:Wn._createOn(e);if(bu(i,this.document),i.isCollapsed)return new Is(this.document);const{start:o,end:s}=this._breakAttributesRange(i,!0),h=o.parent,g=s.offset-o.offset,_=h._removeChildren(o.offset,g);for(const et of _)this._removeFromClonedElementsGroup(et);const $=this.mergeAttributes(o);return i.start=$,i.end=$.clone(),new Is(this.document,_)}clear(e,i){bu(e,this.document);const o=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const s of o){const h=s.item;let g;if(h.is("element")&&i.isSimilar(h))g=Wn._createOn(h);else if(!s.nextPosition.isAfter(e.start)&&h.is("$textProxy")){const _=h.getAncestors().find($=>$.is("element")&&i.isSimilar($));_&&(g=Wn._createIn(_))}g&&(g.end.isAfter(e.end)&&(g.end=e.end),g.start.isBefore(e.start)&&(g.start=e.start),this.remove(g))}}move(e,i){let o;if(i.isAfter(e.end)){const s=(i=this._breakAttributes(i,!0)).parent,h=s.childCount;e=this._breakAttributesRange(e,!0),o=this.remove(e),i.offset+=s.childCount-h}else o=this.remove(e);return this.insert(i,o)}wrap(e,i){if(!(i instanceof Ds))throw new at("view-writer-wrap-invalid-attribute",this.document);if(bu(e,this.document),e.isCollapsed){let s=e.start;s.parent.is("element")&&(o=s.parent,!Array.from(o.getChildren()).some(g=>!g.is("uiElement")))&&(s=s.getLastMatchingPosition(g=>g.item.is("uiElement"))),s=this._wrapPosition(s,i);const h=this.document.selection;return h.isCollapsed&&h.getFirstPosition().isEqual(e.start)&&this.setSelection(s),new Wn(s)}return this._wrapRange(e,i);var o}unwrap(e,i){if(!(i instanceof Ds))throw new at("view-writer-unwrap-invalid-attribute",this.document);if(bu(e,this.document),e.isCollapsed)return e;const{start:o,end:s}=this._breakAttributesRange(e,!0),h=o.parent,g=this._unwrapChildren(h,o.offset,s.offset,i),_=this.mergeAttributes(g.start);_.isEqual(g.start)||g.end.offset--;const $=this.mergeAttributes(g.end);return new Wn(_,$)}rename(e,i){const o=new mu(this.document,e,i.getAttributes());return this.insert(Rn._createAfter(i),o),this.move(Wn._createIn(i),Rn._createAt(o,0)),this.remove(Wn._createOn(i)),o}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,i){return Rn._createAt(e,i)}createPositionAfter(e){return Rn._createAfter(e)}createPositionBefore(e){return Rn._createBefore(e)}createRange(...e){return new Wn(...e)}createRangeOn(e){return Wn._createOn(e)}createRangeIn(e){return Wn._createIn(e)}createSelection(...e){return new Mr(...e)}createSlot(e){if(!this._slotFactory)throw new at("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,i,o){let s,h;if(s=o?_b(e):e.parent.is("$text")?e.parent.parent:e.parent,!s)throw new at("view-writer-invalid-position-container",this.document);h=o?this._breakAttributes(e,!0):e.parent.is("$text")?ew(e):e;const g=s._insertChild(h.offset,i);for(const tt of i)this._addToClonedElementsGroup(tt);const _=h.getShiftedBy(g),$=this.mergeAttributes(h);$.isEqual(h)||_.offset--;const et=this.mergeAttributes(_);return new Wn($,et)}_wrapChildren(e,i,o,s){let h=i;const g=[];for(;h<o;){const $=e.getChild(h),et=$.is("$text"),tt=$.is("attributeElement");if(tt&&this._wrapAttributeElement(s,$))g.push(new Rn(e,h));else if(et||!tt||Dx(s,$)){const ot=s._clone();$._remove(),ot._appendChild($),e._insertChild(h,ot),this._addToClonedElementsGroup(ot),g.push(new Rn(e,h))}else this._wrapChildren($,0,$.childCount,s);h++}let _=0;for(const $ of g)$.offset-=_,$.offset!=i&&(this.mergeAttributes($).isEqual($)||(_++,o--));return Wn._createFromParentsAndOffsets(e,i,e,o)}_unwrapChildren(e,i,o,s){let h=i;const g=[];for(;h<o;){const $=e.getChild(h);if($.is("attributeElement"))if($.isSimilar(s)){const et=$.getChildren(),tt=$.childCount;$._remove(),e._insertChild(h,et),this._removeFromClonedElementsGroup($),g.push(new Rn(e,h),new Rn(e,h+tt)),h+=tt,o+=tt-1}else this._unwrapAttributeElement(s,$)?(g.push(new Rn(e,h),new Rn(e,h+1)),h++):(this._unwrapChildren($,0,$.childCount,s),h++);else h++}let _=0;for(const $ of g)$.offset-=_,!($.offset==i||$.offset==o)&&(this.mergeAttributes($).isEqual($)||(_++,o--));return Wn._createFromParentsAndOffsets(e,i,e,o)}_wrapRange(e,i){const{start:o,end:s}=this._breakAttributesRange(e,!0),h=o.parent,g=this._wrapChildren(h,o.offset,s.offset,i),_=this.mergeAttributes(g.start);_.isEqual(g.start)||g.end.offset--;const $=this.mergeAttributes(g.end);return new Wn(_,$)}_wrapPosition(e,i){if(i.isSimilar(e.parent))return P0(e.clone());e.parent.is("$text")&&(e=ew(e));const o=this.createAttributeElement("_wrapPosition-fake-element");o._priority=Number.POSITIVE_INFINITY,o.isSimilar=()=>!1,e.parent._insertChild(e.offset,o);const s=new Wn(e,e.getShiftedBy(1));this.wrap(s,i);const h=new Rn(o.parent,o.index);o._remove();const g=h.nodeBefore,_=h.nodeAfter;return g instanceof go&&_ instanceof go?N0(g,_):P0(h)}_wrapAttributeElement(e,i){if(!O0(e,i)||e.name!==i.name||e.priority!==i.priority)return!1;for(const o of e.getAttributeKeys())if(o!=="class"&&o!=="style"&&i.hasAttribute(o)&&i.getAttribute(o)!==e.getAttribute(o))return!1;for(const o of e.getStyleNames())if(i.hasStyle(o)&&i.getStyle(o)!==e.getStyle(o))return!1;for(const o of e.getAttributeKeys())o!=="class"&&o!=="style"&&(i.hasAttribute(o)||this.setAttribute(o,e.getAttribute(o),i));for(const o of e.getStyleNames())i.hasStyle(o)||this.setStyle(o,e.getStyle(o),i);for(const o of e.getClassNames())i.hasClass(o)||this.addClass(o,i);return!0}_unwrapAttributeElement(e,i){if(!O0(e,i)||e.name!==i.name||e.priority!==i.priority)return!1;for(const o of e.getAttributeKeys())if(o!=="class"&&o!=="style"&&(!i.hasAttribute(o)||i.getAttribute(o)!==e.getAttribute(o)))return!1;if(!i.hasClass(...e.getClassNames()))return!1;for(const o of e.getStyleNames())if(!i.hasStyle(o)||i.getStyle(o)!==e.getStyle(o))return!1;for(const o of e.getAttributeKeys())o!=="class"&&o!=="style"&&this.removeAttribute(o,i);return this.removeClass(Array.from(e.getClassNames()),i),this.removeStyle(Array.from(e.getStyleNames()),i),!0}_breakAttributesRange(e,i=!1){const o=e.start,s=e.end;if(bu(e,this.document),e.isCollapsed){const $=this._breakAttributes(e.start,i);return new Wn($,$)}const h=this._breakAttributes(s,i),g=h.parent.childCount,_=this._breakAttributes(o,i);return h.offset+=h.parent.childCount-g,new Wn(_,h)}_breakAttributes(e,i=!1){const o=e.offset,s=e.parent;if(e.parent.is("emptyElement"))throw new at("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new at("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new at("view-writer-cannot-break-raw-element",this.document);if(!i&&s.is("$text")&&tw(s.parent)||tw(s))return e.clone();if(s.is("$text"))return this._breakAttributes(ew(e),i);if(o==s.childCount){const h=new Rn(s.parent,s.index+1);return this._breakAttributes(h,i)}if(o===0){const h=new Rn(s.parent,s.index);return this._breakAttributes(h,i)}{const h=s.index+1,g=s._clone();s.parent._insertChild(h,g),this._addToClonedElementsGroup(g);const _=s.childCount-o,$=s._removeChildren(o,_);g._appendChild($);const et=new Rn(s.parent,h);return this._breakAttributes(et,i)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const s of e.getChildren())this._addToClonedElementsGroup(s);const i=e.id;if(!i)return;let o=this._cloneGroups.get(i);o||(o=new Set,this._cloneGroups.set(i,o)),o.add(e),e._clonesGroup=o}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const s of e.getChildren())this._removeFromClonedElementsGroup(s);const i=e.id;if(!i)return;const o=this._cloneGroups.get(i);o&&o.delete(e)}}function _b(a){let e=a.parent;for(;!tw(e);){if(!e)return;e=e.parent}return e}function Dx(a,e){return a.priority<e.priority||!(a.priority>e.priority)&&a.getIdentity()<e.getIdentity()}function P0(a){const e=a.nodeBefore;if(e&&e.is("$text"))return new Rn(e,e.data.length);const i=a.nodeAfter;return i&&i.is("$text")?new Rn(i,0):a}function ew(a){if(a.offset==a.parent.data.length)return new Rn(a.parent.parent,a.parent.index+1);if(a.offset===0)return new Rn(a.parent.parent,a.parent.index);const e=a.parent.data.slice(a.offset);return a.parent._data=a.parent.data.slice(0,a.offset),a.parent.parent._insertChild(a.parent.index+1,new go(a.root.document,e)),new Rn(a.parent.parent,a.parent.index+1)}function N0(a,e){const i=a.data.length;return a._data+=e.data,e._remove(),new Rn(a,i)}const Ix=[go,Ds,mu,Jm,_k,Sp];function R0(a,e){for(const i of a){if(!Ix.some(o=>i instanceof o))throw new at("view-writer-insert-invalid-node-type",e);i.is("$text")||R0(i.getChildren(),e)}}function tw(a){return a&&(a.is("containerElement")||a.is("documentFragment"))}function bu(a,e){const i=_b(a.start),o=_b(a.end);if(!i||!o||i!==o)throw new at("view-writer-invalid-range-container",e)}function O0(a,e){return a.id===null&&e.id===null}const L0=a=>a.createTextNode(""),B0=a=>{const e=a.createElement("span");return e.dataset.ckeFiller="true",e.innerText="",e},F0=a=>{const e=a.createElement("br");return e.dataset.ckeFiller="true",e},Tp="".repeat(7);function or(a){return Po(a)&&a.data.substr(0,7)===Tp}function wu(a){return a.data.length==7&&or(a)}function j0(a){return or(a)?a.data.slice(7):a.data}function Mx(a,e){if(e.keyCode==io.arrowleft){const i=e.domTarget.ownerDocument.defaultView.getSelection();if(i.rangeCount==1&&i.getRangeAt(0).collapsed){const o=i.getRangeAt(0).startContainer,s=i.getRangeAt(0).startOffset;or(o)&&s<=7&&i.collapse(o,0)}}}var z0=_e(9315),Px={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(z0.Z,Px),z0.Z.locals;class Nx extends Lt(){constructor(e,i){super(),this.domDocuments=new Set,this.domConverter=e,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=i,this.set("isFocused",!1),this.set("isSelecting",!1),ft.isBlink&&!ft.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()}),this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(e,i){if(e==="text")this.domConverter.mapViewToDom(i.parent)&&this.markedTexts.add(i);else{if(!this.domConverter.mapViewToDom(i))return;if(e==="attributes")this.markedAttributes.add(i);else{if(e!=="children")throw new at("view-renderer-unknown-type",this);this.markedChildren.add(i)}}}render(){if(this.isComposing&&!ft.isAndroid)return;let e=null;const i=!(ft.isBlink&&!ft.isAndroid)||!this.isSelecting;for(const o of this.markedChildren)this._updateChildrenMappings(o);i?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=Rn._createBefore(e.parent)));for(const o of this.markedAttributes)this._updateAttrs(o);for(const o of this.markedChildren)this._updateChildren(o,{inlineFillerPosition:e});for(const o of this.markedTexts)!this.markedChildren.has(o.parent)&&this.domConverter.mapViewToDom(o.parent)&&this._updateText(o,{inlineFillerPosition:e});if(i)if(e){const o=this.domConverter.viewPositionToDom(e),s=o.parent.ownerDocument;or(o.parent)?this._inlineFiller=o.parent:this._inlineFiller=V0(s,o.parent,o.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){if(!this.domConverter.mapViewToDom(e))return;const i=Array.from(this.domConverter.mapViewToDom(e).childNodes),o=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),s=this._diffNodeLists(i,o),h=this._findReplaceActions(s,i,o);if(h.indexOf("replace")!==-1){const g={equal:0,insert:0,delete:0};for(const _ of h)if(_==="replace"){const $=g.equal+g.insert,et=g.equal+g.delete,tt=e.getChild($);!tt||tt.is("uiElement")||tt.is("rawElement")||this._updateElementMappings(tt,i[et]),R_(o[$]),g.equal++}else g[_]++}}_updateElementMappings(e,i){this.domConverter.unbindDomElement(i),this.domConverter.bindElements(i,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?Rn._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),i=this.domConverter.viewPositionToDom(e);return!!(i&&Po(i.parent)&&or(i.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!or(e))throw new at("view-renderer-filler-was-lost",this);wu(e)?e.remove():e.data=e.data.substr(7),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),i=e.parent,o=e.offset;if(!this.domConverter.mapViewToDom(i.root)||!i.is("element")||!function(g){if(g.getAttribute("contenteditable")=="false")return!1;const _=g.findAncestor($=>$.hasAttribute("contenteditable"));return!_||_.getAttribute("contenteditable")=="true"}(i)||o===i.getFillerOffset())return!1;const s=e.nodeBefore,h=e.nodeAfter;return!(s instanceof go||h instanceof go)&&(!ft.isAndroid||!s&&!h)}_updateText(e,i){const o=this.domConverter.findCorrespondingDomText(e);let s=this.domConverter.viewToDom(e).data;const h=i.inlineFillerPosition;h&&h.parent==e.parent&&h.offset==e.index&&(s=Tp+s),W0(o,s)}_updateAttrs(e){const i=this.domConverter.mapViewToDom(e);if(!i)return;const o=Array.from(i.attributes).map(h=>h.name),s=e.getAttributeKeys();for(const h of s)this.domConverter.setDomElementAttribute(i,h,e.getAttribute(h),e);for(const h of o)e.hasAttribute(h)||this.domConverter.removeDomElementAttribute(i,h)}_updateChildren(e,i){const o=this.domConverter.mapViewToDom(e);if(!o)return;if(ft.isAndroid){let ot=null;for(const dt of Array.from(o.childNodes)){if(ot&&Po(ot)&&Po(dt)){o.normalize();break}ot=dt}}const s=i.inlineFillerPosition,h=o.childNodes,g=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));s&&s.parent===e&&V0(o.ownerDocument,g,s.offset);const _=this._diffNodeLists(h,g),$=ft.isAndroid?this._findReplaceActions(_,h,g,{replaceText:!0}):_;let et=0;const tt=new Set;for(const ot of $)ot==="delete"?(tt.add(h[et]),R_(h[et])):ot!=="equal"&&ot!=="replace"||et++;et=0;for(const ot of $)ot==="insert"?(M_(o,et,g[et]),et++):ot==="replace"?(W0(h[et],g[et].data),et++):ot==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(g[et])),et++);for(const ot of tt)ot.parentNode||this.domConverter.unbindDomElement(ot)}_diffNodeLists(e,i){return e=function(o,s){const h=Array.from(o);return h.length==0||!s||h[h.length-1]==s&&h.pop(),h}(e,this._fakeSelectionContainer),_t(e,i,Rx.bind(null,this.domConverter))}_findReplaceActions(e,i,o,s={}){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let h=[],g=[],_=[];const $={equal:0,insert:0,delete:0};for(const et of e)et==="insert"?_.push(o[$.equal+$.insert]):et==="delete"?g.push(i[$.equal+$.delete]):(h=h.concat(_t(g,_,s.replaceText?H0:U0).map(tt=>tt==="equal"?"replace":tt)),h.push("equal"),g=[],_=[]),$[et]++;return h.concat(_t(g,_,s.replaceText?H0:U0).map(et=>et==="equal"?"replace":et))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const i of e.getChildren())this._markDescendantTextToSync(i)}}_updateSelection(){if(ft.isBlink&&!ft.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&ft.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const i=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(g){const _=g.createElement("div");return _.className="ck-fake-selection-container",Object.assign(_.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),_.textContent="",_}(i));const o=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(o,this.selection),!this._fakeSelectionNeedsUpdate(e))return;o.parentElement&&o.parentElement==e||e.appendChild(o),o.textContent=this.selection.fakeSelectionLabel||"";const s=i.getSelection(),h=i.createRange();s.removeAllRanges(),h.selectNodeContents(o),s.addRange(h)}_updateDomSelection(e){const i=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(i))return;const o=this.domConverter.viewPositionToDom(this.selection.anchor),s=this.domConverter.viewPositionToDom(this.selection.focus);i.collapse(o.parent,o.offset),i.extend(s.parent,s.offset),ft.isGecko&&function(h,g){const _=h.parent;if(_.nodeType!=Node.ELEMENT_NODE||h.offset!=_.childNodes.length-1)return;const $=_.childNodes[h.offset];$&&$.tagName=="BR"&&g.addRange(g.getRangeAt(0))}(s,i)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const i=e&&this.domConverter.domSelectionToView(e);return(!i||!this.selection.isEqual(i))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(i))}_fakeSelectionNeedsUpdate(e){const i=this._fakeSelectionContainer,o=e.ownerDocument.getSelection();return!i||i.parentElement!==e||o.anchorNode!==i&&!i.contains(o.anchorNode)||i.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const i=e.getSelection();if(i.rangeCount){const o=e.activeElement,s=this.domConverter.mapDomToView(o);o&&s&&i.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function V0(a,e,i){const o=e instanceof Array?e:e.childNodes,s=o[i];if(Po(s))return s.data=Tp+s.data,s;{const h=a.createTextNode(Tp);return Array.isArray(e)?o.splice(i,0,h):M_(e,i,h),h}}function U0(a,e){return rs(a)&&rs(e)&&!Po(a)&&!Po(e)&&!na(a)&&!na(e)&&a.tagName.toLowerCase()===e.tagName.toLowerCase()}function H0(a,e){return rs(a)&&rs(e)&&Po(a)&&Po(e)}function Rx(a,e,i){return e===i||(Po(e)&&Po(i)?e.data===i.data:!(!a.isBlockFiller(e)||!a.isBlockFiller(i)))}function W0(a,e){const i=a.data;if(i==e)return;const o=bt(i,e);for(const s of o)s.type==="insert"?a.insertData(s.index,s.values.join("")):a.deleteData(s.index,s.howMany)}const Ox=F0(_i.document),Lx=L0(_i.document),Bx=B0(_i.document),Dp="data-ck-unsafe-attribute-",$0="data-ck-unsafe-element";class Ip{constructor(e,i={}){this.document=e,this.renderingMode=i.renderingMode||"editing",this.blockFillerMode=i.blockFillerMode||(this.renderingMode==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?_i.document:_i.document.implementation.createHTMLDocument(""),this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new Ir,this._encounteredRawContentDomNodes=new WeakSet}bindFakeSelection(e,i){this._fakeSelectionMapping.set(e,new Mr(i))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,i){this._domToViewMapping.set(e,i),this._viewToDomMapping.set(i,e)}unbindDomElement(e){const i=this._domToViewMapping.get(e);if(i){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(i);for(const o of Array.from(e.children))this.unbindDomElement(o)}}bindDocumentFragments(e,i){this._domToViewMapping.set(e,i),this._viewToDomMapping.set(i,e)}shouldRenderAttribute(e,i,o){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!i.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(o==="img"&&(e==="src"||e==="srcset")||o==="source"&&e==="srcset"||!i.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,i){if(this.renderingMode==="data")return void(e.innerHTML=i);const o=new DOMParser().parseFromString(i,"text/html"),s=o.createDocumentFragment(),h=o.body.childNodes;for(;h.length>0;)s.appendChild(h[0]);const g=o.createTreeWalker(s,NodeFilter.SHOW_ELEMENT),_=[];let $;for(;$=g.nextNode();)_.push($);for(const et of _){for(const ot of et.getAttributeNames())this.setDomElementAttribute(et,ot,et.getAttribute(ot));const tt=et.tagName.toLowerCase();this._shouldRenameElement(tt)&&(K0(tt),et.replaceWith(this._createReplacementDomElement(tt,et)))}for(;e.firstChild;)e.firstChild.remove();e.append(s)}viewToDom(e,i={}){if(e.is("$text")){const o=this._processDataFromViewText(e);return this._domDocument.createTextNode(o)}{if(this.mapViewToDom(e))return this.mapViewToDom(e);let o;if(e.is("documentFragment"))o=this._domDocument.createDocumentFragment(),i.bind&&this.bindDocumentFragments(o,e);else{if(e.is("uiElement"))return o=e.name==="$comment"?this._domDocument.createComment(e.getCustomProperty("$rawContent")):e.render(this._domDocument,this),i.bind&&this.bindElements(o,e),o;this._shouldRenameElement(e.name)?(K0(e.name),o=this._createReplacementDomElement(e.name)):o=e.hasAttribute("xmlns")?this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name):this._domDocument.createElement(e.name),e.is("rawElement")&&e.render(o,this),i.bind&&this.bindElements(o,e);for(const s of e.getAttributeKeys())this.setDomElementAttribute(o,s,e.getAttribute(s),e)}if(i.withChildren!==!1)for(const s of this.viewChildrenToDom(e,i))o.appendChild(s);return o}}setDomElementAttribute(e,i,o,s){const h=this.shouldRenderAttribute(i,o,e.tagName.toLowerCase())||s&&s.shouldRenderUnsafeAttribute(i);h||yt("domconverter-unsafe-attribute-detected",{domElement:e,key:i,value:o}),e.hasAttribute(i)&&!h?e.removeAttribute(i):e.hasAttribute(Dp+i)&&h&&e.removeAttribute(Dp+i),e.setAttribute(h?i:Dp+i,o)}removeDomElementAttribute(e,i){i!=$0&&(e.removeAttribute(i),e.removeAttribute(Dp+i))}*viewChildrenToDom(e,i={}){const o=e.getFillerOffset&&e.getFillerOffset();let s=0;for(const h of e.getChildren()){o===s&&(yield this._getBlockFiller());const g=h.is("element")&&!!h.getCustomProperty("dataPipeline:transparentRendering")&&!jo(h.getAttributes());g&&this.renderingMode=="data"?yield*this.viewChildrenToDom(h,i):(g&&yt("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:h}),yield this.viewToDom(h,i)),s++}o===s&&(yield this._getBlockFiller())}viewRangeToDom(e){const i=this.viewPositionToDom(e.start),o=this.viewPositionToDom(e.end),s=this._domDocument.createRange();return s.setStart(i.parent,i.offset),s.setEnd(o.parent,o.offset),s}viewPositionToDom(e){const i=e.parent;if(i.is("$text")){const o=this.findCorrespondingDomText(i);if(!o)return null;let s=e.offset;return or(o)&&(s+=7),{parent:o,offset:s}}{let o,s,h;if(e.offset===0){if(o=this.mapViewToDom(i),!o)return null;h=o.childNodes[0]}else{const g=e.nodeBefore;if(s=g.is("$text")?this.findCorrespondingDomText(g):this.mapViewToDom(g),!s)return null;o=s.parentNode,h=s.nextSibling}return Po(h)&&or(h)?{parent:h,offset:7}:{parent:o,offset:s?mp(s)+1:0}}}domToView(e,i={}){if(this.isBlockFiller(e))return null;const o=this.getHostViewElement(e);if(o)return o;if(na(e)&&i.skipComments)return null;if(Po(e)){if(wu(e))return null;{const s=this._processDataFromDomText(e);return s===""?null:new go(this.document,s)}}{if(this.mapDomToView(e))return this.mapDomToView(e);let s;if(this.isDocumentFragment(e))s=new Is(this.document),i.bind&&this.bindDocumentFragments(e,s);else{s=this._createViewElement(e,i),i.bind&&this.bindElements(e,s);const h=e.attributes;if(h)for(let g=h.length,_=0;_<g;_++)s._setAttribute(h[_].name,h[_].value);if(this._isViewElementWithRawContent(s,i)||na(e)){const g=na(e)?e.data:e.innerHTML;return s._setCustomProperty("$rawContent",g),this._encounteredRawContentDomNodes.add(e),s}}if(i.withChildren!==!1)for(const h of this.domChildrenToView(e,i))s._appendChild(h);return s}}*domChildrenToView(e,i){for(let o=0;o<e.childNodes.length;o++){const s=e.childNodes[o],h=this.domToView(s,i);h!==null&&(yield h)}}domSelectionToView(e){if(e.rangeCount===1){let s=e.getRangeAt(0).startContainer;Po(s)&&(s=s.parentNode);const h=this.fakeSelectionToView(s);if(h)return h}const i=this.isDomSelectionBackward(e),o=[];for(let s=0;s<e.rangeCount;s++){const h=e.getRangeAt(s),g=this.domRangeToView(h);g&&o.push(g)}return new Mr(o,{backward:i})}domRangeToView(e){const i=this.domPositionToView(e.startContainer,e.startOffset),o=this.domPositionToView(e.endContainer,e.endOffset);return i&&o?new Wn(i,o):null}domPositionToView(e,i=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,mp(e));const o=this.mapDomToView(e);if(o&&(o.is("uiElement")||o.is("rawElement")))return Rn._createBefore(o);if(Po(e)){if(wu(e))return this.domPositionToView(e.parentNode,mp(e));const s=this.findCorrespondingViewText(e);let h=i;return s?(or(e)&&(h-=7,h=h<0?0:h),new Rn(s,h)):null}if(i===0){const s=this.mapDomToView(e);if(s)return new Rn(s,0)}else{const s=e.childNodes[i-1];if(Po(s)&&wu(s))return this.domPositionToView(s.parentNode,mp(s));const h=Po(s)?this.findCorrespondingViewText(s):this.mapDomToView(s);if(h&&h.parent)return new Rn(h.parent,h.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(wu(e))return null;const i=this.getHostViewElement(e);if(i)return i;const o=e.previousSibling;if(o){if(!this.isElement(o))return null;const s=this.mapDomToView(o);if(s){const h=s.nextSibling;return h instanceof go?h:null}}else{const s=this.mapDomToView(e.parentNode);if(s){const h=s.getChild(0);return h instanceof go?h:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const i=e.previousSibling;return i&&this.mapViewToDom(i)?this.mapViewToDom(i).nextSibling:!i&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const i=this.mapViewToDom(e);if(i&&i.ownerDocument.activeElement!==i){const{scrollX:o,scrollY:s}=_i.window,h=[];G0(i,g=>{const{scrollLeft:_,scrollTop:$}=g;h.push([_,$])}),i.focus(),G0(i,g=>{const[_,$]=h.shift();g.scrollLeft=_,g.scrollTop=$}),_i.window.scrollTo(o,s)}}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(Ox):!(e.tagName!=="BR"||!q0(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(Bx)||function(i,o){return i.isEqualNode(Lx)&&q0(i,o)&&i.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const i=this._domDocument.createRange();try{i.setStart(e.anchorNode,e.anchorOffset),i.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const o=i.collapsed;return i.detach(),o}getHostViewElement(e){const i=x_(e);for(i.pop();i.length;){const o=i.pop(),s=this._domToViewMapping.get(o);if(s&&(s.is("uiElement")||s.is("rawElement")))return s}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return L0(this._domDocument);case"markedNbsp":return B0(this._domDocument);case"br":return F0(this._domDocument)}}_isDomSelectionPositionCorrect(e,i){if(Po(e)&&or(e)&&i<7||this.isElement(e)&&or(e.childNodes[i]))return!1;const o=this.mapDomToView(e);return!o||!o.is("uiElement")&&!o.is("rawElement")}_processDataFromViewText(e){let i=e.data;if(e.getAncestors().some(o=>this.preElements.includes(o.name)))return i;if(i.charAt(0)==" "){const o=this._getTouchingInlineViewNode(e,!1);!(o&&o.is("$textProxy")&&this._nodeEndsWithSpace(o))&&o||(i=""+i.substr(1))}if(i.charAt(i.length-1)==" "){const o=this._getTouchingInlineViewNode(e,!0),s=o&&o.is("$textProxy")&&o.data.charAt(0)==" ";i.charAt(i.length-2)!=" "&&o&&!s||(i=i.substr(0,i.length-1)+"")}return i.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(o=>this.preElements.includes(o.name)))return!1;const i=this._processDataFromViewText(e);return i.charAt(i.length-1)==" "}_processDataFromDomText(e){let i=e.data;if(function(et,tt){return x_(et).some(dt=>dt.tagName&&tt.includes(dt.tagName.toLowerCase()))}(e,this.preElements))return j0(e);i=i.replace(/[ \n\t\r]{1,}/g," ");const o=this._getTouchingInlineDomNode(e,!1),s=this._getTouchingInlineDomNode(e,!0),h=this._checkShouldLeftTrimDomText(e,o),g=this._checkShouldRightTrimDomText(e,s);h&&(i=i.replace(/^ /,"")),g&&(i=i.replace(/ $/,"")),i=j0(new Text(i)),i=i.replace(/ \u00A0/g,"  ");const _=s&&this.isElement(s)&&s.tagName!="BR",$=s&&Po(s)&&s.data.charAt(0)==" ";return(/( |\u00A0)\u00A0$/.test(i)||!s||_||$)&&(i=i.replace(/\u00A0$/," ")),(h||o&&this.isElement(o)&&o.tagName!="BR")&&(i=i.replace(/^\u00A0/," ")),i}_checkShouldLeftTrimDomText(e,i){return!i||(this.isElement(i)?i.tagName==="BR":!this._encounteredRawContentDomNodes.has(e.previousSibling)&&/[^\S\u00A0]/.test(i.data.charAt(i.data.length-1)))}_checkShouldRightTrimDomText(e,i){return!i&&!or(e)}_getTouchingInlineViewNode(e,i){const o=new Ts({startPosition:i?Rn._createAfter(e):Rn._createBefore(e),direction:i?"forward":"backward"});for(const s of o){if(s.item.is("element")&&this.inlineObjectElements.includes(s.item.name))return s.item;if(s.item.is("containerElement")||s.item.is("element","br"))return null;if(s.item.is("$textProxy"))return s.item}return null}_getTouchingInlineDomNode(e,i){if(!e.parentNode)return null;const o=i?"firstChild":"lastChild",s=i?"nextSibling":"previousSibling";let h=!0,g=e;do if(!h&&g[o]?g=g[o]:g[s]?(g=g[s],h=!1):(g=g.parentNode,h=!0),!g||this._isBlockElement(g))return null;while(!Po(g)&&g.tagName!="BR"&&!this._isInlineObjectElement(g));return g}_isBlockElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isInlineObjectElement(e){return this.isElement(e)&&this.inlineObjectElements.includes(e.tagName.toLowerCase())}_createViewElement(e,i){if(na(e))return new Sp(this.document,"$comment");const o=i.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new ir(this.document,o)}_isViewElementWithRawContent(e,i){return i.withChildren!==!1&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const i=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(i)}_createReplacementDomElement(e,i){const o=this._domDocument.createElement("span");if(o.setAttribute($0,e),i){for(;i.firstChild;)o.appendChild(i.firstChild);for(const s of i.getAttributeNames())o.setAttribute(s,i.getAttribute(s))}return o}}function G0(a,e){let i=a;for(;i;)e(i),i=i.parentElement}function q0(a,e){const i=a.parentNode;return!!i&&!!i.tagName&&e.includes(i.tagName.toLowerCase())}function K0(a){a==="script"&&yt("domconverter-unsafe-script-element-detected"),a==="style"&&yt("domconverter-unsafe-style-element-detected")}class Pr extends As(){constructor(e){super(),this.view=e,this.document=e.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const Y0=C0(function(a,e){Vr(e,is(e),a)});class Al{constructor(e,i,o){this.view=e,this.document=e.document,this.domEvent=i,this.domTarget=i.target,Y0(this,o)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class as extends Pr{constructor(e){super(e),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(i=>{this.listenTo(e,i,(o,s)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(s.target)&&this.onDomEvent(s)},{useCapture:this.useCapture})})}fire(e,i,o){this.isEnabled&&this.document.fire(e,new Al(this.view,i,o))}}class Fx extends as{constructor(e){super(e),this.domEventType=["keydown","keyup"]}onDomEvent(e){const i={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return ga(this)}};this.fire(e.type,e,i)}}const nw=function(){return On.Date.now()};var jx=/\s/;const zx=function(a){for(var e=a.length;e--&&jx.test(a.charAt(e)););return e};var Vx=/^\s+/;const Ux=function(a){return a&&a.slice(0,zx(a)+1).replace(Vx,"")};var Hx=/^[-+]0x[0-9a-f]+$/i,Wx=/^0b[01]+$/i,$x=/^0o[0-7]+$/i,Gx=parseInt;const Q0=function(a){if(typeof a=="number")return a;if(Ap(a))return NaN;if(Ht(a)){var e=typeof a.valueOf=="function"?a.valueOf():a;a=Ht(e)?e+"":e}if(typeof a!="string")return a===0?a:+a;a=Ux(a);var i=Wx.test(a);return i||$x.test(a)?Gx(a.slice(2),i?2:8):Hx.test(a)?NaN:+a};var qx=Math.max,Kx=Math.min;const _u=function(a,e,i){var o,s,h,g,_,$,et=0,tt=!1,ot=!1,dt=!0;if(typeof a!="function")throw new TypeError("Expected a function");function At(wn){var Pn=o,Un=s;return o=s=void 0,et=wn,g=a.apply(Un,Pn)}function St(wn){return et=wn,_=setTimeout(Ft,e),tt?At(wn):g}function Dt(wn){var Pn=wn-$;return $===void 0||Pn>=e||Pn<0||ot&&wn-et>=h}function Ft(){var wn=nw();if(Dt(wn))return Yt(wn);_=setTimeout(Ft,function(Pn){var Un=e-(Pn-$);return ot?Kx(Un,h-(Pn-et)):Un}(wn))}function Yt(wn){return _=void 0,dt&&o?At(wn):(o=s=void 0,g)}function cn(){var wn=nw(),Pn=Dt(wn);if(o=arguments,s=this,$=wn,Pn){if(_===void 0)return St($);if(ot)return clearTimeout(_),_=setTimeout(Ft,e),At($)}return _===void 0&&(_=setTimeout(Ft,e)),g}return e=Q0(e)||0,Ht(i)&&(tt=!!i.leading,h=(ot="maxWait"in i)?qx(Q0(i.maxWait)||0,e):h,dt="trailing"in i?!!i.trailing:dt),cn.cancel=function(){_!==void 0&&clearTimeout(_),et=0,o=$=s=_=void 0},cn.flush=function(){return _===void 0?g:Yt(nw())},cn};class Yx extends Pr{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=_u(i=>{this.document.fire("selectionChangeDone",i)},200)}observe(){const e=this.document;e.on("arrowKey",(i,o)=>{e.selection.isFake&&this.isEnabled&&o.preventDefault()},{context:"$capture"}),e.on("arrowKey",(i,o)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(o.keyCode)},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const i=this.document.selection,o=new Mr(i.getRanges(),{backward:i.isBackward,fake:!1});e!=io.arrowleft&&e!=io.arrowup||o.setTo(o.getFirstPosition()),e!=io.arrowright&&e!=io.arrowdown||o.setTo(o.getLastPosition());const s={oldSelection:i,newSelection:o,domSelection:null};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}const Qx=function(a){return this.__data__.set(a,"__lodash_hash_undefined__"),this},Zx=function(a){return this.__data__.has(a)};function Mp(a){var e=-1,i=a==null?0:a.length;for(this.__data__=new zs;++e<i;)this.add(a[e])}Mp.prototype.add=Mp.prototype.push=Qx,Mp.prototype.has=Zx;const Xx=Mp,Jx=function(a,e){for(var i=-1,o=a==null?0:a.length;++i<o;)if(e(a[i],i,a))return!0;return!1},eS=function(a,e){return a.has(e)},Z0=function(a,e,i,o,s,h){var g=1&i,_=a.length,$=e.length;if(_!=$&&!(g&&$>_))return!1;var et=h.get(a),tt=h.get(e);if(et&&tt)return et==e&&tt==a;var ot=-1,dt=!0,At=2&i?new Xx:void 0;for(h.set(a,e),h.set(e,a);++ot<_;){var St=a[ot],Dt=e[ot];if(o)var Ft=g?o(Dt,St,ot,e,a,h):o(St,Dt,ot,a,e,h);if(Ft!==void 0){if(Ft)continue;dt=!1;break}if(At){if(!Jx(e,function(Yt,cn){if(!eS(At,cn)&&(St===Yt||s(St,Yt,i,o,h)))return At.push(cn)})){dt=!1;break}}else if(St!==Dt&&!s(St,Dt,i,o,h)){dt=!1;break}}return h.delete(a),h.delete(e),dt},tS=function(a){var e=-1,i=Array(a.size);return a.forEach(function(o,s){i[++e]=[s,o]}),i},nS=function(a){var e=-1,i=Array(a.size);return a.forEach(function(o){i[++e]=o}),i};var X0=Ln?Ln.prototype:void 0,iw=X0?X0.valueOf:void 0;const iS=function(a,e,i,o,s,h,g){switch(i){case"[object DataView]":if(a.byteLength!=e.byteLength||a.byteOffset!=e.byteOffset)return!1;a=a.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(a.byteLength!=e.byteLength||!h(new ws(a),new ws(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return po(+a,+e);case"[object Error]":return a.name==e.name&&a.message==e.message;case"[object RegExp]":case"[object String]":return a==e+"";case"[object Map]":var _=tS;case"[object Set]":var $=1&o;if(_||(_=nS),a.size!=e.size&&!$)return!1;var et=g.get(a);if(et)return et==e;o|=2,g.set(a,e);var tt=Z0(_(a),_(e),o,s,h,g);return g.delete(a),tt;case"[object Symbol]":if(iw)return iw.call(a)==iw.call(e)}return!1};var oS=Object.prototype.hasOwnProperty;const rS=function(a,e,i,o,s,h){var g=1&i,_=Qs(a),$=_.length;if($!=Qs(e).length&&!g)return!1;for(var et=$;et--;){var tt=_[et];if(!(g?tt in e:oS.call(e,tt)))return!1}var ot=h.get(a),dt=h.get(e);if(ot&&dt)return ot==e&&dt==a;var At=!0;h.set(a,e),h.set(e,a);for(var St=g;++et<$;){var Dt=a[tt=_[et]],Ft=e[tt];if(o)var Yt=g?o(Ft,Dt,tt,e,a,h):o(Dt,Ft,tt,a,e,h);if(!(Yt===void 0?Dt===Ft||s(Dt,Ft,i,o,h):Yt)){At=!1;break}St||(St=tt=="constructor")}if(At&&!St){var cn=a.constructor,wn=e.constructor;cn==wn||!("constructor"in a)||!("constructor"in e)||typeof cn=="function"&&cn instanceof cn&&typeof wn=="function"&&wn instanceof wn||(At=!1)}return h.delete(a),h.delete(e),At};var J0="[object Arguments]",ev="[object Array]",Pp="[object Object]",tv=Object.prototype.hasOwnProperty;const sS=function(a,e,i,o,s,h){var g=Cn(a),_=Cn(e),$=g?ev:gr(a),et=_?ev:gr(e),tt=($=$==J0?Pp:$)==Pp,ot=(et=et==J0?Pp:et)==Pp,dt=$==et;if(dt&&ts(a)){if(!ts(e))return!1;g=!0,tt=!1}if(dt&&!tt)return h||(h=new ks),g||Ys(a)?Z0(a,e,i,o,s,h):iS(a,e,$,i,o,s,h);if(!(1&i)){var At=tt&&tv.call(a,"__wrapped__"),St=ot&&tv.call(e,"__wrapped__");if(At||St){var Dt=At?a.value():a,Ft=St?e.value():e;return h||(h=new ks),s(Dt,Ft,i,o,h)}}return!!dt&&(h||(h=new ks),rS(a,e,i,o,s,h))},nv=function a(e,i,o,s,h){return e===i||(e==null||i==null||!ln(e)&&!ln(i)?e!=e&&i!=i:sS(e,i,o,s,a,h))},aS=function(a,e,i){var o=(i=typeof i=="function"?i:void 0)?i(a,e):void 0;return o===void 0?nv(a,e,void 0,i):!!o};class iv extends Pr{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.push(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const i=this.domConverter,o=new Set,s=new Set;for(const g of e){const _=i.mapDomToView(g.target);_&&(_.is("uiElement")||_.is("rawElement")||g.type!=="childList"||this._isBogusBrMutation(g)||s.add(_))}for(const g of e){const _=i.mapDomToView(g.target);if((!_||!_.is("uiElement")&&!_.is("rawElement"))&&g.type==="characterData"){const $=i.findCorrespondingViewText(g.target);$&&!s.has($.parent)?o.add($):!$&&or(g.target)&&s.add(i.mapDomToView(g.target.parentNode))}}let h=!1;for(const g of o)h=!0,this.renderer.markToSync("text",g);for(const g of s){const _=i.mapViewToDom(g),$=Array.from(g.getChildren()),et=Array.from(i.domChildrenToView(_,{withChildren:!1}));aS($,et,lS)||(h=!0,this.renderer.markToSync("children",g))}h&&this.view.forceRender()}_isBogusBrMutation(e){let i=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(i=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),i&&i.is("element","br")}}function lS(a,e){if(!Array.isArray(a))return a===e||!(!a.is("$text")||!e.is("$text"))&&a.data===e.data}class ow extends as{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const i=this.document;i.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),i.on("blur",(o,s)=>{const h=i.selection.editableElement;h!==null&&h!==s.target||(i.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class cS extends Pr{constructor(e){super(e),this.mutationObserver=e.getObserver(iv),this.focusObserver=e.getObserver(ow),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=_u(i=>{this.document.fire("selectionChangeDone",i)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=_u(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const i=e.ownerDocument,o=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,i),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",o,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",o,{priority:"highest",useCapture:!0}),this._documents.has(i)||(this.listenTo(i,"mouseup",o,{priority:"highest",useCapture:!0}),this.listenTo(i,"selectionchange",(s,h)=>{this.document.isComposing&&!ft.isAndroid||(this._handleSelectionChange(h,i),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(i))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_handleSelectionChange(e,i){if(!this.isEnabled)return;const o=i.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(o.anchorNode))return;this.mutationObserver.flush();const s=this.domConverter.domSelectionToView(o);if(s.rangeCount!=0){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(s)&&this.domConverter.isDomSelectionCorrect(o)||++this._loopbackCounter>60))if(this.focusObserver.flush(),this.selection.isSimilar(s))this.view.forceRender();else{const h={oldSelection:this.selection,newSelection:s,domSelection:o};this.document.fire("selectionChange",h),this._fireSelectionChangeDoneDebounced(h)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class dS extends as{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const i=this.document;i.on("compositionstart",()=>{i.isComposing=!0},{priority:"low"}),i.on("compositionend",()=>{i.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class ov{constructor(e){this.files=function(i){const o=Array.from(i.files||[]),s=Array.from(i.items||[]);return o.length?o:s.filter(h=>h.kind==="file").map(h=>h.getAsFile())}(e),this._native=e}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,i){this._native.setData(e,i)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}class uS extends as{constructor(e){super(e),this.domEventType=["beforeinput"]}onDomEvent(e){const i=e.getTargetRanges(),o=this.view,s=o.document;let h=null,g=null,_=[];if(e.dataTransfer&&(h=new ov(e.dataTransfer)),e.data!==null?g=e.data:h&&(g=h.getData("text/plain")),s.selection.isFake)_=Array.from(s.selection.getRanges());else if(i.length)_=i.map($=>o.domConverter.domRangeToView($));else if(ft.isAndroid){const $=e.target.ownerDocument.defaultView.getSelection();_=Array.from(o.domConverter.domSelectionToView($).getRanges())}if(ft.isAndroid&&e.inputType=="insertCompositionText"&&g&&g.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[o.createRange(_[0].end)]});else if(e.inputType=="insertText"&&g&&g.includes(`
`)){const $=g.split(/\n{1,2}/g);let et=_;for(let tt=0;tt<$.length;tt++){const ot=$[tt];ot!=""&&(this.fire(e.type,e,{data:ot,dataTransfer:h,targetRanges:et,inputType:e.inputType,isComposing:e.isComposing}),et=[s.selection.getFirstRange()]),tt+1<$.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:et}),et=[s.selection.getFirstRange()])}}else this.fire(e.type,e,{data:g,dataTransfer:h,targetRanges:_,inputType:e.inputType,isComposing:e.isComposing})}}class hS extends Pr{constructor(e){super(e),this.document.on("keydown",(i,o)=>{if(this.isEnabled&&((s=o.keyCode)==io.arrowright||s==io.arrowleft||s==io.arrowup||s==io.arrowdown)){const h=new $a(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(h,o),h.stop.called&&i.stop()}var s})}observe(){}}class pS extends Pr{constructor(e){super(e);const i=this.document;i.on("keydown",(o,s)=>{if(!this.isEnabled||s.keyCode!=io.tab||s.ctrlKey)return;const h=new $a(i,"tab",i.selection.getFirstRange());i.fire(h,s),h.stop.called&&o.stop()})}observe(){}}class fS extends Lt(){constructor(e){super(),this.document=new xp(e),this.domConverter=new Ip(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Nx(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new M0(this.document),this.addObserver(iv),this.addObserver(ow),this.addObserver(cS),this.addObserver(Fx),this.addObserver(Yx),this.addObserver(dS),this.addObserver(hS),this.addObserver(uS),this.addObserver(pS),this.document.on("arrowKey",Mx,{priority:"low"}),xx(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(e,i="main"){const o=this.document.getRoot(i);o._name=e.tagName.toLowerCase();const s={};for(const{name:g,value:_}of Array.from(e.attributes))s[g]=_,g==="class"?this._writer.addClass(_.split(" "),o):this._writer.setAttribute(g,_,o);this._initialDomRootAttributes.set(e,s);const h=()=>{this._writer.setAttribute("contenteditable",(!o.isReadOnly).toString(),o),o.isReadOnly?this._writer.addClass("ck-read-only",o):this._writer.removeClass("ck-read-only",o)};h(),this.domRoots.set(i,e),this.domConverter.bindElements(e,o),this._renderer.markToSync("children",o),this._renderer.markToSync("attributes",o),this._renderer.domDocuments.add(e.ownerDocument),o.on("change:children",(g,_)=>this._renderer.markToSync("children",_)),o.on("change:attributes",(g,_)=>this._renderer.markToSync("attributes",_)),o.on("change:text",(g,_)=>this._renderer.markToSync("text",_)),o.on("change:isReadOnly",()=>this.change(h)),o.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const g of this._observers.values())g.observe(e,i)}detachDomRoot(e){const i=this.domRoots.get(e);Array.from(i.attributes).forEach(({name:s})=>i.removeAttribute(s));const o=this._initialDomRootAttributes.get(i);for(const s in o)i.setAttribute(s,o[s]);this.domRoots.delete(e),this.domConverter.unbindDomElement(i)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let i=this._observers.get(e);if(i)return i;i=new e(this),this._observers.set(e,i);for(const[o,s]of this.domRoots)i.observe(s,o);return i.enable(),i}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection(){const e=this.document.selection.getFirstRange();e&&function({target:i,viewportOffset:o=0}){const s=Im(i);let h=s,g=null;for(;h;){let _;_=kE(h==s?i:g),mE(_,()=>j_(i,h));const $=j_(i,h);if(gE(h,$,o),h.parent!=h){if(g=h.frameElement,h=h.parent,!g)return}else h=null}}({target:this.domConverter.viewRangeToDom(e),viewportOffset:20})}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new at("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const i=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),i}catch(i){at.rethrowUnexpectedError(i,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(ow).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,i){return Rn._createAt(e,i)}createPositionAfter(e){return Rn._createAfter(e)}createPositionBefore(e){return Rn._createBefore(e)}createRange(...e){return new Wn(...e)}createRangeOn(e){return Wn._createOn(e)}createRangeIn(e){return Wn._createIn(e)}createSelection(...e){return new Mr(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class ls{is(){throw new Error("is() method is abstract")}}class yl extends ls{constructor(e){super(),this.parent=null,this._attrs=Tr(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new at("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new at("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let i=this;for(;i.parent;)e.unshift(i.startOffset),i=i.parent;return e}getAncestors(e={}){const i=[];let o=e.includeSelf?this:this.parent;for(;o;)i[e.parentFirst?"push":"unshift"](o),o=o.parent;return i}getCommonAncestor(e,i={}){const o=this.getAncestors(i),s=e.getAncestors(i);let h=0;for(;o[h]==s[h]&&o[h];)h++;return h===0?null:o[h-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const i=this.getPath(),o=e.getPath(),s=_n(i,o);switch(s){case"prefix":return!0;case"extension":return!1;default:return i[s]<o[s]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((i,o)=>(i[o[0]]=o[1],i),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,i){this._attrs.set(e,i)}_setAttributesTo(e){this._attrs=Tr(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}yl.prototype.is=function(a){return a==="node"||a==="model:node"};class vu{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,i)=>e+i.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const i=this._nodes.indexOf(e);return i==-1?null:i}getNodeStartOffset(e){const i=this.getNodeIndex(e);return i===null?null:this._nodes.slice(0,i).reduce((o,s)=>o+s.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const i=this._nodes[e];if(!i)throw new at("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(i)}offsetToIndex(e){let i=0;for(const o of this._nodes){if(e>=i&&e<i+o.offsetSize)return this.getNodeIndex(o);i+=o.offsetSize}if(i!=e)throw new at("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,i){for(const o of i)if(!(o instanceof yl))throw new at("model-nodelist-insertnodes-not-node",this);this._nodes=function(o,s,h,g){if(Math.max(s.length,o.length)>1e4)return o.slice(0,h).concat(s).concat(o.slice(h+g,o.length));{const _=Array.from(o);return _.splice(h,g,...s),_}}(this._nodes,Array.from(i),e,0)}_removeNodes(e,i=1){return this._nodes.splice(e,i)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class mo extends yl{constructor(e,i){super(i),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new mo(this.data,this.getAttributes())}static fromJSON(e){return new mo(e.data,e.attributes)}}mo.prototype.is=function(a){return a==="$text"||a==="model:$text"||a==="text"||a==="model:text"||a==="node"||a==="model:node"};class br extends ls{constructor(e,i,o){if(super(),this.textNode=e,i<0||i>e.offsetSize)throw new at("model-textproxy-wrong-offsetintext",this);if(o<0||i+o>e.offsetSize)throw new at("model-textproxy-wrong-length",this);this.data=e.data.substring(i,i+o),this.offsetInText=i}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const i=[];let o=e.includeSelf?this:this.parent;for(;o;)i[e.parentFirst?"push":"unshift"](o),o=o.parent;return i}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}br.prototype.is=function(a){return a==="$textProxy"||a==="model:$textProxy"||a==="textProxy"||a==="model:textProxy"};class co extends yl{constructor(e,i,o){super(i),this._children=new vu,this.name=e,o&&this._insertChild(0,o)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let i=this;for(const o of e)i=i.getChild(i.offsetToIndex(o));return i}findAncestor(e,i={}){let o=i.includeSelf?this:this.parent;for(;o;){if(o.name===e)return o;o=o.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const i of this._children)e.children.push(i.toJSON())}return e}_clone(e=!1){const i=e?Array.from(this._children).map(o=>o._clone(!0)):void 0;return new co(this.name,this.getAttributes(),i)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,i){const o=function(s){return typeof s=="string"?[new mo(s)]:(yn(s)||(s=[s]),Array.from(s).map(h=>typeof h=="string"?new mo(h):h instanceof br?new mo(h.data,h.getAttributes()):h))}(i);for(const s of o)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,o)}_removeChildren(e,i=1){const o=this._children._removeNodes(e,i);for(const s of o)s.parent=null;return o}static fromJSON(e){let i;if(e.children){i=[];for(const o of e.children)o.name?i.push(co.fromJSON(o)):i.push(mo.fromJSON(o))}return new co(e.name,e.attributes,i)}}co.prototype.is=function(a,e){return e?e===this.name&&(a==="element"||a==="model:element"):a==="element"||a==="model:element"||a==="node"||a==="model:node"};class Nr{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new at("model-tree-walker-no-start-position",null);const i=e.direction||"forward";if(i!="forward"&&i!="backward")throw new at("model-tree-walker-unknown-direction",e,{direction:i});this.direction=i,this.boundaries=e.boundaries||null,e.startPosition?this.position=e.startPosition.clone():this.position=Tn._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(e){let i,o,s,h;do s=this.position,h=this._visitedParent,{done:i,value:o}=this.next();while(!i&&e(o));i||(this.position=s,this._visitedParent=h)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,i=this.position.clone(),o=this._visitedParent;if(o.parent===null&&i.offset===o.maxOffset)return{done:!0,value:void 0};if(o===this._boundaryEndParent&&i.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const s=Au(i,o),h=s||rv(i,o,s);if(h instanceof co)return this.shallow?i.offset++:(i.path.push(0),this._visitedParent=h),this.position=i,Ms("elementStart",h,e,i,1);if(h instanceof mo){let g;if(this.singleCharacters)g=1;else{let et=h.endOffset;this._boundaryEndParent==o&&this.boundaries.end.offset<et&&(et=this.boundaries.end.offset),g=et-i.offset}const _=i.offset-h.startOffset,$=new br(h,_,g);return i.offset+=g,this.position=i,Ms("text",$,e,i,g)}return i.path.pop(),i.offset++,this.position=i,this._visitedParent=o.parent,this.ignoreElementEnd?this._next():Ms("elementEnd",o,e,i)}_previous(){const e=this.position,i=this.position.clone(),o=this._visitedParent;if(o.parent===null&&i.offset===0)return{done:!0,value:void 0};if(o==this._boundaryStartParent&&i.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const s=i.parent,h=Au(i,s),g=h||sv(i,s,h);if(g instanceof co)return i.offset--,this.shallow?(this.position=i,Ms("elementStart",g,e,i,1)):(i.path.push(g.maxOffset),this.position=i,this._visitedParent=g,this.ignoreElementEnd?this._previous():Ms("elementEnd",g,e,i));if(g instanceof mo){let _;if(this.singleCharacters)_=1;else{let tt=g.startOffset;this._boundaryStartParent==o&&this.boundaries.start.offset>tt&&(tt=this.boundaries.start.offset),_=i.offset-tt}const $=i.offset-g.startOffset,et=new br(g,$-_,_);return i.offset-=_,this.position=i,Ms("text",et,e,i,_)}return i.path.pop(),this.position=i,this._visitedParent=o.parent,Ms("elementStart",o,e,i,1)}}function Ms(a,e,i,o,s){return{done:!1,value:{type:a,item:e,previousPosition:i,nextPosition:o,length:s}}}class Tn extends ls{constructor(e,i,o="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new at("model-position-root-invalid",e);if(!(i instanceof Array)||i.length===0)throw new at("model-position-path-incorrect-format",e,{path:i});e.is("rootElement")?i=i.slice():(i=[...e.getPath(),...i],e=e.root),this.root=e,this.path=i,this.stickiness=o}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let i=0;i<this.path.length-1;i++)if(e=e.getChild(e.offsetToIndex(this.path[i])),!e)throw new at("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new at("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Au(this,this.parent)}get nodeAfter(){const e=this.parent;return rv(this,e,Au(this,e))}get nodeBefore(){const e=this.parent;return sv(this,e,Au(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const i=_n(this.path,e.path);switch(i){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[i]<e.path[i]?"before":"after"}}getLastMatchingPosition(e,i={}){i.startPosition=this;const o=new Nr(i);return o.skip(e),o.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const i=this.parent;return i.is("element")?i.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const i=_n(this.path,e.path),o=typeof i=="string"?Math.min(this.path.length,e.path.length):i;return this.path.slice(0,o)}getCommonAncestor(e){const i=this.getAncestors(),o=e.getAncestors();let s=0;for(;i[s]==o[s]&&i[s];)s++;return s===0?null:i[s-1]}getShiftedBy(e){const i=this.clone(),o=i.offset+e;return i.offset=o<0?0:o,i}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const i=Math.min(this.path.length,e.path.length);for(let o=0;o<i;o++){const s=this.path[o]-e.path[o];if(s<-1||s>1)return!1;if(s===1)return av(e,this,o);if(s===-1)return av(this,e,o)}return this.path.length===e.path.length||(this.path.length>e.path.length?rw(this.path,i):rw(e.path,i))}hasSameParentAs(e){return this.root!==e.root?!1:_n(this.getParentPath(),e.getParentPath())=="same"}getTransformedByOperation(e){let i;switch(e.type){case"insert":i=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":i=this._getTransformedByMoveOperation(e);break;case"split":i=this._getTransformedBySplitOperation(e);break;case"merge":i=this._getTransformedByMergeOperation(e);break;default:i=Tn._createAt(this)}return i}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const i=e.movedRange;return i.containsPosition(this)||i.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const i=e.movedRange;let o;return i.containsPosition(this)||i.start.isEqual(this)?(o=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(o=o._getTransformedByDeletion(e.deletionPosition,1))):o=this.isEqual(e.deletionPosition)?Tn._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),o}_getTransformedByDeletion(e,i){const o=Tn._createAt(this);if(this.root!=e.root)return o;if(_n(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+i>this.offset)return null;o.offset-=i}}else if(_n(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;if(e.offset<=this.path[s]){if(e.offset+i>this.path[s])return null;o.path[s]-=i}}return o}_getTransformedByInsertion(e,i){const o=Tn._createAt(this);if(this.root!=e.root)return o;if(_n(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(o.offset+=i);else if(_n(e.getParentPath(),this.getParentPath())=="prefix"){const s=e.path.length-1;e.offset<=this.path[s]&&(o.path[s]+=i)}return o}_getTransformedByMove(e,i,o){if(i=i._getTransformedByDeletion(e,o),e.isEqual(i))return Tn._createAt(this);const s=this._getTransformedByDeletion(e,o);return s===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(o).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,i):s._getTransformedByInsertion(i,o)}_getCombined(e,i){const o=e.path.length-1,s=Tn._createAt(i);return s.stickiness=this.stickiness,s.offset=s.offset+this.path[o]-e.offset,s.path=[...s.path,...this.path.slice(o+1)],s}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,i,o="toNone"){if(e instanceof Tn)return new Tn(e.root,e.path,e.stickiness);{const s=e;if(i=="end")i=s.maxOffset;else{if(i=="before")return this._createBefore(s,o);if(i=="after")return this._createAfter(s,o);if(i!==0&&!i)throw new at("model-createpositionat-offset-required",[this,e])}if(!s.is("element")&&!s.is("documentFragment"))throw new at("model-position-parent-incorrect",[this,e]);const h=s.getPath();return h.push(i),new this(s.root,h,o)}}static _createAfter(e,i){if(!e.parent)throw new at("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,i)}static _createBefore(e,i){if(!e.parent)throw new at("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,i)}static fromJSON(e,i){if(e.root==="$graveyard"){const o=new Tn(i.graveyard,e.path);return o.stickiness=e.stickiness,o}if(!i.getRoot(e.root))throw new at("model-position-fromjson-no-root",i,{rootName:e.root});return new Tn(i.getRoot(e.root),e.path,e.stickiness)}}function Au(a,e){const i=e.getChild(e.offsetToIndex(a.offset));return i&&i.is("$text")&&i.startOffset<a.offset?i:null}function rv(a,e,i){return i!==null?null:e.getChild(e.offsetToIndex(a.offset))}function sv(a,e,i){return i!==null?null:e.getChild(e.offsetToIndex(a.offset)-1)}function av(a,e,i){return i+1!==a.path.length&&!!rw(e.path,i+1)&&!!function(o,s){let h=o.parent,g=o.path.length-1,_=0;for(;g>=s;){if(o.path[g]+_!==h.maxOffset)return!1;_=1,g--,h=h.parent}return!0}(a,i+1)}function rw(a,e){for(;e<a.length;){if(a[e]!==0)return!1;e++}return!0}Tn.prototype.is=function(a){return a==="position"||a==="model:position"};class bn extends ls{constructor(e,i){super(),this.start=Tn._createAt(e),this.end=i?Tn._createAt(i):Tn._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new Nr({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return _n(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,i=!1){e.isCollapsed&&(i=!1);const o=this.containsPosition(e.start)||i&&this.start.isEqual(e.start),s=this.containsPosition(e.end)||i&&this.end.isEqual(e.end);return o&&s}containsItem(e){const i=Tn._createBefore(e);return this.containsPosition(i)||this.start.isEqual(i)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const i=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&i.push(new bn(this.start,e.start)),this.containsPosition(e.end)&&i.push(new bn(e.end,this.end))):i.push(new bn(this.start,this.end)),i}getIntersection(e){if(this.isIntersecting(e)){let i=this.start,o=this.end;return this.containsPosition(e.start)&&(i=e.start),this.containsPosition(e.end)&&(o=e.end),new bn(i,o)}return null}getJoined(e,i=!1){let o=this.isIntersecting(e);if(o||(o=this.start.isBefore(e.start)?i?this.end.isTouching(e.start):this.end.isEqual(e.start):i?e.end.isTouching(this.start):e.end.isEqual(this.start)),!o)return null;let s=this.start,h=this.end;return e.start.isBefore(s)&&(s=e.start),e.end.isAfter(h)&&(h=e.end),new bn(s,h)}getMinimalFlatRanges(){const e=[],i=this.start.getCommonPath(this.end).length,o=Tn._createAt(this.start);let s=o.parent;for(;o.path.length>i+1;){const h=s.maxOffset-o.offset;h!==0&&e.push(new bn(o,o.getShiftedBy(h))),o.path=o.path.slice(0,-1),o.offset++,s=s.parent}for(;o.path.length<=this.end.path.length;){const h=this.end.path[o.path.length-1],g=h-o.offset;g!==0&&e.push(new bn(o,o.getShiftedBy(g))),o.offset=h,o.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new Nr(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const i=new Nr(e);for(const o of i)yield o.item}*getPositions(e={}){e.boundaries=this;const i=new Nr(e);yield i.position;for(const o of i)yield o.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new bn(this.start,this.end)]}getTransformedByOperations(e){const i=[new bn(this.start,this.end)];for(const o of e)for(let s=0;s<i.length;s++){const h=i[s].getTransformedByOperation(o);i.splice(s,1,...h),s+=h.length-1}for(let o=0;o<i.length;o++){const s=i[o];for(let h=o+1;h<i.length;h++){const g=i[h];(s.containsRange(g)||g.containsRange(s)||s.isEqual(g))&&i.splice(h,1)}}return i}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,i=this.end.nodeBefore;return e&&e.is("element")&&e===i?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,i=!1){return this._getTransformedByInsertion(e.position,e.howMany,i)}_getTransformedByMoveOperation(e,i=!1){const o=e.sourcePosition,s=e.howMany,h=e.targetPosition;return this._getTransformedByMove(o,h,s,i)}_getTransformedBySplitOperation(e){const i=this.start._getTransformedBySplitOperation(e);let o=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(o=this.end.getShiftedBy(1)),i.root!=o.root&&(o=this.end.getShiftedBy(-1)),new bn(i,o)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new bn(this.start);let i=this.start._getTransformedByMergeOperation(e),o=this.end._getTransformedByMergeOperation(e);return i.root!=o.root&&(o=this.end.getShiftedBy(-1)),i.isAfter(o)?(e.sourcePosition.isBefore(e.targetPosition)?(i=Tn._createAt(o),i.offset=0):(e.deletionPosition.isEqual(i)||(o=e.deletionPosition),i=e.targetPosition),new bn(i,o)):new bn(i,o)}_getTransformedByInsertion(e,i,o=!1){if(o&&this.containsPosition(e))return[new bn(this.start,e),new bn(e.getShiftedBy(i),this.end._getTransformedByInsertion(e,i))];{const s=new bn(this.start,this.end);return s.start=s.start._getTransformedByInsertion(e,i),s.end=s.end._getTransformedByInsertion(e,i),[s]}}_getTransformedByMove(e,i,o,s=!1){if(this.isCollapsed){const ot=this.start._getTransformedByMove(e,i,o);return[new bn(ot)]}const h=bn._createFromPositionAndShift(e,o),g=i._getTransformedByDeletion(e,o);if(this.containsPosition(i)&&!s&&(h.containsPosition(this.start)||h.containsPosition(this.end))){const ot=this.start._getTransformedByMove(e,i,o),dt=this.end._getTransformedByMove(e,i,o);return[new bn(ot,dt)]}let _;const $=this.getDifference(h);let et=null;const tt=this.getIntersection(h);if($.length==1?et=new bn($[0].start._getTransformedByDeletion(e,o),$[0].end._getTransformedByDeletion(e,o)):$.length==2&&(et=new bn(this.start,this.end._getTransformedByDeletion(e,o))),_=et?et._getTransformedByInsertion(g,o,tt!==null||s):[],tt){const ot=new bn(tt.start._getCombined(h.start,g),tt.end._getCombined(h.start,g));_.length==2?_.splice(1,0,ot):_.push(ot)}return _}_getTransformedByDeletion(e,i){let o=this.start._getTransformedByDeletion(e,i),s=this.end._getTransformedByDeletion(e,i);return o==null&&s==null?null:(o==null&&(o=e),s==null&&(s=e),new bn(o,s))}static _createFromPositionAndShift(e,i){const o=e,s=e.getShiftedBy(i);return i>0?new this(o,s):new this(s,o)}static _createIn(e){return new this(Tn._createAt(e,0),Tn._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(Tn._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new at("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const i=e[0];e.sort((h,g)=>h.start.isAfter(g.start)?1:-1);const o=e.indexOf(i),s=new this(i.start,i.end);if(o>0)for(let h=o-1;e[h].end.isEqual(s.start);h++)s.start=Tn._createAt(e[h].start);for(let h=o+1;h<e.length&&e[h].start.isEqual(s.end);h++)s.end=Tn._createAt(e[h].end);return s}static fromJSON(e,i){return new this(Tn.fromJSON(e.start,i),Tn.fromJSON(e.end,i))}}bn.prototype.is=function(a){return a==="range"||a==="model:range"};class lv extends tn(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,i)=>{if(i.viewPosition)return;const o=this._modelToViewMapping.get(i.modelPosition.parent);if(!o)throw new at("mapping-model-position-view-parent-not-found",this,{modelPosition:i.modelPosition});i.viewPosition=this.findPositionIn(o,i.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,i)=>{if(i.modelPosition)return;const o=this.findMappedViewAncestor(i.viewPosition),s=this._viewToModelMapping.get(o),h=this._toModelOffset(i.viewPosition.parent,i.viewPosition.offset,o);i.modelPosition=Tn._createAt(s,h)},{priority:"low"})}bindElements(e,i){this._modelToViewMapping.set(e,i),this._viewToModelMapping.set(i,e)}unbindViewElement(e,i={}){const o=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const s of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(s);i.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(o)==e&&this._modelToViewMapping.delete(o))}unbindModelElement(e){const i=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(i)==e&&this._viewToModelMapping.delete(i)}bindElementToMarker(e,i){const o=this._markerNameToElements.get(i)||new Set;o.add(e);const s=this._elementToMarkerNames.get(e)||new Set;s.add(i),this._markerNameToElements.set(i,o),this._elementToMarkerNames.set(e,s)}unbindElementFromMarkerName(e,i){const o=this._markerNameToElements.get(i);o&&(o.delete(e),o.size==0&&this._markerNameToElements.delete(i));const s=this._elementToMarkerNames.get(e);s&&(s.delete(i),s.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,i]of this._deferredBindingRemovals)e.root==i&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new bn(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new Wn(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const i={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",i),i.modelPosition}toViewPosition(e,i={}){const o={modelPosition:e,mapper:this,isPhantom:i.isPhantom};return this.fire("modelToViewPosition",o),o.viewPosition}markerNameToElements(e){const i=this._markerNameToElements.get(e);if(!i)return null;const o=new Set;for(const s of i)if(s.is("attributeElement"))for(const h of s.getElementsWithSameId())o.add(h);else o.add(s);return o}registerViewToModelLength(e,i){this._viewToModelLengthCallbacks.set(e,i)}findMappedViewAncestor(e){let i=e.parent;for(;!this._viewToModelMapping.has(i);)i=i.parent;return i}_toModelOffset(e,i,o){if(o!=e)return this._toModelOffset(e.parent,e.index,o)+this._toModelOffset(e,i,e);if(e.is("$text"))return i;let s=0;for(let h=0;h<i;h++)s+=this.getModelLength(e.getChild(h));return s}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let i=0;for(const o of e.getChildren())i+=this.getModelLength(o);return i}}findPositionIn(e,i){let o,s=0,h=0,g=0;if(e.is("$text"))return new Rn(e,i);for(;h<i;)o=e.getChild(g),s=this.getModelLength(o),h+=s,g++;return h==i?this._moveViewPositionToTextNode(new Rn(e,g)):this.findPositionIn(o,i-(h-s))}_moveViewPositionToTextNode(e){const i=e.nodeBefore,o=e.nodeAfter;return i instanceof go?new Rn(i,i.data.length):o instanceof go?new Rn(o,0):e}}class gS{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,i){i=Np(i),e instanceof br&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(i,!0)}consume(e,i){return i=Np(i),e instanceof br&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,i)&&(this._consumable.get(e).set(i,!1),!0)}test(e,i){i=Np(i),e instanceof br&&(e=this._getSymbolForTextProxy(e));const o=this._consumable.get(e);if(o===void 0)return null;const s=o.get(i);return s===void 0?null:s}revert(e,i){i=Np(i),e instanceof br&&(e=this._getSymbolForTextProxy(e));const o=this.test(e,i);return o===!1?(this._consumable.get(e).set(i,!0),!0):o!==!0&&null}verifyAllConsumed(e){const i=[];for(const[o,s]of this._consumable)for(const[h,g]of s){const _=h.split(":")[0];g&&e==_&&i.push({event:h,item:o.name||o.description})}if(i.length)throw new at("conversion-model-consumable-not-consumed",null,{items:i})}_getSymbolForTextProxy(e){let i=null;const o=this._textProxyRegistry.get(e.startOffset);if(o){const s=o.get(e.endOffset);s&&(i=s.get(e.parent))}return i||(i=this._addSymbolForTextProxy(e)),i}_addSymbolForTextProxy(e){const i=e.startOffset,o=e.endOffset,s=e.parent,h=Symbol("$textProxy:"+e.data);let g,_;return g=this._textProxyRegistry.get(i),g||(g=new Map,this._textProxyRegistry.set(i,g)),_=g.get(o),_||(_=new Map,g.set(o,_)),_.set(s,h),h}}function Np(a){const e=a.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?a:e.length>1?e[0]+":"+e[1]:e[0]}class cv extends tn(){constructor(e){super(),this._conversionApi={dispatcher:this,...e},this._firedEventsMap=new WeakMap}convertChanges(e,i,o){const s=this._createConversionApi(o,e.getRefreshedItems());for(const g of e.getMarkersToRemove())this._convertMarkerRemove(g.name,g.range,s);const h=this._reduceChanges(e.getChanges());for(const g of h)g.type==="insert"?this._convertInsert(bn._createFromPositionAndShift(g.position,g.length),s):g.type==="reinsert"?this._convertReinsert(bn._createFromPositionAndShift(g.position,g.length),s):g.type==="remove"?this._convertRemove(g.position,g.length,g.name,s):this._convertAttribute(g.range,g.attributeKey,g.attributeOldValue,g.attributeNewValue,s);for(const g of s.mapper.flushUnboundMarkerNames()){const _=i.get(g).getRange();this._convertMarkerRemove(g,_,s),this._convertMarkerAdd(g,_,s)}for(const g of e.getMarkersToAdd())this._convertMarkerAdd(g.name,g.range,s);s.mapper.flushDeferredBindings(),s.consumable.verifyAllConsumed("insert")}convert(e,i,o,s={}){const h=this._createConversionApi(o,void 0,s);this._convertInsert(e,h);for(const[g,_]of i)this._convertMarkerAdd(g,_,h);h.consumable.verifyAllConsumed("insert")}convertSelection(e,i,o){const s=Array.from(i.getMarkersAtPosition(e.getFirstPosition())),h=this._createConversionApi(o);if(this._addConsumablesForSelection(h.consumable,e,s),this.fire("selection",{selection:e},h),e.isCollapsed){for(const g of s){const _=g.getRange();if(!mS(e.getFirstPosition(),g,h.mapper))continue;const $={item:e,markerName:g.name,markerRange:_};h.consumable.test(e,"addMarker:"+g.name)&&this.fire(`addMarker:${g.name}`,$,h)}for(const g of e.getAttributeKeys()){const _={item:e,range:e.getFirstRange(),attributeKey:g,attributeOldValue:null,attributeNewValue:e.getAttribute(g)};h.consumable.test(e,"attribute:"+_.attributeKey)&&this.fire(`attribute:${_.attributeKey}:$text`,_,h)}}}_convertInsert(e,i,o={}){o.doNotAddConsumables||this._addConsumablesForInsert(i.consumable,Array.from(e));for(const s of Array.from(e.getWalker({shallow:!0})).map(dv))this._testAndFire("insert",s,i)}_convertRemove(e,i,o,s){this.fire(`remove:${o}`,{position:e,length:i},s)}_convertAttribute(e,i,o,s,h){this._addConsumablesForRange(h.consumable,e,`attribute:${i}`);for(const g of e){const _={item:g.item,range:bn._createFromPositionAndShift(g.previousPosition,g.length),attributeKey:i,attributeOldValue:o,attributeNewValue:s};this._testAndFire(`attribute:${i}`,_,h)}}_convertReinsert(e,i){const o=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(i.consumable,o);for(const s of o.map(dv))this._testAndFire("insert",{...s,reconversion:!0},i)}_convertMarkerAdd(e,i,o){if(i.root.rootName=="$graveyard")return;const s=`addMarker:${e}`;if(o.consumable.add(i,s),this.fire(s,{markerName:e,markerRange:i},o),o.consumable.consume(i,s)){this._addConsumablesForRange(o.consumable,i,s);for(const h of i.getItems()){if(!o.consumable.test(h,s))continue;const g={item:h,range:bn._createOn(h),markerName:e,markerRange:i};this.fire(s,g,o)}}}_convertMarkerRemove(e,i,o){i.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:i},o)}_reduceChanges(e){const i={changes:e};return this.fire("reduceChanges",i),i.changes}_addConsumablesForInsert(e,i){for(const o of i){const s=o.item;if(e.test(s,"insert")===null){e.add(s,"insert");for(const h of s.getAttributeKeys())e.add(s,"attribute:"+h)}}return e}_addConsumablesForRange(e,i,o){for(const s of i.getItems())e.add(s,o);return e}_addConsumablesForSelection(e,i,o){e.add(i,"selection");for(const s of o)e.add(i,"addMarker:"+s.name);for(const s of i.getAttributeKeys())e.add(i,"attribute:"+s);return e}_testAndFire(e,i,o){const s=function($,et){const tt=et.item.is("element")?et.item.name:"$text";return`${$}:${tt}`}(e,i),h=i.item.is("$textProxy")?o.consumable._getSymbolForTextProxy(i.item):i.item,g=this._firedEventsMap.get(o),_=g.get(h);if(_){if(_.has(s))return;_.add(s)}else g.set(h,new Set([s]));this.fire(s,i,o)}_testAndFireAddAttributes(e,i){const o={item:e,range:bn._createOn(e)};for(const s of o.item.getAttributeKeys())o.attributeKey=s,o.attributeOldValue=null,o.attributeNewValue=o.item.getAttribute(s),this._testAndFire(`attribute:${s}`,o,i)}_createConversionApi(e,i=new Set,o={}){const s={...this._conversionApi,consumable:new gS,writer:e,options:o,convertItem:h=>this._convertInsert(bn._createOn(h),s),convertChildren:h=>this._convertInsert(bn._createIn(h),s,{doNotAddConsumables:!0}),convertAttributes:h=>this._testAndFireAddAttributes(h,s),canReuseView:h=>!i.has(s.mapper.toModelElement(h))};return this._firedEventsMap.set(s,new Map),s}}function mS(a,e,i){const o=e.getRange(),s=Array.from(a.getAncestors());return s.shift(),s.reverse(),!s.some(h=>{if(o.containsItem(h))return!!i.toViewElement(h).getCustomProperty("addHighlight")})}function dv(a){return{item:a.item,range:bn._createFromPositionAndShift(a.previousPosition,a.length)}}class Rr extends tn(ls){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const i of this._ranges){let o=!1;for(const s of e._ranges)if(i.isEqual(s)){o=!0;break}if(!o)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new bn(e.start,e.end)}getFirstRange(){let e=null;for(const i of this._ranges)e&&!i.start.isBefore(e.start)||(e=i);return e?new bn(e.start,e.end):null}getLastRange(){let e=null;for(const i of this._ranges)e&&!i.end.isAfter(e.end)||(e=i);return e?new bn(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[i,o,s]=e;if(typeof o=="object"&&(s=o,o=void 0),i===null)this._setRanges([]);else if(i instanceof Rr)this._setRanges(i.getRanges(),i.isBackward);else if(i&&typeof i.getRanges=="function")this._setRanges(i.getRanges(),i.isBackward);else if(i instanceof bn)this._setRanges([i],!!s&&!!s.backward);else if(i instanceof Tn)this._setRanges([new bn(i)]);else if(i instanceof yl){const h=!!s&&!!s.backward;let g;if(o=="in")g=bn._createIn(i);else if(o=="on")g=bn._createOn(i);else{if(o===void 0)throw new at("model-selection-setto-required-second-parameter",[this,i]);g=new bn(Tn._createAt(i,o))}this._setRanges([g],h)}else{if(!yn(i))throw new at("model-selection-setto-not-selectable",[this,i]);this._setRanges(i,s&&!!s.backward)}}_setRanges(e,i=!1){const o=Array.from(e),s=o.some(h=>{if(!(h instanceof bn))throw new at("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(g=>!g.isEqual(h))});(o.length!==this._ranges.length||s)&&(this._replaceAllRanges(o),this._lastRangeBackward=!!i,this.fire("change:range",{directChange:!0}))}setFocus(e,i){if(this.anchor===null)throw new at("model-selection-setfocus-no-ranges",[this,e]);const o=Tn._createAt(e,i);if(o.compareWith(this.focus)=="same")return;const s=this.anchor;this._ranges.length&&this._popRange(),o.compareWith(s)=="before"?(this._pushRange(new bn(o,s)),this._lastRangeBackward=!0):(this._pushRange(new bn(s,o)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,i){this.getAttribute(e)!==i&&(this._attrs.set(e,i),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const i of this.getRanges()){const o=hv(i.start,e);o&&sw(o,i)&&(yield o);for(const h of i.getWalker()){const g=h.item;h.type=="elementEnd"&&kS(g,e,i)&&(yield g)}const s=hv(i.end,e);s&&!i.end.isTouching(Tn._createAt(s,0))&&sw(s,i)&&(yield s)}}containsEntireContent(e=this.anchor.root){const i=Tn._createAt(e,0),o=Tn._createAt(e,"end");return i.isTouching(this.getFirstPosition())&&o.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new bn(e.start,e.end))}_checkRange(e){for(let i=0;i<this._ranges.length;i++)if(e.isIntersecting(this._ranges[i]))throw new at("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[i]})}_replaceAllRanges(e){this._removeAllRanges();for(const i of e)this._pushRange(i)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function uv(a,e){return!e.has(a)&&(e.add(a),a.root.document.model.schema.isBlock(a)&&!!a.parent)}function kS(a,e,i){return uv(a,e)&&sw(a,i)}function hv(a,e){const i=a.parent.root.document.model.schema,o=a.parent.getAncestors({parentFirst:!0,includeSelf:!0});let s=!1;const h=o.find(g=>!s&&(s=i.isLimit(g),!s&&uv(g,e)));return o.forEach(g=>e.add(g)),h}function sw(a,e){const i=function(o){const s=o.root.document.model.schema;let h=o.parent;for(;h;){if(s.isBlock(h))return h;h=h.parent}}(a);return i?!e.containsRange(bn._createOn(i),!0):!0}Rr.prototype.is=function(a){return a==="selection"||a==="model:selection"};class wr extends tn(bn){constructor(e,i){super(e,i),bS.call(this)}detach(){this.stopListening()}toRange(){return new bn(this.start,this.end)}static fromRange(e){return new wr(e.start,e.end)}}function bS(){this.listenTo(this.root.document.model,"applyOperation",(a,e)=>{const i=e[0];i.isDocumentOperation&&wS.call(this,i)},{priority:"low"})}function wS(a){const e=this.getTransformedByOperation(a),i=bn._createFromRanges(e),o=!i.isEqual(this),s=function(g,_){switch(_.type){case"insert":return g.containsPosition(_.position);case"move":case"remove":case"reinsert":case"merge":return g.containsPosition(_.sourcePosition)||g.start.isEqual(_.sourcePosition)||g.containsPosition(_.targetPosition);case"split":return g.containsPosition(_.splitPosition)||g.containsPosition(_.insertionPosition)}return!1}(this,a);let h=null;if(o){i.root.rootName=="$graveyard"&&(h=a.type=="remove"?a.sourcePosition:a.deletionPosition);const g=this.toRange();this.start=i.start,this.end=i.end,this.fire("change:range",g,{deletionPosition:h})}else s&&this.fire("change:content",this.toRange(),{deletionPosition:h})}wr.prototype.is=function(a){return a==="liveRange"||a==="model:liveRange"||a=="range"||a==="model:range"};const yu="selection:";class ur extends tn(ls){constructor(e){super(),this._selection=new _S(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,i){this._selection.setFocus(e,i)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,i){this._selection.setAttribute(e,i)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return yu+e}static _isStoreAttributeKey(e){return e.startsWith(yu)}}ur.prototype.is=function(a){return a==="selection"||a=="model:selection"||a=="documentSelection"||a=="model:documentSelection"};class _S extends Rr{constructor(e){super(),this.markers=new mr({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(i,o)=>{const s=o[0];s.isDocumentOperation&&s.type!="marker"&&s.type!="rename"&&s.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(i,o,s,h)=>{this._updateMarker(o,h)}),this.listenTo(this._document,"change",(i,o)=>{(function(s,h){const g=s.document.differ;for(const _ of g.getChanges()){if(_.type!="insert")continue;const $=_.position.parent;_.length===$.maxOffset&&s.enqueueChange(h,et=>{const tt=Array.from($.getAttributeKeys()).filter(ot=>ot.startsWith(yu));for(const ot of tt)et.removeAttribute(ot,$)})}})(this._model,o)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,i){super.setFocus(e,i),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,i){if(this._setAttribute(e,i)){const o=[e];this.fire("change:attribute",{attributeKeys:o,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const i=[e];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}overrideGravity(){const e=Pt();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new at("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const i=this._prepareRange(e);i&&this._ranges.push(i)}_validateSelectionRanges(e){for(const i of e)if(!this._document._validateSelectionRange(i))throw new at("document-selection-wrong-position",this,{range:i})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const i=wr.fromRange(e);return i.on("change:range",(o,s,h)=>{if(this._hasChangedRange=!0,i.root==this._document.graveyard){this._selectionRestorePosition=h.deletionPosition;const g=this._ranges.indexOf(i);this._ranges.splice(g,1),i.detach()}}),i}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let i=!1;for(const s of this._model.markers){const h=s.name.split(":",1)[0];if(!this._observedMarkers.has(h))continue;const g=s.getRange();for(const _ of this.getRanges())g.containsRange(_,!_.isCollapsed)&&e.push(s)}const o=Array.from(this.markers);for(const s of e)this.markers.has(s)||(this.markers.add(s),i=!0);for(const s of Array.from(this.markers))e.includes(s)||(this.markers.remove(s),i=!0);i&&this.fire("change:marker",{oldMarkers:o,directChange:!1})}_updateMarker(e,i){const o=e.name.split(":",1)[0];if(!this._observedMarkers.has(o))return;let s=!1;const h=Array.from(this.markers),g=this.markers.has(e);if(i){let _=!1;for(const $ of this.getRanges())if(i.containsRange($,!$.isCollapsed)){_=!0;break}_&&!g?(this.markers.add(e),s=!0):!_&&g&&(this.markers.remove(e),s=!0)}else g&&(this.markers.remove(e),s=!0);s&&this.fire("change:marker",{oldMarkers:h,directChange:!1})}_updateAttributes(e){const i=Tr(this._getSurroundingAttributes()),o=Tr(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[h,g]of this._attributePriority)g=="low"&&(this._attrs.delete(h),this._attributePriority.delete(h));this._setAttributesTo(i);const s=[];for(const[h,g]of this.getAttributes())o.has(h)&&o.get(h)===g||s.push(h);for(const[h]of o)this.hasAttribute(h)||s.push(h);s.length>0&&this.fire("change:attribute",{attributeKeys:s,directChange:!1})}_setAttribute(e,i,o=!0){const s=o?"normal":"low";return s=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==i&&(this._attrs.set(e,i),this._attributePriority.set(e,s),!0)}_removeAttribute(e,i=!0){const o=i?"normal":"low";return(o!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,o),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const i=new Set;for(const[o,s]of this.getAttributes())e.get(o)!==s&&this._removeAttribute(o,!1);for(const[o,s]of e)this._setAttribute(o,s,!1)&&i.add(o);return i}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const i of e.getAttributeKeys())i.startsWith(yu)&&(yield[i.substr(yu.length),e.getAttribute(i)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),i=this._model.schema;let o=null;if(this.isCollapsed){const s=e.textNode?e.textNode:e.nodeBefore,h=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(o=Rp(s)),o||(o=Rp(h)),!this.isGravityOverridden&&!o){let g=s;for(;g&&!i.isInline(g)&&!o;)g=g.previousSibling,o=Rp(g)}if(!o){let g=h;for(;g&&!i.isInline(g)&&!o;)g=g.nextSibling,o=Rp(g)}o||(o=this.getStoredAttributes())}else{const s=this.getFirstRange();for(const h of s){if(h.item.is("element")&&i.isObject(h.item))break;if(h.type=="text"){o=h.item.getAttributes();break}}}return o}_fixGraveyardSelection(e){const i=this._model.schema.getNearestSelectionRange(e);i&&this._pushRange(i)}}function Rp(a){return a instanceof br||a instanceof mo?a.getAttributes():null}class pv{constructor(e){this._dispatchers=e}add(e){for(const i of this._dispatchers)e(i);return this}}const Ps=function(a){return nr(a,5)};class vS extends pv{elementToElement(e){return this.add(function(i){const o=mv(i.model),s=Cu(i.view,"container");return o.attributes.length&&(o.children=!0),h=>{h.on(`insert:${o.name}`,function(g,_=yS){return($,et,tt)=>{if(!_(et.item,tt.consumable,{preflight:!0}))return;const ot=g(et.item,tt,et);if(!ot)return;_(et.item,tt.consumable);const dt=tt.mapper.toViewPosition(et.range.start);tt.mapper.bindElements(et.item,ot),tt.writer.insert(dt,ot),tt.convertAttributes(et.item),vv(ot,et.item.getChildren(),tt,{reconversion:et.reconversion})}}(s,_v(o)),{priority:i.converterPriority||"normal"}),(o.children||o.attributes.length)&&h.on("reduceChanges",wv(o),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(i){const o=mv(i.model),s=Cu(i.view,"container");return o.children=!0,h=>{if(h._conversionApi.schema.checkChild(o.name,"$text"))throw new at("conversion-element-to-structure-disallowed-text",h,{elementName:o.name});var g,_;h.on(`insert:${o.name}`,(g=s,_=_v(o),($,et,tt)=>{if(!_(et.item,tt.consumable,{preflight:!0}))return;const ot=new Map;tt.writer._registerSlotFactory(function(St,Dt,Ft){return(Yt,cn="children")=>{const wn=Yt.createContainerElement("$slot");let Pn=null;if(cn==="children")Pn=Array.from(St.getChildren());else{if(typeof cn!="function")throw new at("conversion-slot-mode-unknown",Ft.dispatcher,{modeOrFilter:cn});Pn=Array.from(St.getChildren()).filter(Un=>cn(Un))}return Dt.set(wn,Pn),wn}}(et.item,ot,tt));const dt=g(et.item,tt,et);if(tt.writer._clearSlotFactory(),!dt)return;(function(St,Dt,Ft){const Yt=Array.from(Dt.values()).flat(),cn=new Set(Yt);if(cn.size!=Yt.length)throw new at("conversion-slot-filter-overlap",Ft.dispatcher,{element:St});if(cn.size!=St.childCount)throw new at("conversion-slot-filter-incomplete",Ft.dispatcher,{element:St})})(et.item,ot,tt),_(et.item,tt.consumable);const At=tt.mapper.toViewPosition(et.range.start);tt.mapper.bindElements(et.item,dt),tt.writer.insert(At,dt),tt.convertAttributes(et.item),function(St,Dt,Ft,Yt){Ft.mapper.on("modelToViewPosition",Pn,{priority:"highest"});let cn=null,wn=null;for([cn,wn]of Dt)vv(St,wn,Ft,Yt),Ft.writer.move(Ft.writer.createRangeIn(cn),Ft.writer.createPositionBefore(cn)),Ft.writer.remove(cn);function Pn(Un,oo){const ao=oo.modelPosition.nodeAfter,Vo=wn.indexOf(ao);Vo<0||(oo.viewPosition=oo.mapper.findPositionIn(cn,Vo))}Ft.mapper.off("modelToViewPosition",Pn)}(dt,ot,tt,{reconversion:et.reconversion})}),{priority:i.converterPriority||"normal"}),h.on("reduceChanges",wv(o),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(i){i=Ps(i);let o=i.model;typeof o=="string"&&(o={key:o});let s=`attribute:${o.key}`;if(o.name&&(s+=":"+o.name),o.values)for(const g of o.values)i.view[g]=Cu(i.view[g],"attribute");else i.view=Cu(i.view,"attribute");const h=kv(i);return g=>{g.on(s,function(_){return($,et,tt)=>{if(!tt.consumable.test(et.item,$.name))return;const ot=_(et.attributeOldValue,tt,et),dt=_(et.attributeNewValue,tt,et);if(!ot&&!dt)return;tt.consumable.consume(et.item,$.name);const At=tt.writer,St=At.document.selection;if(et.item instanceof Rr||et.item instanceof ur)At.wrap(St.getFirstRange(),dt);else{let Dt=tt.mapper.toViewRange(et.range);et.attributeOldValue!==null&&ot&&(Dt=At.unwrap(Dt,ot)),et.attributeNewValue!==null&&dt&&At.wrap(Dt,dt)}}}(h),{priority:i.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(i){i=Ps(i);let o=i.model;typeof o=="string"&&(o={key:o});let s=`attribute:${o.key}`;if(o.name&&(s+=":"+o.name),o.values)for(const g of o.values)i.view[g]=bv(i.view[g]);else i.view=bv(i.view);const h=kv(i);return g=>{var _;g.on(s,(_=h,($,et,tt)=>{if(!tt.consumable.test(et.item,$.name))return;const ot=_(et.attributeOldValue,tt,et),dt=_(et.attributeNewValue,tt,et);if(!ot&&!dt)return;tt.consumable.consume(et.item,$.name);const At=tt.mapper.toViewElement(et.item),St=tt.writer;if(!At)throw new at("conversion-attribute-to-attribute-on-text",tt.dispatcher,et);if(et.attributeOldValue!==null&&ot)if(ot.key=="class"){const Dt=Uo(ot.value);for(const Ft of Dt)St.removeClass(Ft,At)}else if(ot.key=="style"){const Dt=Object.keys(ot.value);for(const Ft of Dt)St.removeStyle(Ft,At)}else St.removeAttribute(ot.key,At);if(et.attributeNewValue!==null&&dt)if(dt.key=="class"){const Dt=Uo(dt.value);for(const Ft of Dt)St.addClass(Ft,At)}else if(dt.key=="style"){const Dt=Object.keys(dt.value);for(const Ft of Dt)St.setStyle(Ft,dt.value[Ft],At)}else St.setAttribute(dt.key,dt.value,At)}),{priority:i.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(i){const o=Cu(i.view,"ui");return s=>{var h;s.on(`addMarker:${i.model}`,(h=o,(g,_,$)=>{_.isOpening=!0;const et=h(_,$);_.isOpening=!1;const tt=h(_,$);if(!et||!tt)return;const ot=_.markerRange;if(ot.isCollapsed&&!$.consumable.consume(ot,g.name))return;for(const St of ot)if(!$.consumable.consume(St.item,g.name))return;const dt=$.mapper,At=$.writer;At.insert(dt.toViewPosition(ot.start),et),$.mapper.bindElementToMarker(et,_.markerName),ot.isCollapsed||(At.insert(dt.toViewPosition(ot.end),tt),$.mapper.bindElementToMarker(tt,_.markerName)),g.stop()}),{priority:i.converterPriority||"normal"}),s.on(`removeMarker:${i.model}`,(g,_,$)=>{const et=$.mapper.markerNameToElements(_.markerName);if(et){for(const tt of et)$.mapper.unbindElementFromMarkerName(tt,_.markerName),$.writer.clear($.writer.createRangeOn(tt),tt);$.writer.clearClonedElementsGroup(_.markerName),g.stop()}},{priority:i.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(i){return o=>{var s;o.on(`addMarker:${i.model}`,(s=i.view,(h,g,_)=>{if(!g.item||!(g.item instanceof Rr||g.item instanceof ur||g.item.is("$textProxy")))return;const $=aw(s,g,_);if(!$||!_.consumable.consume(g.item,h.name))return;const et=_.writer,tt=fv(et,$),ot=et.document.selection;if(g.item instanceof Rr||g.item instanceof ur)et.wrap(ot.getFirstRange(),tt);else{const dt=_.mapper.toViewRange(g.range),At=et.wrap(dt,tt);for(const St of At.getItems())if(St.is("attributeElement")&&St.isSimilar(tt)){_.mapper.bindElementToMarker(St,g.markerName);break}}}),{priority:i.converterPriority||"normal"}),o.on(`addMarker:${i.model}`,function(h){return(g,_,$)=>{if(!_.item||!(_.item instanceof co))return;const et=aw(h,_,$);if(!et||!$.consumable.test(_.item,g.name))return;const tt=$.mapper.toViewElement(_.item);if(tt&&tt.getCustomProperty("addHighlight")){$.consumable.consume(_.item,g.name);for(const ot of bn._createIn(_.item))$.consumable.consume(ot.item,g.name);tt.getCustomProperty("addHighlight")(tt,et,$.writer),$.mapper.bindElementToMarker(tt,_.markerName)}}}(i.view),{priority:i.converterPriority||"normal"}),o.on(`removeMarker:${i.model}`,function(h){return(g,_,$)=>{if(_.markerRange.isCollapsed)return;const et=aw(h,_,$);if(!et)return;const tt=fv($.writer,et),ot=$.mapper.markerNameToElements(_.markerName);if(ot){for(const dt of ot)$.mapper.unbindElementFromMarkerName(dt,_.markerName),dt.is("attributeElement")?$.writer.unwrap($.writer.createRangeOn(dt),tt):dt.getCustomProperty("removeHighlight")(dt,et.id,$.writer);$.writer.clearClonedElementsGroup(_.markerName),g.stop()}}}(i.view),{priority:i.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(i){i=Ps(i);const o=i.model;let s=i.view;return s||(s=h=>({group:o,name:h.substr(i.model.length+1)})),h=>{var g;h.on(`addMarker:${o}`,(g=s,(_,$,et)=>{const tt=g($.markerName,et);if(!tt)return;const ot=$.markerRange;et.consumable.consume(ot,_.name)&&(gv(ot,!1,et,$,tt),gv(ot,!0,et,$,tt),_.stop())}),{priority:i.converterPriority||"normal"}),h.on(`removeMarker:${o}`,function(_){return($,et,tt)=>{const ot=_(et.markerName,tt);if(!ot)return;const dt=tt.mapper.markerNameToElements(et.markerName);if(dt){for(const St of dt)tt.mapper.unbindElementFromMarkerName(St,et.markerName),St.is("containerElement")?(At(`data-${ot.group}-start-before`,St),At(`data-${ot.group}-start-after`,St),At(`data-${ot.group}-end-before`,St),At(`data-${ot.group}-end-after`,St)):tt.writer.clear(tt.writer.createRangeOn(St),St);tt.writer.clearClonedElementsGroup(et.markerName),$.stop()}function At(St,Dt){if(Dt.hasAttribute(St)){const Ft=new Set(Dt.getAttribute(St).split(","));Ft.delete(ot.name),Ft.size==0?tt.writer.removeAttribute(St,Dt):tt.writer.setAttribute(St,Array.from(Ft).join(","),Dt)}}}}(s),{priority:i.converterPriority||"normal"})}}(e))}}function fv(a,e){const i=a.createAttributeElement("span",e.attributes);return e.classes&&i._addClass(e.classes),typeof e.priority=="number"&&(i._priority=e.priority),i._id=e.id,i}function gv(a,e,i,o,s){const h=e?a.start:a.end,g=h.nodeAfter&&h.nodeAfter.is("element")?h.nodeAfter:null,_=h.nodeBefore&&h.nodeBefore.is("element")?h.nodeBefore:null;if(g||_){let $,et;e&&g||!e&&!_?($=g,et=!0):($=_,et=!1);const tt=i.mapper.toViewElement($);if(tt)return void function(ot,dt,At,St,Dt,Ft){const Yt=`data-${Ft.group}-${dt?"start":"end"}-${At?"before":"after"}`,cn=ot.hasAttribute(Yt)?ot.getAttribute(Yt).split(","):[];cn.unshift(Ft.name),St.writer.setAttribute(Yt,cn.join(","),ot),St.mapper.bindElementToMarker(ot,Dt.markerName)}(tt,e,et,i,o,s)}(function($,et,tt,ot,dt){const At=`${dt.group}-${et?"start":"end"}`,St=dt.name?{name:dt.name}:null,Dt=tt.writer.createUIElement(At,St);tt.writer.insert($,Dt),tt.mapper.bindElementToMarker(Dt,ot.markerName)})(i.mapper.toViewPosition(h),e,i,o,s)}function mv(a){return typeof a=="string"&&(a={name:a}),a.attributes?Array.isArray(a.attributes)||(a.attributes=[a.attributes]):a.attributes=[],a.children=!!a.children,a}function Cu(a,e){return typeof a=="function"?a:(i,o)=>function(s,h,g){typeof s=="string"&&(s={name:s});let _;const $=h.writer,et=Object.assign({},s.attributes);if(g=="container")_=$.createContainerElement(s.name,et);else if(g=="attribute"){const tt={priority:s.priority||Ds.DEFAULT_PRIORITY};_=$.createAttributeElement(s.name,et,tt)}else _=$.createUIElement(s.name,et);if(s.styles){const tt=Object.keys(s.styles);for(const ot of tt)$.setStyle(ot,s.styles[ot],_)}if(s.classes){const tt=s.classes;if(typeof tt=="string")$.addClass(tt,_);else for(const ot of tt)$.addClass(ot,_)}return _}(a,o,e)}function kv(a){return a.model.values?(e,i,o)=>{const s=a.view[e];return s?s(e,i,o):null}:a.view}function bv(a){return typeof a=="string"?e=>({key:a,value:e}):typeof a=="object"?a.value?()=>a:e=>({key:a.key,value:e}):a}function aw(a,e,i){const o=typeof a=="function"?a(e,i):a;return o?(o.priority||(o.priority=10),o.id||(o.id=e.markerName),o):null}function wv(a){const e=function(i){return(o,s)=>{if(!o.is("element",i.name))return!1;if(s.type=="attribute"){if(i.attributes.includes(s.attributeKey))return!0}else if(i.children)return!0;return!1}}(a);return(i,o)=>{const s=[];o.reconvertedElements||(o.reconvertedElements=new Set);for(const h of o.changes){const g=h.type=="attribute"?h.range.start.nodeAfter:h.position.parent;if(g&&e(g,h)){if(!o.reconvertedElements.has(g)){o.reconvertedElements.add(g);const _=Tn._createBefore(g);s.push({type:"remove",name:g.name,position:_,length:1},{type:"reinsert",name:g.name,position:_,length:1})}}else s.push(h)}o.changes=s}}function _v(a){return(e,i,o={})=>{const s=["insert"];for(const h of a.attributes)e.hasAttribute(h)&&s.push(`attribute:${h}`);return!!s.every(h=>i.test(e,h))&&(o.preflight||s.forEach(h=>i.consume(e,h)),!0)}}function vv(a,e,i,o){for(const s of e)AS(a.root,s,i,o)||i.convertItem(s)}function AS(a,e,i,o){const{writer:s,mapper:h}=i;if(!o.reconversion)return!1;const g=h.toViewElement(e);return!(!g||g.root==a)&&!!i.canReuseView(g)&&(s.move(s.createRangeOn(g),h.toViewPosition(Tn._createBefore(e))),!0)}function yS(a,e,{preflight:i}={}){return i?e.test(a,"insert"):e.consume(a,"insert")}function Av(a){const{schema:e,document:i}=a.model;for(const o of i.getRootNames()){const s=i.getRoot(o);if(s.isEmpty&&!e.checkChild(s,"$text")&&e.checkChild(s,"paragraph"))return a.insertElement("paragraph",s),!0}return!1}function yv(a,e,i){const o=i.createContext(a);return!!i.checkChild(o,"paragraph")&&!!i.checkChild(o.push("paragraph"),e)}function Cv(a,e){const i=e.createElement("paragraph");return e.insert(i,a),e.createPositionAt(i,0)}class CS extends pv{elementToElement(e){return this.add(Ev(e))}elementToAttribute(e){return this.add(function(i){i=Ps(i),xv(i);const o=Sv(i,!1),s=lw(i.view),h=s?`element:${s}`:"element";return g=>{g.on(h,o,{priority:i.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(i){i=Ps(i);let o=null;(typeof i.view=="string"||i.view.key)&&(o=function(h){typeof h.view=="string"&&(h.view={key:h.view});const g=h.view.key;let _;return g=="class"||g=="style"?_={[g=="class"?"classes":"styles"]:h.view.value}:_={attributes:{[g]:h.view.value===void 0?/[\s\S]*/:h.view.value}},h.view.name&&(_.name=h.view.name),h.view=_,g}(i)),xv(i,o);const s=Sv(i,!0);return h=>{h.on("element",s,{priority:i.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(i){const o=function(s){return(h,g)=>{const _=typeof s=="string"?s:s(h,g);return g.writer.createElement("$marker",{"data-name":_})}}(i.model);return Ev({...i,model:o})}(e))}dataToMarker(e){return this.add(function(i){i=Ps(i),i.model||(i.model=g=>g?i.view+":"+g:i.view);const o={view:i.view,model:i.model},s=cw(Tv(o,"start")),h=cw(Tv(o,"end"));return g=>{g.on(`element:${i.view}-start`,s,{priority:i.converterPriority||"normal"}),g.on(`element:${i.view}-end`,h,{priority:i.converterPriority||"normal"});const _=It.get("low"),$=It.get("highest"),et=It.get(i.converterPriority)/$;g.on("element",function(tt){return(ot,dt,At)=>{const St=`data-${tt.view}`;function Dt(Ft,Yt){for(const cn of Yt){const wn=tt.model(cn,At),Pn=At.writer.createElement("$marker",{"data-name":wn});At.writer.insert(Pn,Ft),dt.modelCursor.isEqual(Ft)?dt.modelCursor=dt.modelCursor.getShiftedBy(1):dt.modelCursor=dt.modelCursor._getTransformedByInsertion(Ft,1),dt.modelRange=dt.modelRange._getTransformedByInsertion(Ft,1)[0]}}(At.consumable.test(dt.viewItem,{attributes:St+"-end-after"})||At.consumable.test(dt.viewItem,{attributes:St+"-start-after"})||At.consumable.test(dt.viewItem,{attributes:St+"-end-before"})||At.consumable.test(dt.viewItem,{attributes:St+"-start-before"}))&&(dt.modelRange||Object.assign(dt,At.convertChildren(dt.viewItem,dt.modelCursor)),At.consumable.consume(dt.viewItem,{attributes:St+"-end-after"})&&Dt(dt.modelRange.end,dt.viewItem.getAttribute(St+"-end-after").split(",")),At.consumable.consume(dt.viewItem,{attributes:St+"-start-after"})&&Dt(dt.modelRange.end,dt.viewItem.getAttribute(St+"-start-after").split(",")),At.consumable.consume(dt.viewItem,{attributes:St+"-end-before"})&&Dt(dt.modelRange.start,dt.viewItem.getAttribute(St+"-end-before").split(",")),At.consumable.consume(dt.viewItem,{attributes:St+"-start-before"})&&Dt(dt.modelRange.start,dt.viewItem.getAttribute(St+"-start-before").split(",")))}}(o),{priority:_+et})}}(e))}}function Ev(a){const e=cw(a=Ps(a)),i=lw(a.view),o=i?`element:${i}`:"element";return s=>{s.on(o,e,{priority:a.converterPriority||"normal"})}}function lw(a){return typeof a=="string"?a:typeof a=="object"&&typeof a.name=="string"?a.name:null}function cw(a){const e=new Ir(a.view);return(i,o,s)=>{const h=e.match(o.viewItem);if(!h)return;const g=h.match;if(g.name=!0,!s.consumable.test(o.viewItem,g))return;const _=function($,et,tt){return $ instanceof Function?$(et,tt):tt.writer.createElement($)}(a.model,o.viewItem,s);_&&s.safeInsert(_,o.modelCursor)&&(s.consumable.consume(o.viewItem,g),s.convertChildren(o.viewItem,_),s.updateConversionResult(_,o))}}function xv(a,e=null){const i=e===null||(h=>h.getAttribute(e)),o=typeof a.model!="object"?a.model:a.model.key,s=typeof a.model!="object"||a.model.value===void 0?i:a.model.value;a.model={key:o,value:s}}function Sv(a,e){const i=new Ir(a.view);return(o,s,h)=>{if(!s.modelRange&&e)return;const g=i.match(s.viewItem);if(!g||(function(tt,ot){const dt=typeof tt=="function"?tt(ot):tt;return typeof dt=="object"&&!lw(dt)?!1:!dt.classes&&!dt.attributes&&!dt.styles}(a.view,s.viewItem)?g.match.name=!0:delete g.match.name,!h.consumable.test(s.viewItem,g.match)))return;const _=a.model.key,$=typeof a.model.value=="function"?a.model.value(s.viewItem,h):a.model.value;if($===null)return;s.modelRange||Object.assign(s,h.convertChildren(s.viewItem,s.modelCursor)),function(tt,ot,dt,At){let St=!1;for(const Dt of Array.from(tt.getItems({shallow:dt})))At.schema.checkAttribute(Dt,ot.key)&&(St=!0,Dt.hasAttribute(ot.key)||At.writer.setAttribute(ot.key,ot.value,Dt));return St}(s.modelRange,{key:_,value:$},e,h)&&(h.consumable.test(s.viewItem,{name:!0})&&(g.match.name=!0),h.consumable.consume(s.viewItem,g.match))}}function Tv(a,e){return{view:`${a.view}-${e}`,model:(i,o)=>{const s=i.getAttribute("name"),h=a.model(s,o);return o.writer.createElement("$marker",{"data-name":h})}}}class ES extends Lt(){constructor(e,i){super(),this.model=e,this.view=new fS(i),this.mapper=new lv,this.downcastDispatcher=new cv({mapper:this.mapper,schema:e.schema});const o=this.model.document,s=o.selection,h=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(o,"change",()=>{this.view.change(g=>{this.downcastDispatcher.convertChanges(o.differ,h,g),this.downcastDispatcher.convertSelection(s,h,g)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(g,_){return($,et)=>{const tt=et.newSelection,ot=[];for(const At of tt.getRanges())ot.push(_.toModelRange(At));const dt=g.createSelection(ot,{backward:tt.isBackward});dt.isEqual(g.document.selection)||g.change(At=>{At.setSelection(dt)})}}(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",(g,_,$)=>{if(!$.consumable.consume(_.item,g.name))return;const et=$.writer,tt=$.mapper.toViewPosition(_.range.start),ot=et.createText(_.item.data);et.insert(tt,ot)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(g,_,$)=>{$.convertAttributes(_.item),_.reconversion||!_.item.is("element")||_.item.isEmpty||$.convertChildren(_.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(g,_,$)=>{const et=$.mapper.toViewPosition(_.position),tt=_.position.getShiftedBy(_.length),ot=$.mapper.toViewPosition(tt,{isPhantom:!0}),dt=$.writer.createRange(et,ot),At=$.writer.remove(dt.getTrimmed());for(const St of $.writer.createRangeIn(At).getItems())$.mapper.unbindViewElement(St,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("selection",(g,_,$)=>{const et=$.writer,tt=et.document.selection;for(const ot of tt.getRanges())ot.isCollapsed&&ot.end.parent.isAttached()&&$.writer.mergeAttributes(ot.start);et.setSelection(null)},{priority:"high"}),this.downcastDispatcher.on("selection",(g,_,$)=>{const et=_.selection;if(et.isCollapsed||!$.consumable.consume(et,"selection"))return;const tt=[];for(const ot of et.getRanges())tt.push($.mapper.toViewRange(ot));$.writer.setSelection(tt,{backward:et.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(g,_,$)=>{const et=_.selection;if(!et.isCollapsed||!$.consumable.consume(et,"selection"))return;const tt=$.writer,ot=et.getFirstPosition(),dt=$.mapper.toViewPosition(ot),At=tt.breakAttributes(dt);tt.setSelection(At)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(g=>{if(g.rootName=="$graveyard")return null;const _=new D0(this.view.document,g.name);return _.rootName=g.rootName,this.mapper.bindElements(g,_),_})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const i=typeof e=="string"?e:e.name,o=this.model.markers.get(i);if(!o)throw new at("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:i});this.model.change(()=>{this.model.markers._refresh(o)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class Eu{constructor(){this._consumables=new Map}add(e,i){let o;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?o=this._consumables.get(e):(o=new xS(e),this._consumables.set(e,o)),o.add(i))}test(e,i){const o=this._consumables.get(e);return o===void 0?null:e.is("$text")||e.is("documentFragment")?o:o.test(i)}consume(e,i){return!!this.test(e,i)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(i),!0)}revert(e,i){const o=this._consumables.get(e);o!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):o.revert(i))}static consumablesFromElement(e){const i={element:e,name:!0,attributes:[],classes:[],styles:[]},o=e.getAttributeKeys();for(const g of o)g!="style"&&g!="class"&&i.attributes.push(g);const s=e.getClassNames();for(const g of s)i.classes.push(g);const h=e.getStyleNames();for(const g of h)i.styles.push(g);return i}static createFrom(e,i){if(i||(i=new Eu),e.is("$text"))return i.add(e),i;e.is("element")&&i.add(e,Eu.consumablesFromElement(e)),e.is("documentFragment")&&i.add(e);for(const o of e.getChildren())i=Eu.createFrom(o,i);return i}}const Op=["attributes","classes","styles"];class xS{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const i of Op)i in e&&this._add(i,e[i])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const i of Op)if(i in e){const o=this._test(i,e[i]);if(o!==!0)return o}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const i of Op)i in e&&this._consume(i,e[i])}revert(e){e.name&&(this._canConsumeName=!0);for(const i of Op)i in e&&this._revert(i,e[i])}_add(e,i){const o=Cn(i)?i:[i],s=this._consumables[e];for(const h of o){if(e==="attributes"&&(h==="class"||h==="style"))throw new at("viewconsumable-invalid-attribute",this);if(s.set(h,!0),e==="styles")for(const g of this.element.document.stylesProcessor.getRelatedStyles(h))s.set(g,!0)}}_test(e,i){const o=Cn(i)?i:[i],s=this._consumables[e];for(const h of o)if(e!=="attributes"||h!=="class"&&h!=="style"){const g=s.get(h);if(g===void 0)return null;if(!g)return!1}else{const g=h=="class"?"classes":"styles",_=this._test(g,[...this._consumables[g].keys()]);if(_!==!0)return _}return!0}_consume(e,i){const o=Cn(i)?i:[i],s=this._consumables[e];for(const h of o)if(e!=="attributes"||h!=="class"&&h!=="style"){if(s.set(h,!1),e=="styles")for(const g of this.element.document.stylesProcessor.getRelatedStyles(h))s.set(g,!1)}else{const g=h=="class"?"classes":"styles";this._consume(g,[...this._consumables[g].keys()])}}_revert(e,i){const o=Cn(i)?i:[i],s=this._consumables[e];for(const h of o)if(e!=="attributes"||h!=="class"&&h!=="style")s.get(h)===!1&&s.set(h,!0);else{const g=h=="class"?"classes":"styles";this._revert(g,[...this._consumables[g].keys()])}}}class SS extends Lt(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,i)=>{i[0]=new Ns(i[0])},{priority:"highest"}),this.on("checkChild",(e,i)=>{i[0]=new Ns(i[0]),i[1]=this.getDefinition(i[1])},{priority:"highest"})}register(e,i){if(this._sourceDefinitions[e])throw new at("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},i)],this._clearCache()}extend(e,i){if(!this._sourceDefinitions[e])throw new at("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},i)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let i;return i=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[i]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const i=this.getDefinition(e);return!(!i||!i.isBlock)}isLimit(e){const i=this.getDefinition(e);return!!i&&!(!i.isLimit&&!i.isObject)}isObject(e){const i=this.getDefinition(e);return!!i&&!!(i.isObject||i.isLimit&&i.isSelectable&&i.isContent)}isInline(e){const i=this.getDefinition(e);return!(!i||!i.isInline)}isSelectable(e){const i=this.getDefinition(e);return!!i&&!(!i.isSelectable&&!i.isObject)}isContent(e){const i=this.getDefinition(e);return!!i&&!(!i.isContent&&!i.isObject)}checkChild(e,i){return!!i&&this._checkContextMatch(i,e)}checkAttribute(e,i){const o=this.getDefinition(e.last);return!!o&&o.allowAttributes.includes(i)}checkMerge(e,i){if(e instanceof Tn){const o=e.nodeBefore,s=e.nodeAfter;if(!(o instanceof co))throw new at("schema-check-merge-no-element-before",this);if(!(s instanceof co))throw new at("schema-check-merge-no-element-after",this);return this.checkMerge(o,s)}for(const o of i.getChildren())if(!this.checkChild(e,o))return!1;return!0}addChildCheck(e){this.on("checkChild",(i,[o,s])=>{if(!s)return;const h=e(o,s);typeof h=="boolean"&&(i.stop(),i.return=h)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(i,[o,s])=>{const h=e(o,s);typeof h=="boolean"&&(i.stop(),i.return=h)},{priority:"high"})}setAttributeProperties(e,i){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),i)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let i;for(e instanceof Tn?i=e.parent:i=(e instanceof bn?[e]:Array.from(e.getRanges())).reduce((o,s)=>{const h=s.getCommonAncestor();return o?o.getCommonAncestor(h,{includeSelf:!0}):h},null);!this.isLimit(i)&&i.parent;)i=i.parent;return i}checkAttributeInSelection(e,i){if(e.isCollapsed){const o=[...e.getFirstPosition().getAncestors(),new mo("",e.getAttributes())];return this.checkAttribute(o,i)}{const o=e.getRanges();for(const s of o)for(const h of s)if(this.checkAttribute(h.item,i))return!0}return!1}*getValidRanges(e,i){e=function*(o){for(const s of o)yield*s.getMinimalFlatRanges()}(e);for(const o of e)yield*this._getValidRangesForRange(o,i)}getNearestSelectionRange(e,i="both"){if(this.checkChild(e,"$text"))return new bn(e);let o,s;const h=e.getAncestors().reverse().find(g=>this.isLimit(g))||e.root;i!="both"&&i!="backward"||(o=new Nr({boundaries:bn._createIn(h),startPosition:e,direction:"backward"})),i!="both"&&i!="forward"||(s=new Nr({boundaries:bn._createIn(h),startPosition:e}));for(const g of function*(_,$){let et=!1;for(;!et;){if(et=!0,_){const tt=_.next();tt.done||(et=!1,yield{walker:_,value:tt.value})}if($){const tt=$.next();tt.done||(et=!1,yield{walker:$,value:tt.value})}}}(o,s)){const _=g.walker==o?"elementEnd":"elementStart",$=g.value;if($.type==_&&this.isObject($.item))return bn._createOn($.item);if(this.checkChild($.nextPosition,"$text"))return new bn($.nextPosition)}return null}findAllowedParent(e,i){let o=e.parent;for(;o;){if(this.checkChild(o,i))return o;if(this.isLimit(o))return null;o=o.parent}return null}setAllowedAttributes(e,i,o){const s=o.model;for(const[h,g]of Object.entries(i))s.schema.checkAttribute(e,h)&&o.setAttribute(h,g,e)}removeDisallowedAttributes(e,i){for(const o of e)if(o.is("$text"))Dv(this,o,i);else{const s=bn._createIn(o).getPositions();for(const h of s)Dv(this,h.nodeBefore||h.parent,i)}}getAttributesWithProperty(e,i,o){const s={};for(const[h,g]of e.getAttributes()){const _=this.getAttributeProperties(h);_[i]!==void 0&&(o!==void 0&&o!==_[i]||(s[h]=g))}return s}createContext(e){return new Ns(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},i=this._sourceDefinitions,o=Object.keys(i);for(const s of o)e[s]=TS(i[s],s);for(const s of o)DS(e,s);for(const s of o)IS(e,s);for(const s of o)MS(e,s);for(const s of o)PS(e,s),NS(e,s);for(const s of o)RS(e,s),OS(e,s),LS(e,s);this._compiledDefinitions=e}_checkContextMatch(e,i,o=i.length-1){const s=i.getItem(o);if(e.allowIn.includes(s.name)){if(o==0)return!0;{const h=this.getDefinition(s);return this._checkContextMatch(h,i,o-1)}}return!1}*_getValidRangesForRange(e,i){let o=e.start,s=e.start;for(const h of e.getItems({shallow:!0}))h.is("element")&&(yield*this._getValidRangesForRange(bn._createIn(h),i)),this.checkAttribute(h,i)||(o.isEqual(s)||(yield new bn(o,s)),o=Tn._createAfter(h)),s=Tn._createAfter(h);o.isEqual(s)||(yield new bn(o,s))}}class Ns{constructor(e){if(e instanceof Ns)return e;let i;i=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=i.map(FS)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const i=new Ns([e]);return i._items=[...this._items,...i._items],i}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function TS(a,e){const i={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(o,s){for(const h of o){const g=Object.keys(h).filter(_=>_.startsWith("is"));for(const _ of g)s[_]=!!h[_]}}(a,i),Rs(a,i,"allowIn"),Rs(a,i,"allowContentOf"),Rs(a,i,"allowWhere"),Rs(a,i,"allowAttributes"),Rs(a,i,"allowAttributesOf"),Rs(a,i,"allowChildren"),Rs(a,i,"inheritTypesFrom"),function(o,s){for(const h of o){const g=h.inheritAllFrom;g&&(s.allowContentOf.push(g),s.allowWhere.push(g),s.allowAttributesOf.push(g),s.inheritTypesFrom.push(g))}}(a,i),i}function DS(a,e){const i=a[e];for(const o of i.allowChildren){const s=a[o];s&&s.allowIn.push(e)}i.allowChildren.length=0}function IS(a,e){for(const i of a[e].allowContentOf)a[i]&&BS(a,i).forEach(o=>{o.allowIn.push(e)});delete a[e].allowContentOf}function MS(a,e){for(const i of a[e].allowWhere){const o=a[i];if(o){const s=o.allowIn;a[e].allowIn.push(...s)}}delete a[e].allowWhere}function PS(a,e){for(const i of a[e].allowAttributesOf){const o=a[i];if(o){const s=o.allowAttributes;a[e].allowAttributes.push(...s)}}delete a[e].allowAttributesOf}function NS(a,e){const i=a[e];for(const o of i.inheritTypesFrom){const s=a[o];if(s){const h=Object.keys(s).filter(g=>g.startsWith("is"));for(const g of h)g in i||(i[g]=s[g])}}delete i.inheritTypesFrom}function RS(a,e){const i=a[e],o=i.allowIn.filter(s=>a[s]);i.allowIn=Array.from(new Set(o))}function OS(a,e){const i=a[e];for(const o of i.allowIn)a[o].allowChildren.push(e)}function LS(a,e){const i=a[e];i.allowAttributes=Array.from(new Set(i.allowAttributes))}function Rs(a,e,i){for(const o of a){const s=o[i];typeof s=="string"?e[i].push(s):Array.isArray(s)&&e[i].push(...s)}}function BS(a,e){const i=a[e];return(o=a,Object.keys(o).map(s=>o[s])).filter(s=>s.allowIn.includes(i.name));var o}function FS(a){return typeof a=="string"||a.is("documentFragment")?{name:typeof a=="string"?a:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:a.is("element")?a.name:"$text",*getAttributeKeys(){yield*a.getAttributeKeys()},getAttribute:e=>a.getAttribute(e)}}function Dv(a,e,i){for(const o of e.getAttributeKeys())a.checkAttribute(e,o)||i.removeAttribute(o,e)}class jS extends tn(){constructor(e){super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi={...e,consumable:null,writer:null,store:null,convertItem:(i,o)=>this._convertItem(i,o),convertChildren:(i,o)=>this._convertChildren(i,o),safeInsert:(i,o)=>this._safeInsert(i,o),updateConversionResult:(i,o)=>this._updateConversionResult(i,o),splitToAllowedParent:(i,o)=>this._splitToAllowedParent(i,o),getSplitParts:i=>this._getSplitParts(i),keepEmptyElement:i=>this._keepEmptyElement(i)}}convert(e,i,o=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(g,_){let $;for(const et of new Ns(g)){const tt={};for(const dt of et.getAttributeKeys())tt[dt]=et.getAttribute(dt);const ot=_.createElement(et.name,tt);$&&_.insert(ot,$),$=Tn._createAt(ot,0)}return $}(o,i),this.conversionApi.writer=i,this.conversionApi.consumable=Eu.createFrom(e),this.conversionApi.store={};const{modelRange:s}=this._convertItem(e,this._modelCursor),h=i.createDocumentFragment();if(s){this._removeEmptyElements();for(const g of Array.from(this._modelCursor.parent.getChildren()))i.append(g,h);h.markers=function(g,_){const $=new Set,et=new Map,tt=bn._createIn(g).getItems();for(const ot of tt)ot.is("element","$marker")&&$.add(ot);for(const ot of $){const dt=ot.getAttribute("data-name"),At=_.createPositionBefore(ot);et.has(dt)?et.get(dt).end=At.clone():et.set(dt,new bn(At.clone())),_.remove(ot)}return et}(h,i)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,h}_convertItem(e,i){const o={viewItem:e,modelCursor:i,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,o,this.conversionApi):e.is("$text")?this.fire("text",o,this.conversionApi):this.fire("documentFragment",o,this.conversionApi),o.modelRange&&!(o.modelRange instanceof bn))throw new at("view-conversion-dispatcher-incorrect-result",this);return{modelRange:o.modelRange,modelCursor:o.modelCursor}}_convertChildren(e,i){let o=i.is("position")?i:Tn._createAt(i,0);const s=new bn(o);for(const h of Array.from(e.getChildren())){const g=this._convertItem(h,o);g.modelRange instanceof bn&&(s.end=g.modelRange.end,o=g.modelCursor)}return{modelRange:s,modelCursor:o}}_safeInsert(e,i){const o=this._splitToAllowedParent(e,i);return!!o&&(this.conversionApi.writer.insert(e,o.position),!0)}_updateConversionResult(e,i){const o=this._getSplitParts(e),s=this.conversionApi.writer;i.modelRange||(i.modelRange=s.createRange(s.createPositionBefore(e),s.createPositionAfter(o[o.length-1])));const h=this._cursorParents.get(e);i.modelCursor=h?s.createPositionAt(h,0):i.modelRange.end}_splitToAllowedParent(e,i){const{schema:o,writer:s}=this.conversionApi;let h=o.findAllowedParent(i,e);if(h){if(h===i.parent)return{position:i};this._modelCursor.parent.getAncestors().includes(h)&&(h=null)}if(!h)return yv(i,e,o)?{position:Cv(i,s)}:null;const g=this.conversionApi.writer.split(i,h),_=[];for(const et of g.range.getWalker())if(et.type=="elementEnd")_.push(et.item);else{const tt=_.pop(),ot=et.item;this._registerSplitPair(tt,ot)}const $=g.range.end.parent;return this._cursorParents.set(e,$),{position:g.position,cursorParent:$}}_registerSplitPair(e,i){this._splitParts.has(e)||this._splitParts.set(e,[e]);const o=this._splitParts.get(e);this._splitParts.set(i,o),o.push(i)}_getSplitParts(e){let i;return i=this._splitParts.has(e)?this._splitParts.get(e):[e],i}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const i of this._splitParts.keys())i.isEmpty&&!this._emptyElementsToKeep.has(i)&&(this.conversionApi.writer.remove(i),this._splitParts.delete(i),e=!0);e&&this._removeEmptyElements()}}class zS{getHtml(e){const i=document.implementation.createHTMLDocument("").createElement("div");return i.appendChild(e),i.innerHTML}}class VS{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Ip(e,{renderingMode:"data"}),this.htmlWriter=new zS}toData(e){const i=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(i)}toView(e){const i=this._toDom(e);return this.domConverter.domToView(i,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const i=this.domParser.parseFromString(e,"text/html"),o=i.createDocumentFragment(),s=i.body.childNodes;for(;s.length>0;)o.appendChild(s[0]);return o}}class US extends tn(){constructor(e,i){super(),this.model=e,this.mapper=new lv,this.downcastDispatcher=new cv({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(o,s,h)=>{if(!h.consumable.consume(s.item,o.name))return;const g=h.writer,_=h.mapper.toViewPosition(s.range.start),$=g.createText(s.item.data);g.insert(_,$)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(o,s,h)=>{h.convertAttributes(s.item),s.reconversion||!s.item.is("element")||s.item.isEmpty||h.convertChildren(s.item)},{priority:"lowest"}),this.upcastDispatcher=new jS({schema:e.schema}),this.viewDocument=new xp(i),this.stylesProcessor=i,this.htmlProcessor=new VS(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new M0(this.viewDocument),this.upcastDispatcher.on("text",(o,s,{schema:h,consumable:g,writer:_})=>{let $=s.modelCursor;if(!g.test(s.viewItem))return;if(!h.checkChild($,"$text")){if(!yv($,"$text",h)||s.viewItem.data.trim().length==0)return;const tt=$.nodeBefore;$=Cv($,_),tt&&tt.is("element","$marker")&&(_.move(_.createRangeOn(tt),$),$=_.createPositionAfter(tt))}g.consume(s.viewItem);const et=_.createText(s.viewItem.data);_.insert(et,$),s.modelRange=_.createRange($,$.getShiftedBy(et.offsetSize)),s.modelCursor=s.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(o,s,h)=>{if(!s.modelRange&&h.consumable.consume(s.viewItem,{name:!0})){const{modelRange:g,modelCursor:_}=h.convertChildren(s.viewItem,s.modelCursor);s.modelRange=g,s.modelCursor=_}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(o,s,h)=>{if(!s.modelRange&&h.consumable.consume(s.viewItem,{name:!0})){const{modelRange:g,modelCursor:_}=h.convertChildren(s.viewItem,s.modelCursor);s.modelRange=g,s.modelCursor=_}},{priority:"lowest"}),Lt().prototype.decorate.call(this,"init"),Lt().prototype.decorate.call(this,"set"),Lt().prototype.decorate.call(this,"get"),Lt().prototype.decorate.call(this,"toView"),Lt().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},Av)},{priority:"lowest"})}get(e={}){const{rootName:i="main",trim:o="empty"}=e;if(!this._checkIfRootsExists([i]))throw new at("datacontroller-get-non-existent-root",this);const s=this.model.document.getRoot(i);return o!=="empty"||this.model.hasContent(s,{ignoreWhitespaces:!0})?this.stringify(s,e):""}stringify(e,i={}){const o=this.toView(e,i);return this.processor.toData(o)}toView(e,i={}){const o=this.viewDocument,s=this._viewWriter;this.mapper.clearBindings();const h=bn._createIn(e),g=new Is(o);this.mapper.bindElements(e,g);const _=e.is("documentFragment")?e.markers:function($){const et=[],tt=$.root.document;if(!tt)return new Map;const ot=bn._createIn($);for(const dt of tt.model.markers){const At=dt.getRange(),St=At.isCollapsed,Dt=At.start.isEqual(ot.start)||At.end.isEqual(ot.end);if(St&&Dt)et.push([dt.name,At]);else{const Ft=ot.getIntersection(At);Ft&&et.push([dt.name,Ft])}}return et.sort(([dt,At],[St,Dt])=>{if(At.end.compareWith(Dt.start)!=="after")return 1;if(At.start.compareWith(Dt.end)!=="before")return-1;switch(At.start.compareWith(Dt.start)){case"before":return 1;case"after":return-1;default:switch(At.end.compareWith(Dt.end)){case"before":return 1;case"after":return-1;default:return St.localeCompare(dt)}}}),new Map(et)}(e);return this.downcastDispatcher.convert(h,_,s,i),g}init(e){if(this.model.document.version)throw new at("datacontroller-init-document-not-empty",this);let i={};if(typeof e=="string"?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new at("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},o=>{for(const s of Object.keys(i)){const h=this.model.document.getRoot(s);o.insert(this.parse(i[s],h),h,0)}}),Promise.resolve()}set(e,i={}){let o={};if(typeof e=="string"?o.main=e:o=e,!this._checkIfRootsExists(Object.keys(o)))throw new at("datacontroller-set-non-existent-root",this);this.model.enqueueChange(i.batchType||{},s=>{s.setSelection(null),s.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const h of Object.keys(o)){const g=this.model.document.getRoot(h);s.remove(s.createRangeIn(g)),s.insert(this.parse(o[h],g),g,0)}})}parse(e,i="$root"){const o=this.processor.toView(e);return this.toModel(o,i)}toModel(e,i="$root"){return this.model.change(o=>this.upcastDispatcher.convert(e,o,i))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const i of e)if(!this.model.document.getRootNames().includes(i))return!1;return!0}}class HS{constructor(e,i){this._helpers=new Map,this._downcast=Uo(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Uo(i),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,i){const o=this._downcast.includes(i);if(!this._upcast.includes(i)&&!o)throw new at("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[i],isDowncast:o})}for(e){if(!this._helpers.has(e))throw new at("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:i,view:o}of dw(e))this.for("upcast").elementToElement({model:i,view:o,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:i,view:o}of dw(e))this.for("upcast").elementToAttribute({view:o,model:i,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:i,view:o}of dw(e))this.for("upcast").attributeToAttribute({view:o,model:i})}_createConversionHelpers({name:e,dispatchers:i,isDowncast:o}){if(this._helpers.has(e))throw new at("conversion-group-exists",this);const s=o?new vS(i):new CS(i);this._helpers.set(e,s)}}function*dw(a){if(a.model.values)for(const e of a.model.values){const i={key:a.model.key,value:e},o=a.view[e],s=a.upcastAlso?a.upcastAlso[e]:void 0;yield*Iv(i,o,s)}else yield*Iv(a.model,a.view,a.upcastAlso)}function*Iv(a,e,i){if(yield{model:a,view:e},i)for(const o of Uo(i))yield{model:a,view:o}}class hr{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,i){return new this(e.baseVersion)}}function uw(a,e){const i=Pv(e),o=i.reduce((g,_)=>g+_.offsetSize,0),s=a.parent;Tu(a);const h=a.index;return s._insertChild(h,i),Su(s,h+i.length),Su(s,h),new bn(a,a.getShiftedBy(o))}function Mv(a){if(!a.isFlat)throw new at("operation-utils-remove-range-not-flat",this);const e=a.start.parent;Tu(a.start),Tu(a.end);const i=e._removeChildren(a.start.index,a.end.index-a.start.index);return Su(e,a.start.index),i}function xu(a,e){if(!a.isFlat)throw new at("operation-utils-move-range-not-flat",this);const i=Mv(a);return uw(e=e._getTransformedByDeletion(a.start,a.end.offset-a.start.offset),i)}function Pv(a){const e=[];(function i(o){if(typeof o=="string")e.push(new mo(o));else if(o instanceof br)e.push(new mo(o.data,o.getAttributes()));else if(o instanceof yl)e.push(o);else if(yn(o))for(const s of o)i(s)})(a);for(let i=1;i<e.length;i++){const o=e[i],s=e[i-1];o instanceof mo&&s instanceof mo&&Nv(o,s)&&(e.splice(i-1,2,new mo(s.data+o.data,s.getAttributes())),i--)}return e}function Su(a,e){const i=a.getChild(e-1),o=a.getChild(e);if(i&&o&&i.is("$text")&&o.is("$text")&&Nv(i,o)){const s=new mo(i.data+o.data,i.getAttributes());a._removeChildren(e-1,2),a._insertChild(e-1,s)}}function Tu(a){const e=a.textNode,i=a.parent;if(e){const o=a.offset-e.startOffset,s=e.index;i._removeChildren(s,1);const h=new mo(e.data.substr(0,o),e.getAttributes()),g=new mo(e.data.substr(o),e.getAttributes());i._insertChild(s,[h,g])}}function Nv(a,e){const i=a.getAttributes(),o=e.getAttributes();for(const s of i){if(s[1]!==e.getAttribute(s[0]))return!1;o.next()}return o.next().done}class so extends hr{constructor(e,i,o,s){super(s),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=i,this.targetPosition=o.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}clone(){return new so(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new so(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,i=this.targetPosition.parent,o=this.sourcePosition.offset,s=this.targetPosition.offset;if(o+this.howMany>e.maxOffset)throw new at("move-operation-nodes-do-not-exist",this);if(e===i&&o<s&&s<o+this.howMany)throw new at("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&_n(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const h=this.sourcePosition.path.length-1;if(this.targetPosition.path[h]>=o&&this.targetPosition.path[h]<o+this.howMany)throw new at("move-operation-node-into-itself",this)}}_execute(){xu(bn._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,i){const o=Tn.fromJSON(e.sourcePosition,i),s=Tn.fromJSON(e.targetPosition,i);return new this(o,e.howMany,s,e.baseVersion)}}class Ho extends hr{constructor(e,i,o){super(o),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new vu(Pv(i)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const e=new vu([...this.nodes].map(o=>o._clone(!0))),i=new Ho(this.position,e,this.baseVersion);return i.shouldReceiveAttributes=this.shouldReceiveAttributes,i}getReversed(){const e=this.position.root.document.graveyard,i=new Tn(e,[0]);return new so(this.position,this.nodes.maxOffset,i,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new at("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new vu([...e].map(i=>i._clone(!0))),uw(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,i){const o=[];for(const h of e.nodes)h.name?o.push(co.fromJSON(h)):o.push(mo.fromJSON(h));const s=new Ho(Tn.fromJSON(e.position,i),o,e.baseVersion);return s.shouldReceiveAttributes=e.shouldReceiveAttributes,s}}class Jo extends hr{constructor(e,i,o,s,h,g){super(g),this.name=e,this.oldRange=i?i.clone():null,this.newRange=o?o.clone():null,this.affectsData=h,this._markers=s}get type(){return"marker"}clone(){return new Jo(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new Jo(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,i){return new Jo(e.name,e.oldRange?bn.fromJSON(e.oldRange,i):null,e.newRange?bn.fromJSON(e.newRange,i):null,i.model.markers,e.affectsData,e.baseVersion)}}const Rv=function(a,e){return nv(a,e)};class Lo extends hr{constructor(e,i,o,s,h){super(h),this.range=e.clone(),this.key=i,this.oldValue=o===void 0?null:o,this.newValue=s===void 0?null:s}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}clone(){return new Lo(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Lo(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new at("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!Rv(e.getAttribute(this.key),this.oldValue))throw new at("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new at("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){Rv(this.oldValue,this.newValue)||function(e,i,o){Tu(e.start),Tu(e.end);for(const s of e.getItems({shallow:!0})){const h=s.is("$textProxy")?s.textNode:s;o!==null?h._setAttribute(i,o):h._removeAttribute(i),Su(h.parent,h.index)}Su(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,i){return new Lo(bn.fromJSON(e.range,i),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Wo extends hr{get type(){return"noop"}clone(){return new Wo(this.baseVersion)}getReversed(){return new Wo(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class er extends hr{constructor(e,i,o,s){super(s),this.position=e,this.position.stickiness="toNext",this.oldName=i,this.newName=o}get type(){return"rename"}clone(){return new er(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new er(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof co))throw new at("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new at("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,i){return new er(Tn.fromJSON(e.position,i),e.oldName,e.newName,e.baseVersion)}}class qr extends hr{constructor(e,i,o,s,h){super(h),this.root=e,this.key=i,this.oldValue=o,this.newValue=s}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}clone(){return new qr(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new qr(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new at("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new at("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new at("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,i){if(!i.getRoot(e.root))throw new at("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new qr(i.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Ro extends hr{constructor(e,i,o,s,h){super(h),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=i,this.targetPosition=o.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=s.clone()}get type(){return"merge"}get deletionPosition(){return new Tn(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new bn(this.sourcePosition,e)}clone(){return new Ro(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),i=this.sourcePosition.path.slice(0,-1),o=new Tn(this.sourcePosition.root,i)._getTransformedByMergeOperation(this);return new ko(e,this.howMany,o,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,i=this.targetPosition.parent;if(!e.parent)throw new at("merge-operation-source-position-invalid",this);if(!i.parent)throw new at("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new at("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;xu(bn._createIn(e),this.targetPosition),xu(bn._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,i){const o=Tn.fromJSON(e.sourcePosition,i),s=Tn.fromJSON(e.targetPosition,i),h=Tn.fromJSON(e.graveyardPosition,i);return new this(o,e.howMany,s,h,e.baseVersion)}}class ko extends hr{constructor(e,i,o,s,h){super(h),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=i,this.insertionPosition=o,this.graveyardPosition=s?s.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new Tn(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new bn(this.splitPosition,e)}clone(){return new ko(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,i=new Tn(e,[0]);return new Ro(this.moveTargetPosition,this.howMany,this.splitPosition,i,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,i=this.splitPosition.offset;if(!e||e.maxOffset<i)throw new at("split-operation-position-invalid",this);if(!e.parent)throw new at("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new at("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new at("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)xu(bn._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const i=e._clone();uw(this.insertionPosition,i)}xu(new bn(Tn._createAt(e,this.splitPosition.offset),Tn._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const i=e.path.slice(0,-1);return i[i.length-1]++,new Tn(e.root,i,"toPrevious")}static fromJSON(e,i){const o=Tn.fromJSON(e.splitPosition,i),s=Tn.fromJSON(e.insertionPosition,i),h=e.graveyardPosition?Tn.fromJSON(e.graveyardPosition,i):null;return new this(o,e.howMany,s,h,e.baseVersion)}}const _r={};_r[Lo.className]=Lo,_r[Ho.className]=Ho,_r[Jo.className]=Jo,_r[so.className]=so,_r[Wo.className]=Wo,_r[hr.className]=hr,_r[er.className]=er,_r[qr.className]=qr,_r[ko.className]=ko,_r[Ro.className]=Ro;class WS{static fromJSON(e,i){return _r[e.__className].fromJSON(e,i)}}const hw=new Map;function ro(a,e,i){let o=hw.get(a);o||(o=new Map,hw.set(a,o)),o.set(e,i)}function $S(a){return[a]}function Ov(a,e,i={}){const o=function(s,h){const g=hw.get(s);return g&&g.has(h)?g.get(h):$S}(a.constructor,e.constructor);try{return o(a=a.clone(),e,i)}catch(s){throw s}}function GS(a,e,i){a=a.slice(),e=e.slice();const o=new qS(i.document,i.useRelations,i.forceWeakRemove);o.setOriginalOperations(a),o.setOriginalOperations(e);const s=o.originalOperations;if(a.length==0||e.length==0)return{operationsA:a,operationsB:e,originalOperations:s};const h=new WeakMap;for(const $ of a)h.set($,0);const g={nextBaseVersionA:a[a.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:a.length,originalOperationsBCount:e.length};let _=0;for(;_<a.length;){const $=a[_],et=h.get($);if(et==e.length){_++;continue}const tt=e[et],ot=Ov($,tt,o.getContext($,tt,!0)),dt=Ov(tt,$,o.getContext(tt,$,!1));o.updateRelation($,tt),o.setOriginalOperations(ot,$),o.setOriginalOperations(dt,tt);for(const At of ot)h.set(At,et+dt.length);a.splice(_,1,...ot),e.splice(et,1,...dt)}if(i.padWithNoOps){const $=a.length-g.originalOperationsACount,et=e.length-g.originalOperationsBCount;Bv(a,et-$),Bv(e,$-et)}return Lv(a,g.nextBaseVersionB),Lv(e,g.nextBaseVersionA),{operationsA:a,operationsB:e,originalOperations:s}}class qS{constructor(e,i,o=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=i,this._forceWeakRemove=!!o,this._relations=new Map}setOriginalOperations(e,i=null){const o=i?this.originalOperations.get(i):null;for(const s of e)this.originalOperations.set(s,o||s)}updateRelation(e,i){if(e instanceof so)i instanceof Ro?e.targetPosition.isEqual(i.sourcePosition)||i.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,i,"insertAtSource"):e.targetPosition.isEqual(i.deletionPosition)?this._setRelation(e,i,"insertBetween"):e.targetPosition.isAfter(i.sourcePosition)&&this._setRelation(e,i,"moveTargetAfter"):i instanceof so&&(e.targetPosition.isEqual(i.sourcePosition)||e.targetPosition.isBefore(i.sourcePosition)?this._setRelation(e,i,"insertBefore"):this._setRelation(e,i,"insertAfter"));else if(e instanceof ko){if(i instanceof Ro)e.splitPosition.isBefore(i.sourcePosition)&&this._setRelation(e,i,"splitBefore");else if(i instanceof so)if(e.splitPosition.isEqual(i.sourcePosition)||e.splitPosition.isBefore(i.sourcePosition))this._setRelation(e,i,"splitBefore");else{const o=bn._createFromPositionAndShift(i.sourcePosition,i.howMany);if(e.splitPosition.hasSameParentAs(i.sourcePosition)&&o.containsPosition(e.splitPosition)){const s=o.end.offset-e.splitPosition.offset,h=e.splitPosition.offset-o.start.offset;this._setRelation(e,i,{howMany:s,offset:h})}}}else if(e instanceof Ro)i instanceof Ro?(e.targetPosition.isEqual(i.sourcePosition)||this._setRelation(e,i,"mergeTargetNotMoved"),e.sourcePosition.isEqual(i.targetPosition)&&this._setRelation(e,i,"mergeSourceNotMoved"),e.sourcePosition.isEqual(i.sourcePosition)&&this._setRelation(e,i,"mergeSameElement")):i instanceof ko&&e.sourcePosition.isEqual(i.splitPosition)&&this._setRelation(e,i,"splitAtSource");else if(e instanceof Jo){const o=e.newRange;if(!o)return;if(i instanceof so){const s=bn._createFromPositionAndShift(i.sourcePosition,i.howMany),h=s.containsPosition(o.start)||s.start.isEqual(o.start),g=s.containsPosition(o.end)||s.end.isEqual(o.end);!h&&!g||s.containsRange(o)||this._setRelation(e,i,{side:h?"left":"right",path:h?o.start.path.slice():o.end.path.slice()})}else if(i instanceof Ro){const s=o.start.isEqual(i.targetPosition),h=o.start.isEqual(i.deletionPosition),g=o.end.isEqual(i.deletionPosition),_=o.end.isEqual(i.sourcePosition);(s||h||g||_)&&this._setRelation(e,i,{wasInLeftElement:s,wasStartBeforeMergedElement:h,wasEndBeforeMergedElement:g,wasInRightElement:_})}}}getContext(e,i,o){return{aIsStrong:o,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(i),abRelation:this._useRelations?this._getRelation(e,i):null,baRelation:this._useRelations?this._getRelation(i,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const i=this.originalOperations.get(e);return i.wasUndone||this._history.isUndoneOperation(i)}_getRelation(e,i){const o=this.originalOperations.get(i),s=this._history.getUndoneOperation(o);if(!s)return null;const h=this.originalOperations.get(e),g=this._relations.get(h);return g&&g.get(s)||null}_setRelation(e,i,o){const s=this.originalOperations.get(e),h=this.originalOperations.get(i);let g=this._relations.get(s);g||(g=new Map,this._relations.set(s,g)),g.set(h,o)}}function Lv(a,e){for(const i of a)i.baseVersion=e++}function Bv(a,e){for(let i=0;i<e;i++)a.push(new Wo(0))}function Fv(a,e,i){const o=a.nodes.getNode(0).getAttribute(e);if(o==i)return null;const s=new bn(a.position,a.position.getShiftedBy(a.howMany));return new Lo(s,e,o,i,0)}function jv(a,e){return a.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function Cl(a,e){const i=[];for(let o=0;o<a.length;o++){const s=a[o],h=new so(s.start,s.end.offset-s.start.offset,e,0);i.push(h);for(let g=o+1;g<a.length;g++)a[g]=a[g]._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany)[0];e=e._getTransformedByMove(h.sourcePosition,h.targetPosition,h.howMany)}return i}ro(Lo,Lo,(a,e,i)=>{if(a.key===e.key&&a.range.start.hasSameParentAs(e.range.start)){const o=a.range.getDifference(e.range).map(h=>new Lo(h,a.key,a.oldValue,a.newValue,0)),s=a.range.getIntersection(e.range);return s&&i.aIsStrong&&o.push(new Lo(s,e.key,e.newValue,a.newValue,0)),o.length==0?[new Wo(0)]:o}return[a]}),ro(Lo,Ho,(a,e)=>{if(a.range.start.hasSameParentAs(e.position)&&a.range.containsPosition(e.position)){const i=a.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(o=>new Lo(o,a.key,a.oldValue,a.newValue,a.baseVersion));if(e.shouldReceiveAttributes){const o=Fv(e,a.key,a.oldValue);o&&i.unshift(o)}return i}return a.range=a.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[a]}),ro(Lo,Ro,(a,e)=>{const i=[];a.range.start.hasSameParentAs(e.deletionPosition)&&(a.range.containsPosition(e.deletionPosition)||a.range.start.isEqual(e.deletionPosition))&&i.push(bn._createFromPositionAndShift(e.graveyardPosition,1));const o=a.range._getTransformedByMergeOperation(e);return o.isCollapsed||i.push(o),i.map(s=>new Lo(s,a.key,a.oldValue,a.newValue,a.baseVersion))}),ro(Lo,so,(a,e)=>function(o,s){const h=bn._createFromPositionAndShift(s.sourcePosition,s.howMany);let g=null,_=[];h.containsRange(o,!0)?g=o:o.start.hasSameParentAs(h.start)?(_=o.getDifference(h),g=o.getIntersection(h)):_=[o];const $=[];for(let et of _){et=et._getTransformedByDeletion(s.sourcePosition,s.howMany);const tt=s.getMovedRangeStart(),ot=et.start.hasSameParentAs(tt),dt=et._getTransformedByInsertion(tt,s.howMany,ot);$.push(...dt)}return g&&$.push(g._getTransformedByMove(s.sourcePosition,s.targetPosition,s.howMany,!1)[0]),$}(a.range,e).map(o=>new Lo(o,a.key,a.oldValue,a.newValue,a.baseVersion))),ro(Lo,ko,(a,e)=>{if(a.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||a.range.end.offset++,[a];if(a.range.start.hasSameParentAs(e.splitPosition)&&a.range.containsPosition(e.splitPosition)){const i=a.clone();return i.range=new bn(e.moveTargetPosition.clone(),a.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),a.range.end=e.splitPosition.clone(),a.range.end.stickiness="toPrevious",[a,i]}return a.range=a.range._getTransformedBySplitOperation(e),[a]}),ro(Ho,Lo,(a,e)=>{const i=[a];if(a.shouldReceiveAttributes&&a.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(a.position)){const o=Fv(a,e.key,e.newValue);o&&i.push(o)}return i}),ro(Ho,Ho,(a,e,i)=>(a.position.isEqual(e.position)&&i.aIsStrong||(a.position=a.position._getTransformedByInsertOperation(e)),[a])),ro(Ho,so,(a,e)=>(a.position=a.position._getTransformedByMoveOperation(e),[a])),ro(Ho,ko,(a,e)=>(a.position=a.position._getTransformedBySplitOperation(e),[a])),ro(Ho,Ro,(a,e)=>(a.position=a.position._getTransformedByMergeOperation(e),[a])),ro(Jo,Ho,(a,e)=>(a.oldRange&&(a.oldRange=a.oldRange._getTransformedByInsertOperation(e)[0]),a.newRange&&(a.newRange=a.newRange._getTransformedByInsertOperation(e)[0]),[a])),ro(Jo,Jo,(a,e,i)=>{if(a.name==e.name){if(!i.aIsStrong)return[new Wo(0)];a.oldRange=e.newRange?e.newRange.clone():null}return[a]}),ro(Jo,Ro,(a,e)=>(a.oldRange&&(a.oldRange=a.oldRange._getTransformedByMergeOperation(e)),a.newRange&&(a.newRange=a.newRange._getTransformedByMergeOperation(e)),[a])),ro(Jo,so,(a,e,i)=>{if(a.oldRange&&(a.oldRange=bn._createFromRanges(a.oldRange._getTransformedByMoveOperation(e))),a.newRange){if(i.abRelation){const o=bn._createFromRanges(a.newRange._getTransformedByMoveOperation(e));if(i.abRelation.side=="left"&&e.targetPosition.isEqual(a.newRange.start))return a.newRange.end=o.end,a.newRange.start.path=i.abRelation.path,[a];if(i.abRelation.side=="right"&&e.targetPosition.isEqual(a.newRange.end))return a.newRange.start=o.start,a.newRange.end.path=i.abRelation.path,[a]}a.newRange=bn._createFromRanges(a.newRange._getTransformedByMoveOperation(e))}return[a]}),ro(Jo,ko,(a,e,i)=>{if(a.oldRange&&(a.oldRange=a.oldRange._getTransformedBySplitOperation(e)),a.newRange){if(i.abRelation){const o=a.newRange._getTransformedBySplitOperation(e);return a.newRange.start.isEqual(e.splitPosition)&&i.abRelation.wasStartBeforeMergedElement?a.newRange.start=Tn._createAt(e.insertionPosition):a.newRange.start.isEqual(e.splitPosition)&&!i.abRelation.wasInLeftElement&&(a.newRange.start=Tn._createAt(e.moveTargetPosition)),a.newRange.end.isEqual(e.splitPosition)&&i.abRelation.wasInRightElement?a.newRange.end=Tn._createAt(e.moveTargetPosition):a.newRange.end.isEqual(e.splitPosition)&&i.abRelation.wasEndBeforeMergedElement?a.newRange.end=Tn._createAt(e.insertionPosition):a.newRange.end=o.end,[a]}a.newRange=a.newRange._getTransformedBySplitOperation(e)}return[a]}),ro(Ro,Ho,(a,e)=>(a.sourcePosition.hasSameParentAs(e.position)&&(a.howMany+=e.howMany),a.sourcePosition=a.sourcePosition._getTransformedByInsertOperation(e),a.targetPosition=a.targetPosition._getTransformedByInsertOperation(e),[a])),ro(Ro,Ro,(a,e,i)=>{if(a.sourcePosition.isEqual(e.sourcePosition)&&a.targetPosition.isEqual(e.targetPosition)){if(i.bWasUndone){const o=e.graveyardPosition.path.slice();return o.push(0),a.sourcePosition=new Tn(e.graveyardPosition.root,o),a.howMany=0,[a]}return[new Wo(0)]}if(a.sourcePosition.isEqual(e.sourcePosition)&&!a.targetPosition.isEqual(e.targetPosition)&&!i.bWasUndone&&i.abRelation!="splitAtSource"){const o=a.targetPosition.root.rootName=="$graveyard",s=e.targetPosition.root.rootName=="$graveyard";if(s&&!o||!(o&&!s)&&i.aIsStrong){const h=e.targetPosition._getTransformedByMergeOperation(e),g=a.targetPosition._getTransformedByMergeOperation(e);return[new so(h,a.howMany,g,0)]}return[new Wo(0)]}return a.sourcePosition.hasSameParentAs(e.targetPosition)&&(a.howMany+=e.howMany),a.sourcePosition=a.sourcePosition._getTransformedByMergeOperation(e),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(e),a.graveyardPosition.isEqual(e.graveyardPosition)&&i.aIsStrong||(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(e)),[a]}),ro(Ro,so,(a,e,i)=>{const o=bn._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!i.bWasUndone&&!i.forceWeakRemove&&a.deletionPosition.hasSameParentAs(e.sourcePosition)&&o.containsPosition(a.sourcePosition)?[new Wo(0)]:(a.sourcePosition.hasSameParentAs(e.targetPosition)&&(a.howMany+=e.howMany),a.sourcePosition.hasSameParentAs(e.sourcePosition)&&(a.howMany-=e.howMany),a.sourcePosition=a.sourcePosition._getTransformedByMoveOperation(e),a.targetPosition=a.targetPosition._getTransformedByMoveOperation(e),a.graveyardPosition.isEqual(e.targetPosition)||(a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(e)),[a])}),ro(Ro,ko,(a,e,i)=>{if(e.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),a.deletionPosition.isEqual(e.graveyardPosition)&&(a.howMany=e.howMany)),a.targetPosition.isEqual(e.splitPosition)){const o=e.howMany!=0,s=e.graveyardPosition&&a.deletionPosition.isEqual(e.graveyardPosition);if(o||s||i.abRelation=="mergeTargetNotMoved")return a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(e),[a]}if(a.sourcePosition.isEqual(e.splitPosition)){if(i.abRelation=="mergeSourceNotMoved")return a.howMany=0,a.targetPosition=a.targetPosition._getTransformedBySplitOperation(e),[a];if(i.abRelation=="mergeSameElement"||a.sourcePosition.offset>0)return a.sourcePosition=e.moveTargetPosition.clone(),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(e),[a]}return a.sourcePosition.hasSameParentAs(e.splitPosition)&&(a.howMany=e.splitPosition.offset),a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(e),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(e),[a]}),ro(so,Ho,(a,e)=>{const i=bn._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByInsertOperation(e,!1)[0];return a.sourcePosition=i.start,a.howMany=i.end.offset-i.start.offset,a.targetPosition.isEqual(e.position)||(a.targetPosition=a.targetPosition._getTransformedByInsertOperation(e)),[a]}),ro(so,so,(a,e,i)=>{const o=bn._createFromPositionAndShift(a.sourcePosition,a.howMany),s=bn._createFromPositionAndShift(e.sourcePosition,e.howMany);let h,g=i.aIsStrong,_=!i.aIsStrong;if(i.abRelation=="insertBefore"||i.baRelation=="insertAfter"?_=!0:i.abRelation!="insertAfter"&&i.baRelation!="insertBefore"||(_=!1),h=a.targetPosition.isEqual(e.targetPosition)&&_?a.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):a.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),jv(a,e)&&jv(e,a))return[e.getReversed()];if(o.containsPosition(e.targetPosition)&&o.containsRange(s,!0))return o.start=o.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),o.end=o.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Cl([o],h);if(s.containsPosition(a.targetPosition)&&s.containsRange(o,!0))return o.start=o.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),o.end=o.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),Cl([o],h);const $=_n(a.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if($=="prefix"||$=="extension")return o.start=o.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),o.end=o.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Cl([o],h);a.type!="remove"||e.type=="remove"||i.aWasUndone||i.forceWeakRemove?a.type=="remove"||e.type!="remove"||i.bWasUndone||i.forceWeakRemove||(g=!1):g=!0;const et=[],tt=o.getDifference(s);for(const dt of tt){dt.start=dt.start._getTransformedByDeletion(e.sourcePosition,e.howMany),dt.end=dt.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const At=_n(dt.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",St=dt._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,At);et.push(...St)}const ot=o.getIntersection(s);return ot!==null&&g&&(ot.start=ot.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),ot.end=ot.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),et.length===0?et.push(ot):et.length==1?s.start.isBefore(o.start)||s.start.isEqual(o.start)?et.unshift(ot):et.push(ot):et.splice(1,0,ot)),et.length===0?[new Wo(a.baseVersion)]:Cl(et,h)}),ro(so,ko,(a,e,i)=>{let o=a.targetPosition.clone();a.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&i.abRelation!="moveTargetAfter"||(o=a.targetPosition._getTransformedBySplitOperation(e));const s=bn._createFromPositionAndShift(a.sourcePosition,a.howMany);if(s.end.isEqual(e.insertionPosition))return e.graveyardPosition||a.howMany++,a.targetPosition=o,[a];if(s.start.hasSameParentAs(e.splitPosition)&&s.containsPosition(e.splitPosition)){let g=new bn(e.splitPosition,s.end);return g=g._getTransformedBySplitOperation(e),Cl([new bn(s.start,e.splitPosition),g],o)}a.targetPosition.isEqual(e.splitPosition)&&i.abRelation=="insertAtSource"&&(o=e.moveTargetPosition),a.targetPosition.isEqual(e.insertionPosition)&&i.abRelation=="insertBetween"&&(o=a.targetPosition);const h=[s._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const g=s.start.isEqual(e.graveyardPosition)||s.containsPosition(e.graveyardPosition);a.howMany>1&&g&&!i.aWasUndone&&h.push(bn._createFromPositionAndShift(e.insertionPosition,1))}return Cl(h,o)}),ro(so,Ro,(a,e,i)=>{const o=bn._createFromPositionAndShift(a.sourcePosition,a.howMany);if(e.deletionPosition.hasSameParentAs(a.sourcePosition)&&o.containsPosition(e.sourcePosition)){if(a.type!="remove"||i.forceWeakRemove){if(a.howMany==1)return i.bWasUndone?(a.sourcePosition=e.graveyardPosition.clone(),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(e),[a]):[new Wo(0)]}else if(!i.aWasUndone){const h=[];let g=e.graveyardPosition.clone(),_=e.targetPosition._getTransformedByMergeOperation(e);a.howMany>1&&(h.push(new so(a.sourcePosition,a.howMany-1,a.targetPosition,0)),g=g._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1),_=_._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1));const $=e.deletionPosition._getCombined(a.sourcePosition,a.targetPosition),et=new so(g,1,$,0),tt=et.getMovedRangeStart().path.slice();tt.push(0);const ot=new Tn(et.targetPosition.root,tt);_=_._getTransformedByMove(g,$,1);const dt=new so(_,e.howMany,ot,0);return h.push(et),h.push(dt),h}}const s=bn._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByMergeOperation(e);return a.sourcePosition=s.start,a.howMany=s.end.offset-s.start.offset,a.targetPosition=a.targetPosition._getTransformedByMergeOperation(e),[a]}),ro(er,Ho,(a,e)=>(a.position=a.position._getTransformedByInsertOperation(e),[a])),ro(er,Ro,(a,e)=>a.position.isEqual(e.deletionPosition)?(a.position=e.graveyardPosition.clone(),a.position.stickiness="toNext",[a]):(a.position=a.position._getTransformedByMergeOperation(e),[a])),ro(er,so,(a,e)=>(a.position=a.position._getTransformedByMoveOperation(e),[a])),ro(er,er,(a,e,i)=>{if(a.position.isEqual(e.position)){if(!i.aIsStrong)return[new Wo(0)];a.oldName=e.newName}return[a]}),ro(er,ko,(a,e)=>{if(_n(a.position.path,e.splitPosition.getParentPath())=="same"&&!e.graveyardPosition){const i=new er(a.position.getShiftedBy(1),a.oldName,a.newName,0);return[a,i]}return a.position=a.position._getTransformedBySplitOperation(e),[a]}),ro(qr,qr,(a,e,i)=>{if(a.root===e.root&&a.key===e.key){if(!i.aIsStrong||a.newValue===e.newValue)return[new Wo(0)];a.oldValue=e.newValue}return[a]}),ro(ko,Ho,(a,e)=>(a.splitPosition.hasSameParentAs(e.position)&&a.splitPosition.offset<e.position.offset&&(a.howMany+=e.howMany),a.splitPosition=a.splitPosition._getTransformedByInsertOperation(e),a.insertionPosition=a.insertionPosition._getTransformedByInsertOperation(e),[a])),ro(ko,Ro,(a,e,i)=>{if(!a.graveyardPosition&&!i.bWasUndone&&a.splitPosition.hasSameParentAs(e.sourcePosition)){const o=e.graveyardPosition.path.slice();o.push(0);const s=new Tn(e.graveyardPosition.root,o),h=ko.getInsertionPosition(new Tn(e.graveyardPosition.root,o)),g=new ko(s,0,h,null,0);return a.splitPosition=a.splitPosition._getTransformedByMergeOperation(e),a.insertionPosition=ko.getInsertionPosition(a.splitPosition),a.graveyardPosition=g.insertionPosition.clone(),a.graveyardPosition.stickiness="toNext",[g,a]}return a.splitPosition.hasSameParentAs(e.deletionPosition)&&!a.splitPosition.isAfter(e.deletionPosition)&&a.howMany--,a.splitPosition.hasSameParentAs(e.targetPosition)&&(a.howMany+=e.howMany),a.splitPosition=a.splitPosition._getTransformedByMergeOperation(e),a.insertionPosition=ko.getInsertionPosition(a.splitPosition),a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(e)),[a]}),ro(ko,so,(a,e,i)=>{const o=bn._createFromPositionAndShift(e.sourcePosition,e.howMany);if(a.graveyardPosition){const h=o.start.isEqual(a.graveyardPosition)||o.containsPosition(a.graveyardPosition);if(!i.bWasUndone&&h){const g=a.splitPosition._getTransformedByMoveOperation(e),_=a.graveyardPosition._getTransformedByMoveOperation(e),$=_.path.slice();$.push(0);const et=new Tn(_.root,$);return[new so(g,a.howMany,et,0)]}a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(e)}const s=a.splitPosition.isEqual(e.targetPosition);if(s&&(i.baRelation=="insertAtSource"||i.abRelation=="splitBefore"))return a.howMany+=e.howMany,a.splitPosition=a.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),a.insertionPosition=ko.getInsertionPosition(a.splitPosition),[a];if(s&&i.abRelation&&i.abRelation.howMany){const{howMany:h,offset:g}=i.abRelation;return a.howMany+=h,a.splitPosition=a.splitPosition.getShiftedBy(g),[a]}if(a.splitPosition.hasSameParentAs(e.sourcePosition)&&o.containsPosition(a.splitPosition)){const h=e.howMany-(a.splitPosition.offset-e.sourcePosition.offset);return a.howMany-=h,a.splitPosition.hasSameParentAs(e.targetPosition)&&a.splitPosition.offset<e.targetPosition.offset&&(a.howMany+=e.howMany),a.splitPosition=e.sourcePosition.clone(),a.insertionPosition=ko.getInsertionPosition(a.splitPosition),[a]}return e.sourcePosition.isEqual(e.targetPosition)||(a.splitPosition.hasSameParentAs(e.sourcePosition)&&a.splitPosition.offset<=e.sourcePosition.offset&&(a.howMany-=e.howMany),a.splitPosition.hasSameParentAs(e.targetPosition)&&a.splitPosition.offset<e.targetPosition.offset&&(a.howMany+=e.howMany)),a.splitPosition.stickiness="toNone",a.splitPosition=a.splitPosition._getTransformedByMoveOperation(e),a.splitPosition.stickiness="toNext",a.graveyardPosition?a.insertionPosition=a.insertionPosition._getTransformedByMoveOperation(e):a.insertionPosition=ko.getInsertionPosition(a.splitPosition),[a]}),ro(ko,ko,(a,e,i)=>{if(a.splitPosition.isEqual(e.splitPosition)){if(!a.graveyardPosition&&!e.graveyardPosition)return[new Wo(0)];if(a.graveyardPosition&&e.graveyardPosition&&a.graveyardPosition.isEqual(e.graveyardPosition))return[new Wo(0)];if(i.abRelation=="splitBefore")return a.howMany=0,a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(e),[a]}if(a.graveyardPosition&&e.graveyardPosition&&a.graveyardPosition.isEqual(e.graveyardPosition)){const o=a.splitPosition.root.rootName=="$graveyard",s=e.splitPosition.root.rootName=="$graveyard";if(s&&!o||!(o&&!s)&&i.aIsStrong){const h=[];return e.howMany&&h.push(new so(e.moveTargetPosition,e.howMany,e.splitPosition,0)),a.howMany&&h.push(new so(a.splitPosition,a.howMany,a.moveTargetPosition,0)),h}return[new Wo(0)]}if(a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(e)),a.splitPosition.isEqual(e.insertionPosition)&&i.abRelation=="splitBefore")return a.howMany++,[a];if(e.splitPosition.isEqual(a.insertionPosition)&&i.baRelation=="splitBefore"){const o=e.insertionPosition.path.slice();o.push(0);const s=new Tn(e.insertionPosition.root,o);return[a,new so(a.insertionPosition,1,s,0)]}return a.splitPosition.hasSameParentAs(e.splitPosition)&&a.splitPosition.offset<e.splitPosition.offset&&(a.howMany-=e.howMany),a.splitPosition=a.splitPosition._getTransformedBySplitOperation(e),a.insertionPosition=ko.getInsertionPosition(a.splitPosition),[a]});class Ko extends tn(Tn){constructor(e,i,o="toNone"){if(super(e,i,o),!this.root.is("rootElement"))throw new at("model-liveposition-root-not-rootelement",e);KS.call(this)}detach(){this.stopListening()}toPosition(){return new Tn(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,i){return new this(e.root,e.path.slice(),i||e.stickiness)}}function KS(){this.listenTo(this.root.document.model,"applyOperation",(a,e)=>{const i=e[0];i.isDocumentOperation&&YS.call(this,i)},{priority:"low"})}function YS(a){const e=this.getTransformedByOperation(a);if(!this.isEqual(e)){const i=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",i)}}Ko.prototype.is=function(a){return a==="livePosition"||a==="model:livePosition"||a=="position"||a==="model:position"};class El{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},yt("batch-constructor-deprecated-string-type"));const{isUndoable:i=!0,isLocal:o=!0,isUndo:s=!1,isTyping:h=!1}=e;this.operations=[],this.isUndoable=i,this.isLocal=o,this.isUndo=s,this.isTyping=h}get type(){return yt("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}class QS{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0}bufferOperation(e){const i=e;switch(i.type){case"insert":if(this._isInInsertedElement(i.position.parent))return;this._markInsert(i.position.parent,i.position.offset,i.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const o of i.range.getItems({shallow:!0}))this._isInInsertedElement(o.parent)||this._markAttribute(o);break;case"remove":case"move":case"reinsert":{if(i.sourcePosition.isEqual(i.targetPosition)||i.sourcePosition.getShiftedBy(i.howMany).isEqual(i.targetPosition))return;const o=this._isInInsertedElement(i.sourcePosition.parent),s=this._isInInsertedElement(i.targetPosition.parent);o||this._markRemove(i.sourcePosition.parent,i.sourcePosition.offset,i.howMany),s||this._markInsert(i.targetPosition.parent,i.getMovedRangeStart().offset,i.howMany);break}case"rename":{if(this._isInInsertedElement(i.position.parent))return;this._markRemove(i.position.parent,i.position.offset,1),this._markInsert(i.position.parent,i.position.offset,1);const o=bn._createFromPositionAndShift(i.position,1);for(const s of this._markerCollection.getMarkersIntersectingRange(o)){const h=s.getData();this.bufferMarkerChange(s.name,h,h)}break}case"split":{const o=i.splitPosition.parent;this._isInInsertedElement(o)||this._markRemove(o,i.splitPosition.offset,i.howMany),this._isInInsertedElement(i.insertionPosition.parent)||this._markInsert(i.insertionPosition.parent,i.insertionPosition.offset,1),i.graveyardPosition&&this._markRemove(i.graveyardPosition.parent,i.graveyardPosition.offset,1);break}case"merge":{const o=i.sourcePosition.parent;this._isInInsertedElement(o.parent)||this._markRemove(o.parent,o.startOffset,1);const s=i.graveyardPosition.parent;this._markInsert(s,i.graveyardPosition.offset,1);const h=i.targetPosition.parent;this._isInInsertedElement(h)||this._markInsert(h,i.targetPosition.offset,o.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(e,i,o){const s=this._changedMarkers.get(e);s?(s.newMarkerData=o,s.oldMarkerData.range==null&&o.range==null&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{newMarkerData:o,oldMarkerData:i})}getMarkersToRemove(){const e=[];for(const[i,o]of this._changedMarkers)o.oldMarkerData.range!=null&&e.push({name:i,range:o.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[i,o]of this._changedMarkers)o.newMarkerData.range!=null&&e.push({name:i,range:o.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,i])=>({name:e,data:{oldRange:i.oldMarkerData.range,newRange:i.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:i}of this._changedMarkers.values()){if(e.affectsData!==i.affectsData)return!0;if(e.affectsData){const o=e.range&&!i.range,s=!e.range&&i.range,h=e.range&&i.range&&!e.range.isEqual(i.range);if(o||s||h)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let i=[];for(const o of this._changesInElement.keys()){const s=this._changesInElement.get(o).sort((tt,ot)=>tt.offset===ot.offset?tt.type!=ot.type?tt.type=="remove"?-1:1:0:tt.offset<ot.offset?-1:1),h=this._elementSnapshots.get(o),g=zv(o.getChildren()),_=ZS(h.length,s);let $=0,et=0;for(const tt of _)if(tt==="i")i.push(this._getInsertDiff(o,$,g[$])),$++;else if(tt==="r")i.push(this._getRemoveDiff(o,$,h[et])),et++;else if(tt==="a"){const ot=g[$].attributes,dt=h[et].attributes;let At;if(g[$].name=="$text")At=new bn(Tn._createAt(o,$),Tn._createAt(o,$+1));else{const St=o.offsetToIndex($);At=new bn(Tn._createAt(o,$),Tn._createAt(o.getChild(St),0))}i.push(...this._getAttributesDiff(At,dt,ot)),$++,et++}else $++,et++}i.sort((o,s)=>o.position.root!=s.position.root?o.position.root.rootName<s.position.root.rootName?-1:1:o.position.isEqual(s.position)?o.changeCount-s.changeCount:o.position.isBefore(s.position)?-1:1);for(let o=1,s=0;o<i.length;o++){const h=i[s],g=i[o],_=h.type=="remove"&&g.type=="remove"&&h.name=="$text"&&g.name=="$text"&&h.position.isEqual(g.position),$=h.type=="insert"&&g.type=="insert"&&h.name=="$text"&&g.name=="$text"&&h.position.parent==g.position.parent&&h.position.offset+h.length==g.position.offset,et=h.type=="attribute"&&g.type=="attribute"&&h.position.parent==g.position.parent&&h.range.isFlat&&g.range.isFlat&&h.position.offset+h.length==g.position.offset&&h.attributeKey==g.attributeKey&&h.attributeOldValue==g.attributeOldValue&&h.attributeNewValue==g.attributeNewValue;_||$||et?(h.length++,et&&(h.range.end=h.range.end.getShiftedBy(1)),i[o]=null):s=o}i=i.filter(o=>o);for(const o of i)delete o.changeCount,o.type=="attribute"&&(delete o.position,delete o.length);return this._changeCount=0,this._cachedChangesWithGraveyard=i,this._cachedChanges=i.filter(XS),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const i=bn._createOn(e);for(const o of this._markerCollection.getMarkersIntersectingRange(i)){const s=o.getData();this.bufferMarkerChange(o.name,s,s)}this._cachedChanges=null}_markInsert(e,i,o){const s={type:"insert",offset:i,howMany:o,count:this._changeCount++};this._markChange(e,s)}_markRemove(e,i,o){const s={type:"remove",offset:i,howMany:o,count:this._changeCount++};this._markChange(e,s),this._removeAllNestedChanges(e,i,o)}_markAttribute(e){const i={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,i)}_markChange(e,i){this._makeSnapshot(e);const o=this._getChangesForElement(e);this._handleChange(i,o),o.push(i);for(let s=0;s<o.length;s++)o[s].howMany<1&&(o.splice(s,1),s--)}_getChangesForElement(e){let i;return this._changesInElement.has(e)?i=this._changesInElement.get(e):(i=[],this._changesInElement.set(e,i)),i}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,zv(e.getChildren()))}_handleChange(e,i){e.nodesToHandle=e.howMany;for(const o of i){const s=e.offset+e.howMany,h=o.offset+o.howMany;if(e.type=="insert"&&(o.type=="insert"&&(e.offset<=o.offset?o.offset+=e.howMany:e.offset<h&&(o.howMany+=e.nodesToHandle,e.nodesToHandle=0)),o.type=="remove"&&e.offset<o.offset&&(o.offset+=e.howMany),o.type=="attribute")){if(e.offset<=o.offset)o.offset+=e.howMany;else if(e.offset<h){const g=o.howMany;o.howMany=e.offset-o.offset,i.unshift({type:"attribute",offset:s,howMany:g-o.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(o.type=="insert"){if(s<=o.offset)o.offset-=e.howMany;else if(s<=h)if(e.offset<o.offset){const g=s-o.offset;o.offset=e.offset,o.howMany-=g,e.nodesToHandle-=g}else o.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=o.offset)e.nodesToHandle-=o.howMany,o.howMany=0;else if(e.offset<h){const g=h-e.offset;o.howMany-=g,e.nodesToHandle-=g}}if(o.type=="remove"&&(s<=o.offset?o.offset-=e.howMany:e.offset<o.offset&&(e.nodesToHandle+=o.howMany,o.howMany=0)),o.type=="attribute"){if(s<=o.offset)o.offset-=e.howMany;else if(e.offset<o.offset){const g=s-o.offset;o.offset=e.offset,o.howMany-=g}else if(e.offset<h)if(s<=h){const g=o.howMany;o.howMany=e.offset-o.offset;const _=g-o.howMany-e.nodesToHandle;i.unshift({type:"attribute",offset:e.offset,howMany:_,count:this._changeCount++})}else o.howMany-=h-e.offset}}if(e.type=="attribute"){if(o.type=="insert")if(e.offset<o.offset&&s>o.offset){if(s>h){const g={type:"attribute",offset:h,howMany:s-h,count:this._changeCount++};this._handleChange(g,i),i.push(g)}e.nodesToHandle=o.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=o.offset&&e.offset<h&&(s>h?(e.nodesToHandle=s-h,e.offset=h):e.nodesToHandle=0);if(o.type=="remove"&&e.offset<o.offset&&s>o.offset){const g={type:"attribute",offset:o.offset,howMany:s-o.offset,count:this._changeCount++};this._handleChange(g,i),i.push(g),e.nodesToHandle=o.offset-e.offset,e.howMany=e.nodesToHandle}o.type=="attribute"&&(e.offset>=o.offset&&s<=h?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=o.offset&&s>=h&&(o.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,i,o){return{type:"insert",position:Tn._createAt(e,i),name:o.name,attributes:new Map(o.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,i,o){return{type:"remove",position:Tn._createAt(e,i),name:o.name,attributes:new Map(o.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,i,o){const s=[];o=new Map(o);for(const[h,g]of i){const _=o.has(h)?o.get(h):null;_!==g&&s.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:h,attributeOldValue:g,attributeNewValue:_,changeCount:this._changeCount++}),o.delete(h)}for(const[h,g]of o)s.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:h,attributeOldValue:null,attributeNewValue:g,changeCount:this._changeCount++});return s}_isInInsertedElement(e){const i=e.parent;if(!i)return!1;const o=this._changesInElement.get(i),s=e.startOffset;if(o){for(const h of o)if(h.type=="insert"&&s>=h.offset&&s<h.offset+h.howMany)return!0}return this._isInInsertedElement(i)}_removeAllNestedChanges(e,i,o){const s=new bn(Tn._createAt(e,i),Tn._createAt(e,i+o));for(const h of s.getItems({shallow:!0}))h.is("element")&&(this._elementSnapshots.delete(h),this._changesInElement.delete(h),this._removeAllNestedChanges(h,0,h.maxOffset))}}function zv(a){const e=[];for(const i of a)if(i.is("$text"))for(let o=0;o<i.data.length;o++)e.push({name:"$text",attributes:new Map(i.getAttributes())});else e.push({name:i.name,attributes:new Map(i.getAttributes())});return e}function ZS(a,e){const i=[];let o=0,s=0;for(const h of e){if(h.offset>o){for(let g=0;g<h.offset-o;g++)i.push("e");s+=h.offset-o}if(h.type=="insert"){for(let g=0;g<h.howMany;g++)i.push("i");o=h.offset+h.howMany}else if(h.type=="remove"){for(let g=0;g<h.howMany;g++)i.push("r");o=h.offset,s+=h.howMany}else i.push(..."a".repeat(h.howMany).split("")),o=h.offset+h.howMany,s+=h.howMany}if(s<a)for(let h=0;h<a-s-o;h++)i.push("e");return i}function XS(a){const e="position"in a&&a.position.root.rootName=="$graveyard",i="range"in a&&a.range.root.rootName=="$graveyard";return!e&&!i}class JS{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new at("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,i=this.version){if(!this._operations.length)return[];const o=this._operations[0];e===void 0&&(e=o.baseVersion);let s=i-1;for(const[_,$]of this._gaps)e>_&&e<$&&(e=$),s>_&&s<$&&(s=_-1);if(s<o.baseVersion||e>this.lastOperation.baseVersion)return[];let h=this._baseVersionToOperationIndex.get(e);h===void 0&&(h=0);let g=this._baseVersionToOperationIndex.get(s);return g===void 0&&(g=this._operations.length-1),this._operations.slice(h,g+1)}getOperation(e){const i=this._baseVersionToOperationIndex.get(e);if(i!==void 0)return this._operations[i]}setOperationAsUndone(e,i){this._undoPairs.set(i,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class Lp extends co{constructor(e,i,o="main"){super(i),this._document=e,this.rootName=o}get document(){return this._document}toJSON(){return this.rootName}}Lp.prototype.is=function(a,e){return e?e===this.name&&(a==="rootElement"||a==="model:rootElement"||a==="element"||a==="model:element"):a==="rootElement"||a==="model:rootElement"||a==="element"||a==="model:element"||a==="node"||a==="model:node"};const pw="$graveyard";class eT extends tn(){constructor(e){super(),this.model=e,this.history=new JS,this.selection=new ur(this),this.roots=new mr({idProperty:"rootName"}),this.differ=new QS(e.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",pw),this.listenTo(e,"applyOperation",(i,o)=>{const s=o[0];s.isDocumentOperation&&this.differ.bufferOperation(s)},{priority:"high"}),this.listenTo(e,"applyOperation",(i,o)=>{const s=o[0];s.isDocumentOperation&&this.history.addOperation(s)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(i,o,s,h,g)=>{const _={...o.getData(),range:h};this.differ.bufferMarkerChange(o.name,g,_),s===null&&o.on("change",($,et)=>{const tt=o.getData();this.differ.bufferMarkerChange(o.name,{...tt,range:et},tt)})})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(pw)}createRoot(e="$root",i="main"){if(this.roots.get(i))throw new at("model-document-createroot-name-exists",this,{name:i});const o=new Lp(this,e,i);return this.roots.add(o),o}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(){return Array.from(this.roots,e=>e.rootName).filter(e=>e!=pw)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=k0(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const e of this.roots)if(e!==this.graveyard)return e;return this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),i=this.model,o=i.schema,s=i.createPositionFromPath(e,[0]);return o.getNearestSelectionRange(s)||i.createRange(s)}_validateSelectionRange(e){return Vv(e.start)&&Vv(e.end)}_callPostFixers(e){let i=!1;do for(const o of this._postFixers)if(this.selection.refresh(),i=o(e),i)break;while(i)}}function Vv(a){const e=a.textNode;if(e){const i=e.data,o=a.offset-e.startOffset;return!U_(i,o)&&!H_(i,o)}return!0}class tT extends tn(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const i=e instanceof xl?e.name:e;return this._markers.has(i)}get(e){return this._markers.get(e)||null}_set(e,i,o=!1,s=!1){const h=e instanceof xl?e.name:e;if(h.includes(","))throw new at("markercollection-incorrect-marker-name",this);const g=this._markers.get(h);if(g){const et=g.getData(),tt=g.getRange();let ot=!1;return tt.isEqual(i)||(g._attachLiveRange(wr.fromRange(i)),ot=!0),o!=g.managedUsingOperations&&(g._managedUsingOperations=o,ot=!0),typeof s=="boolean"&&s!=g.affectsData&&(g._affectsData=s,ot=!0),ot&&this.fire(`update:${h}`,g,tt,i,et),g}const _=wr.fromRange(i),$=new xl(h,_,o,s);return this._markers.set(h,$),this.fire(`update:${h}`,$,null,i,{...$.getData(),range:null}),$}_remove(e){const i=e instanceof xl?e.name:e,o=this._markers.get(i);return!!o&&(this._markers.delete(i),this.fire(`update:${i}`,o,o.getRange(),null,o.getData()),this._destroyMarker(o),!0)}_refresh(e){const i=e instanceof xl?e.name:e,o=this._markers.get(i);if(!o)throw new at("markercollection-refresh-marker-not-exists",this);const s=o.getRange();this.fire(`update:${i}`,o,s,s,o.getData())}*getMarkersAtPosition(e){for(const i of this)i.getRange().containsPosition(e)&&(yield i)}*getMarkersIntersectingRange(e){for(const i of this)i.getRange().getIntersection(e)!==null&&(yield i)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const i of this._markers.values())i.name.startsWith(e+":")&&(yield i)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class xl extends tn(ls){constructor(e,i,o,s){super(),this.name=e,this._liveRange=this._attachLiveRange(i),this._managedUsingOperations=o,this._affectsData=s}get managedUsingOperations(){if(!this._liveRange)throw new at("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new at("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new at("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new at("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new at("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}xl.prototype.is=function(a){return a==="marker"||a==="model:marker"};class nT extends hr{constructor(e,i){super(null),this.sourcePosition=e.clone(),this.howMany=i}get type(){return"detach"}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new at("detach-operation-on-document-node",this)}_execute(){Mv(bn._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Kr extends ls{constructor(e){super(),this.markers=new Map,this._children=new vu,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let i=this;for(const o of e)i=i.getChild(i.offsetToIndex(o));return i}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const i of this._children)e.push(i.toJSON());return e}static fromJSON(e){const i=[];for(const o of e)o.name?i.push(co.fromJSON(o)):i.push(mo.fromJSON(o));return new Kr(i)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,i){const o=function(s){return typeof s=="string"?[new mo(s)]:(yn(s)||(s=[s]),Array.from(s).map(h=>typeof h=="string"?new mo(h):h instanceof br?new mo(h.data,h.getAttributes()):h))}(i);for(const s of o)s.parent!==null&&s._remove(),s.parent=this;this._children._insertNodes(e,o)}_removeChildren(e,i=1){const o=this._children._removeNodes(e,i);for(const s of o)s.parent=null;return o}}Kr.prototype.is=function(a){return a==="documentFragment"||a==="model:documentFragment"};class iT{constructor(e,i){this.model=e,this.batch=i}createText(e,i){return new mo(e,i)}createElement(e,i){return new co(e,i)}createDocumentFragment(){return new Kr}cloneElement(e,i=!0){return e._clone(i)}insert(e,i,o=0){if(this._assertWriterUsedCorrectly(),e instanceof mo&&e.data=="")return;const s=Tn._createAt(i,o);if(e.parent){if(Wv(e.root,s.root))return void this.move(bn._createOn(e),s);if(e.root.document)throw new at("model-writer-insert-forbidden-move",this);this.remove(e)}const h=s.root.document?s.root.document.version:null,g=new Ho(s,e,h);if(e instanceof mo&&(g.shouldReceiveAttributes=!0),this.batch.addOperation(g),this.model.applyOperation(g),e instanceof Kr)for(const[_,$]of e.markers){const et=Tn._createAt($.root,0),tt={range:new bn($.start._getCombined(et,s),$.end._getCombined(et,s)),usingOperation:!0,affectsData:!0};this.model.markers.has(_)?this.updateMarker(_,tt):this.addMarker(_,tt)}}insertText(e,i,o,s){i instanceof Kr||i instanceof co||i instanceof Tn?this.insert(this.createText(e),i,o):this.insert(this.createText(e,i),o,s)}insertElement(e,i,o,s){i instanceof Kr||i instanceof co||i instanceof Tn?this.insert(this.createElement(e),i,o):this.insert(this.createElement(e,i),o,s)}append(e,i){this.insert(e,i,"end")}appendText(e,i,o){i instanceof Kr||i instanceof co?this.insert(this.createText(e),i,"end"):this.insert(this.createText(e,i),o,"end")}appendElement(e,i,o){i instanceof Kr||i instanceof co?this.insert(this.createElement(e),i,"end"):this.insert(this.createElement(e,i),o,"end")}setAttribute(e,i,o){if(this._assertWriterUsedCorrectly(),o instanceof bn){const s=o.getMinimalFlatRanges();for(const h of s)Uv(this,e,i,h)}else Hv(this,e,i,o)}setAttributes(e,i){for(const[o,s]of Tr(e))this.setAttribute(o,s,i)}removeAttribute(e,i){if(this._assertWriterUsedCorrectly(),i instanceof bn){const o=i.getMinimalFlatRanges();for(const s of o)Uv(this,e,null,s)}else Hv(this,e,null,i)}clearAttributes(e){this._assertWriterUsedCorrectly();const i=o=>{for(const s of o.getAttributeKeys())this.removeAttribute(s,o)};if(e instanceof bn)for(const o of e.getItems())i(o);else i(e)}move(e,i,o){if(this._assertWriterUsedCorrectly(),!(e instanceof bn))throw new at("writer-move-invalid-range",this);if(!e.isFlat)throw new at("writer-move-range-not-flat",this);const s=Tn._createAt(i,o);if(s.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!Wv(e.root,s.root))throw new at("writer-move-different-document",this);const h=e.root.document?e.root.document.version:null,g=new so(e.start,e.end.offset-e.start.offset,s,h);this.batch.addOperation(g),this.model.applyOperation(g)}remove(e){this._assertWriterUsedCorrectly();const i=(e instanceof bn?e:bn._createOn(e)).getMinimalFlatRanges().reverse();for(const o of i)this._addOperationForAffectedMarkers("move",o),oT(o.start,o.end.offset-o.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const i=e.nodeBefore,o=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(i instanceof co))throw new at("writer-merge-no-element-before",this);if(!(o instanceof co))throw new at("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,i,o){return this.model.createPositionFromPath(e,i,o)}createPositionAt(e,i){return this.model.createPositionAt(e,i)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,i){return this.model.createRange(e,i)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const i=e.nodeBefore,o=e.nodeAfter;this.move(bn._createIn(o),Tn._createAt(i,"end")),this.remove(o)}_merge(e){const i=Tn._createAt(e.nodeBefore,"end"),o=Tn._createAt(e.nodeAfter,0),s=e.root.document.graveyard,h=new Tn(s,[0]),g=e.root.document.version,_=new Ro(o,e.nodeAfter.maxOffset,i,h,g);this.batch.addOperation(_),this.model.applyOperation(_)}rename(e,i){if(this._assertWriterUsedCorrectly(),!(e instanceof co))throw new at("writer-rename-not-element-instance",this);const o=e.root.document?e.root.document.version:null,s=new er(Tn._createBefore(e),e.name,i,o);this.batch.addOperation(s),this.model.applyOperation(s)}split(e,i){this._assertWriterUsedCorrectly();let o,s,h=e.parent;if(!h.parent)throw new at("writer-split-element-no-parent",this);if(i||(i=h.parent),!e.parent.getAncestors({includeSelf:!0}).includes(i))throw new at("writer-split-invalid-limit-element",this);do{const g=h.root.document?h.root.document.version:null,_=h.maxOffset-e.offset,$=ko.getInsertionPosition(e),et=new ko(e,_,$,null,g);this.batch.addOperation(et),this.model.applyOperation(et),o||s||(o=h,s=e.parent.nextSibling),h=(e=this.createPositionAfter(e.parent)).parent}while(h!==i);return{position:e,range:new bn(Tn._createAt(o,"end"),Tn._createAt(s,0))}}wrap(e,i){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new at("writer-wrap-range-not-flat",this);const o=i instanceof co?i:new co(i);if(o.childCount>0)throw new at("writer-wrap-element-not-empty",this);if(o.parent!==null)throw new at("writer-wrap-element-attached",this);this.insert(o,e.start);const s=new bn(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(s,Tn._createAt(o,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new at("writer-unwrap-element-no-parent",this);this.move(bn._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,i){if(this._assertWriterUsedCorrectly(),!i||typeof i.usingOperation!="boolean")throw new at("writer-addmarker-no-usingoperation",this);const o=i.usingOperation,s=i.range,h=i.affectsData!==void 0&&i.affectsData;if(this.model.markers.has(e))throw new at("writer-addmarker-marker-exists",this);if(!s)throw new at("writer-addmarker-no-range",this);return o?(Du(this,e,null,s,h),this.model.markers.get(e)):this.model.markers._set(e,s,o,h)}updateMarker(e,i){this._assertWriterUsedCorrectly();const o=typeof e=="string"?e:e.name,s=this.model.markers.get(o);if(!s)throw new at("writer-updatemarker-marker-not-exists",this);if(!i)return yt("writer-updatemarker-reconvert-using-editingcontroller",{markerName:o}),void this.model.markers._refresh(s);const h=typeof i.usingOperation=="boolean",g=typeof i.affectsData=="boolean",_=g?i.affectsData:s.affectsData;if(!h&&!i.range&&!g)throw new at("writer-updatemarker-wrong-options",this);const $=s.getRange(),et=i.range?i.range:$;h&&i.usingOperation!==s.managedUsingOperations?i.usingOperation?Du(this,o,null,et,_):(Du(this,o,$,null,_),this.model.markers._set(o,et,void 0,_)):s.managedUsingOperations?Du(this,o,$,et,_):this.model.markers._set(o,et,void 0,_)}removeMarker(e){this._assertWriterUsedCorrectly();const i=typeof e=="string"?e:e.name;if(!this.model.markers.has(i))throw new at("writer-removemarker-no-marker",this);const o=this.model.markers.get(i);if(!o.managedUsingOperations)return void this.model.markers._remove(i);Du(this,i,o.getRange(),null,o.affectsData)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,i){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,i)}setSelectionAttribute(e,i){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,i);else for(const[o,s]of Tr(e))this._setSelectionAttribute(o,s)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const i of e)this._removeSelectionAttribute(i)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,i){const o=this.model.document.selection;if(o.isCollapsed&&o.anchor.parent.isEmpty){const s=ur._getStoreAttributeKey(e);this.setAttribute(s,i,o.anchor.parent)}o._setAttribute(e,i)}_removeSelectionAttribute(e){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const o=ur._getStoreAttributeKey(e);this.removeAttribute(o,i.anchor.parent)}i._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new at("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,i){for(const o of this.model.markers){if(!o.managedUsingOperations)continue;const s=o.getRange();let h=!1;if(e==="move"){const g=i;h=g.containsPosition(s.start)||g.start.isEqual(s.start)||g.containsPosition(s.end)||g.end.isEqual(s.end)}else{const g=i,_=g.nodeBefore,$=g.nodeAfter,et=s.start.parent==_&&s.start.isAtEnd,tt=s.end.parent==$&&s.end.offset==0,ot=s.end.nodeAfter==$,dt=s.start.nodeAfter==$;h=et||tt||ot||dt}h&&this.updateMarker(o.name,{range:s})}}}function Uv(a,e,i,o){const s=a.model,h=s.document;let g,_,$,et=o.start;for(const ot of o.getWalker({shallow:!0}))$=ot.item.getAttribute(e),g&&_!=$&&(_!=i&&tt(),et=g),g=ot.nextPosition,_=$;function tt(){const ot=new bn(et,g),dt=ot.root.document?h.version:null,At=new Lo(ot,e,_,i,dt);a.batch.addOperation(At),s.applyOperation(At)}g instanceof Tn&&g!=et&&_!=i&&tt()}function Hv(a,e,i,o){const s=a.model,h=s.document,g=o.getAttribute(e);let _,$;if(g!=i){if(o.root===o){const et=o.document?h.version:null;$=new qr(o,e,g,i,et)}else{_=new bn(Tn._createBefore(o),a.createPositionAfter(o));const et=_.root.document?h.version:null;$=new Lo(_,e,g,i,et)}a.batch.addOperation($),s.applyOperation($)}}function Du(a,e,i,o,s){const h=a.model,g=h.document,_=new Jo(e,i,o,h.markers,!!s,g.version);a.batch.addOperation(_),h.applyOperation(_)}function oT(a,e,i,o){let s;if(a.root.document){const h=o.document,g=new Tn(h.graveyard,[0]);s=new so(a,e,g,h.version)}else s=new nT(a,e);i.addOperation(s),o.applyOperation(s)}function Wv(a,e){return a===e||a instanceof Lp&&e instanceof Lp}function rT(a){a.document.registerPostFixer(e=>function(i,o){const s=o.document.selection,h=o.schema,g=[];let _=!1;for(const $ of s.getRanges()){const et=sT($,h);et&&!et.isEqual($)?(g.push(et),_=!0):g.push($)}return _&&i.setSelection(function($){const et=[...$],tt=new Set;let ot=1;for(;ot<et.length;){const dt=et[ot],At=et.slice(0,ot);for(const[St,Dt]of At.entries())if(!tt.has(St)){if(dt.isEqual(Dt))tt.add(St);else if(dt.isIntersecting(Dt)){tt.add(St),tt.add(ot);const Ft=dt.getJoined(Dt);et.push(Ft)}}ot++}return et.filter((dt,At)=>!tt.has(At))}(g),{backward:s.isBackward}),!1}(e,a))}function sT(a,e){return a.isCollapsed?function(i,o){const s=i.start,h=o.getNearestSelectionRange(s);if(!h){const _=s.getAncestors().reverse().find($=>o.isObject($));return _?bn._createOn(_):null}if(!h.isCollapsed)return h;const g=h.start;return s.isEqual(g)?null:new bn(g)}(a,e):function(i,o){const{start:s,end:h}=i,g=o.checkChild(s,"$text"),_=o.checkChild(h,"$text"),$=o.getLimitElement(s),et=o.getLimitElement(h);if($===et){if(g&&_)return null;if(function(dt,At,St){const Dt=dt.nodeAfter&&!St.isLimit(dt.nodeAfter)||St.checkChild(dt,"$text"),Ft=At.nodeBefore&&!St.isLimit(At.nodeBefore)||St.checkChild(At,"$text");return Dt||Ft}(s,h,o)){const dt=s.nodeAfter&&o.isSelectable(s.nodeAfter)?null:o.getNearestSelectionRange(s,"forward"),At=h.nodeBefore&&o.isSelectable(h.nodeBefore)?null:o.getNearestSelectionRange(h,"backward"),St=dt?dt.start:s,Dt=At?At.end:h;return new bn(St,Dt)}}const tt=$&&!$.is("rootElement"),ot=et&&!et.is("rootElement");if(tt||ot){const dt=s.nodeAfter&&h.nodeBefore&&s.nodeAfter.parent===h.nodeBefore.parent,At=tt&&(!dt||!Gv(s.nodeAfter,o)),St=ot&&(!dt||!Gv(h.nodeBefore,o));let Dt=s,Ft=h;return At&&(Dt=Tn._createBefore($v($,o))),St&&(Ft=Tn._createAfter($v(et,o))),new bn(Dt,Ft)}return null}(a,e)}function $v(a,e){let i=a,o=i;for(;e.isLimit(o)&&o.parent;)i=o,o=o.parent;return i}function Gv(a,e){return a&&e.isSelectable(a)}function aT(a,e,i={}){if(e.isCollapsed)return;const o=e.getFirstRange();if(o.root.rootName=="$graveyard")return;const s=a.schema;a.change(h=>{if(!i.doNotResetEntireContent&&function(et,tt){const ot=et.getLimitElement(tt);if(!tt.containsEntireContent(ot))return!1;const dt=tt.getFirstRange();return dt.start.parent==dt.end.parent?!1:et.checkChild(ot,"paragraph")}(s,e))return void function(et,tt){const ot=et.model.schema.getLimitElement(tt);et.remove(et.createRangeIn(ot)),Yv(et,et.createPositionAt(ot,0),tt)}(h,e);const g={};if(!i.doNotAutoparagraph){const et=e.getSelectedElement();et&&Object.assign(g,s.getAttributesWithProperty(et,"copyOnReplace",!0))}const[_,$]=function(et){const tt=et.root.document.model,ot=et.start;let dt=et.end;if(tt.hasContent(et,{ignoreMarkers:!0})){const At=function(St){const Dt=St.parent,Ft=Dt.root.document.model.schema,Yt=Dt.getAncestors({parentFirst:!0,includeSelf:!0});for(const cn of Yt){if(Ft.isLimit(cn))return null;if(Ft.isBlock(cn))return cn}}(dt);if(At&&dt.isTouching(tt.createPositionAt(At,0))){const St=tt.createSelection(et);tt.modifySelection(St,{direction:"backward"});const Dt=St.getLastPosition(),Ft=tt.createRange(Dt,dt);tt.hasContent(Ft,{ignoreMarkers:!0})||(dt=Dt)}}return[Ko.fromPosition(ot,"toPrevious"),Ko.fromPosition(dt,"toNext")]}(o);_.isTouching($)||h.remove(h.createRange(_,$)),i.leaveUnmerged||(function(et,tt,ot){const dt=et.model;if(!fw(et.model.schema,tt,ot))return;const[At,St]=function(Dt,Ft){const Yt=Dt.getAncestors(),cn=Ft.getAncestors();let wn=0;for(;Yt[wn]&&Yt[wn]==cn[wn];)wn++;return[Yt[wn],cn[wn]]}(tt,ot);!At||!St||(!dt.hasContent(At,{ignoreMarkers:!0})&&dt.hasContent(St,{ignoreMarkers:!0})?Kv(et,tt,ot,At.parent):qv(et,tt,ot,At.parent))}(h,_,$),s.removeDisallowedAttributes(_.parent.getChildren(),h)),Qv(h,e,_),!i.doNotAutoparagraph&&function(et,tt){const ot=et.checkChild(tt,"$text"),dt=et.checkChild(tt,"paragraph");return!ot&&dt}(s,_)&&Yv(h,_,e,g),_.detach(),$.detach()})}function qv(a,e,i,o){const s=e.parent,h=i.parent;if(s!=o&&h!=o){for(e=a.createPositionAfter(s),(i=a.createPositionBefore(h)).isEqual(e)||a.insert(h,e),a.merge(e);i.parent.isEmpty;){const g=i.parent;i=a.createPositionBefore(g),a.remove(g)}fw(a.model.schema,e,i)&&qv(a,e,i,o)}}function Kv(a,e,i,o){const s=e.parent,h=i.parent;if(s!=o&&h!=o){for(e=a.createPositionAfter(s),(i=a.createPositionBefore(h)).isEqual(e)||a.insert(s,i);e.parent.isEmpty;){const g=e.parent;e=a.createPositionBefore(g),a.remove(g)}i=a.createPositionBefore(h),function(g,_){const $=_.nodeBefore,et=_.nodeAfter;$.name!=et.name&&g.rename($,et.name),g.clearAttributes($),g.setAttributes(Object.fromEntries(et.getAttributes()),$),g.merge(_)}(a,i),fw(a.model.schema,e,i)&&Kv(a,e,i,o)}}function fw(a,e,i){const o=e.parent,s=i.parent;return o!=s&&!a.isLimit(o)&&!a.isLimit(s)&&function(h,g,_){const $=new bn(h,g);for(const et of $.getWalker())if(_.isLimit(et.item))return!1;return!0}(e,i,a)}function Yv(a,e,i,o={}){const s=a.createElement("paragraph");a.model.schema.setAllowedAttributes(s,o,a),a.insert(s,e),Qv(a,i,a.createPositionAt(s,0))}function Qv(a,e,i){e instanceof ur?a.setSelection(i):e.setTo(i)}function Zv(a,e){const i=[];Array.from(a.getItems({direction:"backward"})).map(o=>e.createRangeOn(o)).filter(o=>(o.start.isAfter(a.start)||o.start.isEqual(a.start))&&(o.end.isBefore(a.end)||o.end.isEqual(a.end))).forEach(o=>{i.push(o.start.parent),e.remove(o)}),i.forEach(o=>{let s=o;for(;s.parent&&s.isEmpty;){const h=e.createRangeOn(s);s=s.parent,e.remove(h)}})}class lT{constructor(e,i,o){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=i,this.position=o,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=i.createDocumentFragment(),this._documentFragmentPosition=i.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const i of Array.from(e))this._handleNode(i);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const i=this.writer.createPositionAfter(this._lastNode),o=this.writer.createPositionAfter(e);if(o.isAfter(i)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new at("insertcontent-invalid-insertion-position",this);this.position=o,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?bn._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new bn(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let i=this._checkAndAutoParagraphToAllowedPosition(e);i||(i=this._checkAndSplitToAllowedPosition(e),i)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=Ko.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new at("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=Ko.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Ko.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof co)||!this._canMergeLeft(e))return;const i=Ko._createBefore(e);i.stickiness="toNext";const o=Ko.fromPosition(this.position,"toNext");this._affectedStart.isEqual(i)&&(this._affectedStart.detach(),this._affectedStart=Ko._createAt(i.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=Ko._createAt(i.nodeBefore,"end","toNext")),this.position=o.toPosition(),o.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof co)||!this._canMergeRight(e))return;const i=Ko._createAfter(e);if(i.stickiness="toNext",!this.position.isEqual(i))throw new at("insertcontent-invalid-insertion-position",this);this.position=Tn._createAt(i.nodeBefore,"end");const o=Ko.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(i)&&(this._affectedEnd.detach(),this._affectedEnd=Ko._createAt(i.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=Ko._createAt(i.nodeBefore,0,"toPrevious")),this.position=o.toPosition(),o.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_canMergeLeft(e){const i=e.previousSibling;return i instanceof co&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(i,e)}_canMergeRight(e){const i=e.nextSibling;return i instanceof co&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(e,i)}_tryAutoparagraphing(e){const i=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,i)&&this.schema.checkChild(i,e)&&(i._appendChild(e),this._handleNode(i))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const i=this.writer.createElement("paragraph");return this.writer.insert(i,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=i,this.position=this.writer.createPositionAt(i,0),!0}_checkAndSplitToAllowedPosition(e){const i=this._getAllowedIn(this.position.parent,e);if(!i)return!1;for(i!=this.position.parent&&this._insertPartialFragment();i!=this.position.parent;)if(this.position.isAtStart){const o=this.position.parent;this.position=this.writer.createPositionBefore(o),o.isEmpty&&o.parent===i&&this.writer.remove(o)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const o=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=o,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,i){return this.schema.checkChild(e,i)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,i)}}function Xv(a,e,i="auto"){const o=a.getSelectedElement();if(o&&e.schema.isObject(o)&&!e.schema.isInline(o))return i=="before"||i=="after"?e.createRange(e.createPositionAt(o,i)):e.createRangeOn(o);const s=jo(a.getSelectedBlocks());if(!s)return e.createRange(a.focus);if(s.isEmpty)return e.createRange(e.createPositionAt(s,0));const h=e.createPositionAfter(s);return a.focus.isTouching(h)?e.createRange(h):e.createRange(e.createPositionBefore(s))}function cT(a,e,i,o,s={}){if(!a.schema.isObject(e))throw new at("insertobject-element-not-an-object",a,{object:e});let h;h=i?i instanceof Rr||i instanceof ur?i:a.createSelection(i,o):a.document.selection;let g=h;s.findOptimalPosition&&a.schema.isBlock(e)&&(g=a.createSelection(Xv(h,a,s.findOptimalPosition)));const _=jo(h.getSelectedBlocks()),$={};return _&&Object.assign($,a.schema.getAttributesWithProperty(_,"copyOnReplace",!0)),a.change(et=>{g.isCollapsed||a.deleteContent(g,{doNotAutoparagraph:!0});let tt=e;const ot=g.anchor.parent;!a.schema.checkChild(ot,e)&&a.schema.checkChild(ot,"paragraph")&&a.schema.checkChild("paragraph",e)&&(tt=et.createElement("paragraph"),et.insert(e,tt)),a.schema.setAllowedAttributes(tt,$,et);const dt=a.insertContent(tt,g);return dt.isCollapsed||s.setSelection&&function(At,St,Dt,Ft){const Yt=At.model;if(Dt=="on")return void At.setSelection(St,"on");if(Dt!="after")throw new at("insertobject-invalid-place-parameter-value",Yt);let cn=St.nextSibling;if(Yt.schema.isInline(St))return void At.setSelection(St,"after");!(cn&&Yt.schema.checkChild(cn,"$text"))&&Yt.schema.checkChild(St.parent,"paragraph")&&(cn=At.createElement("paragraph"),Yt.schema.setAllowedAttributes(cn,Ft,At),Yt.insertContent(cn,At.createPositionAfter(St))),cn&&At.setSelection(cn,0)}(et,e,s.setSelection,$),dt})}function dT(a,e){const{isForward:i,walker:o,unit:s,schema:h,treatEmojiAsSingleUnit:g}=a,{type:_,item:$,nextPosition:et}=e;if(_=="text")return a.unit==="word"?function(tt,ot){let dt=tt.position.textNode;for(dt||(dt=ot?tt.position.nodeAfter:tt.position.nodeBefore);dt&&dt.is("$text");){const At=tt.position.offset-dt.startOffset;if(pT(dt,At,ot))dt=ot?tt.position.nodeAfter:tt.position.nodeBefore;else{if(hT(dt.data,At,ot))break;tt.next()}}return tt.position}(o,i):function(tt,ot,dt){const At=tt.position.textNode;if(At){const St=At.data;let Dt=tt.position.offset-At.startOffset;for(;U_(St,Dt)||ot=="character"&&H_(St,Dt)||dt&&EE(St,Dt);)tt.next(),Dt=tt.position.offset-At.startOffset}return tt.position}(o,s,g);if(_==(i?"elementStart":"elementEnd")){if(h.isSelectable($))return Tn._createAt($,i?"after":"before");if(h.checkChild(et,"$text"))return et}else{if(h.isLimit($))return void o.skip(()=>!0);if(h.checkChild(et,"$text"))return et}}function uT(a,e){const i=a.root,o=Tn._createAt(i,e?"end":0);return e?new bn(a,o):new bn(o,a)}function hT(a,e,i){const o=e+(i?0:-1);return' ,.?!:;"-()'.includes(a.charAt(o))}function pT(a,e,i){return e===(i?a.offsetSize:0)}class fT extends Lt(){constructor(){super(),this.markers=new tT,this.document=new eT(this),this.schema=new SS,this._pendingChanges=[],this._currentWriter=null,["insertContent","insertObject","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,i)=>{i[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,i)=>{if(i.name==="$marker")return!0}),rT(this),this.document.registerPostFixer(Av)}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new El,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(i){at.rethrowUnexpectedError(i,this)}}enqueueChange(e,i){try{e?typeof e=="function"?(i=e,e=new El):e instanceof El||(e=new El(e)):e=new El,this._pendingChanges.push({batch:e,callback:i}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(o){at.rethrowUnexpectedError(o,this)}}applyOperation(e){e._execute()}insertContent(e,i,o){return function(s,h,g,_){return s.change($=>{let et;et=g?g instanceof Rr||g instanceof ur?g:$.createSelection(g,_):s.document.selection,et.isCollapsed||s.deleteContent(et,{doNotAutoparagraph:!0});const tt=new lT(s,$,et.anchor),ot=[];let dt;if(h.is("documentFragment")){if(h.markers.size){const Dt=[];for(const[Ft,Yt]of h.markers){const{start:cn,end:wn}=Yt,Pn=cn.isEqual(wn);Dt.push({position:cn,name:Ft,isCollapsed:Pn},{position:wn,name:Ft,isCollapsed:Pn})}Dt.sort(({position:Ft},{position:Yt})=>Ft.isBefore(Yt)?1:-1);for(const{position:Ft,name:Yt,isCollapsed:cn}of Dt){let wn=null,Pn=null;const Un=Ft.parent===h&&Ft.isAtStart,oo=Ft.parent===h&&Ft.isAtEnd;Un||oo?cn&&(Pn=Un?"start":"end"):(wn=$.createElement("$marker"),$.insert(wn,Ft)),ot.push({name:Yt,element:wn,collapsed:Pn})}}dt=h.getChildren()}else dt=[h];tt.handleNodes(dt);let At=tt.getSelectionRange();if(h.is("documentFragment")&&ot.length){const Dt=At?wr.fromRange(At):null,Ft={};for(let Yt=ot.length-1;Yt>=0;Yt--){const{name:cn,element:wn,collapsed:Pn}=ot[Yt],Un=!Ft[cn];if(Un&&(Ft[cn]=[]),wn){const oo=$.createPositionAt(wn,"before");Ft[cn].push(oo),$.remove(wn)}else{const oo=tt.getAffectedRange();if(!oo){Pn&&Ft[cn].push(tt.position);continue}Pn?Ft[cn].push(oo[Pn]):Ft[cn].push(Un?oo.start:oo.end)}}for(const[Yt,[cn,wn]]of Object.entries(Ft))cn&&wn&&cn.root===wn.root&&$.addMarker(Yt,{usingOperation:!0,affectsData:!0,range:new bn(cn,wn)});Dt&&(At=Dt.toRange(),Dt.detach())}At&&(et instanceof ur?$.setSelection(At):et.setTo(At));const St=tt.getAffectedRange()||s.createRange(et.anchor);return tt.destroy(),St})}(this,e,i,o)}insertObject(e,i,o,s){return cT(this,e,i,o,s)}deleteContent(e,i){aT(this,e,i)}modifySelection(e,i){(function(o,s,h={}){const g=o.schema,_=h.direction!="backward",$=h.unit?h.unit:"character",et=!!h.treatEmojiAsSingleUnit,tt=s.focus,ot=new Nr({boundaries:uT(tt,_),singleCharacters:!0,direction:_?"forward":"backward"}),dt={walker:ot,schema:g,isForward:_,unit:$,treatEmojiAsSingleUnit:et};let At;for(;At=ot.next();){if(At.done)return;const St=dT(dt,At.value);if(St)return void(s instanceof ur?o.change(Dt=>{Dt.setSelectionFocus(St)}):s.setFocus(St))}})(this,e,i)}getSelectedContent(e){return function(i,o){return i.change(s=>{const h=s.createDocumentFragment(),g=o.getFirstRange();if(!g||g.isCollapsed)return h;const _=g.start.root,$=g.start.getCommonPath(g.end),et=_.getNodeByPath($);let tt;tt=g.start.parent==g.end.parent?g:s.createRange(s.createPositionAt(et,g.start.path[$.length]),s.createPositionAt(et,g.end.path[$.length]+1));const ot=tt.end.offset-tt.start.offset;for(const dt of tt.getItems({shallow:!0}))dt.is("$textProxy")?s.appendText(dt.data,dt.getAttributes(),h):s.append(s.cloneElement(dt,!0),h);if(tt!=g){const dt=g._getTransformedByMove(tt.start,s.createPositionAt(h,0),ot)[0],At=s.createRange(s.createPositionAt(h,0),dt.start);Zv(s.createRange(dt.end,s.createPositionAt(h,"end")),s),Zv(At,s)}return h})}(this,e)}hasContent(e,i={}){const o=e instanceof bn?e:bn._createIn(e);if(o.isCollapsed)return!1;const{ignoreWhitespaces:s=!1,ignoreMarkers:h=!1}=i;if(!h){for(const g of this.markers.getMarkersIntersectingRange(o))if(g.affectsData)return!0}for(const g of o.getItems())if(this.schema.isContent(g)&&(!g.is("$textProxy")||!s||g.data.search(/\S/)!==-1))return!0;return!1}createPositionFromPath(e,i,o){return new Tn(e,i,o)}createPositionAt(e,i){return Tn._createAt(e,i)}createPositionAfter(e){return Tn._createAfter(e)}createPositionBefore(e){return Tn._createBefore(e)}createRange(e,i){return new bn(e,i)}createRangeIn(e){return bn._createIn(e)}createRangeOn(e){return bn._createOn(e)}createSelection(...e){return new Rr(...e)}createBatch(e){return new El(e)}createOperationFromJSON(e){return WS.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const i=this._pendingChanges[0].batch;this._currentWriter=new iT(this,i);const o=this._pendingChanges[0].callback(this._currentWriter);e.push(o),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}class gT extends as{constructor(e){super(e),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class gw extends as{constructor(e){super(e),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class Sl{constructor(e){this.document=e}createDocumentFragment(e){return new Is(this.document,e)}createElement(e,i,o){return new ir(this.document,e,i,o)}createText(e){return new go(this.document,e)}clone(e,i=!1){return e._clone(i)}appendChild(e,i){return i._appendChild(e)}insertChild(e,i,o){return o._insertChild(e,i)}removeChildren(e,i,o){return o._removeChildren(e,i)}remove(e){const i=e.parent;return i?this.removeChildren(i.getChildIndex(e),1,i):[]}replace(e,i){const o=e.parent;if(o){const s=o.getChildIndex(e);return this.removeChildren(s,1,o),this.insertChild(s,i,o),!0}return!1}unwrapElement(e){const i=e.parent;if(i){const o=i.getChildIndex(e);this.remove(e),this.insertChild(o,e.getChildren(),i)}}rename(e,i){const o=new ir(this.document,e,i.getAttributes(),i.getChildren());return this.replace(i,o)?o:null}setAttribute(e,i,o){o._setAttribute(e,i)}removeAttribute(e,i){i._removeAttribute(e)}addClass(e,i){i._addClass(e)}removeClass(e,i){i._removeClass(e)}setStyle(e,i,o){jn(e)&&o===void 0?i._setStyle(e):o._setStyle(e,i)}removeStyle(e,i){i._removeStyle(e)}setCustomProperty(e,i,o){o._setCustomProperty(e,i)}removeCustomProperty(e,i){return i._removeCustomProperty(e)}createPositionAt(e,i){return Rn._createAt(e,i)}createPositionAfter(e){return Rn._createAfter(e)}createPositionBefore(e){return Rn._createBefore(e)}createRange(e,i){return new Wn(e,i)}createRangeOn(e){return Wn._createOn(e)}createRangeIn(e){return Wn._createIn(e)}createSelection(...e){return new Mr(...e)}}class mT{constructor(){this._commands=new Map}add(e,i){this._commands.set(e,i)}get(e){return this._commands.get(e)}execute(e,...i){const o=this.get(e);if(!o)throw new at("commandcollection-command-not-found",this,{commandName:e});return o.execute(...i)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class kT extends Sr{constructor(e){super(),this.editor=e}set(e,i,o={}){if(typeof i=="string"){const s=i;i=(h,g)=>{this.editor.execute(s),g()}}super.set(e,i,o)}}class bT extends Lt(){constructor(e={}){super();const i=this.constructor,o=e.language||i.defaultConfig&&i.defaultConfig.language;this._context=e.context||new HE({language:o}),this._context._addEditor(this,!e.context);const s=Array.from(i.builtinPlugins||[]);this.config=new cr(e,i.defaultConfig),this.config.define("plugins",s),this.config.define(this._context._getEditorConfig()),this.plugins=new p0(this,s,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new mT,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new fT;const h=new yx;this.data=new US(this.model,h),this.editing=new ES(this.model,h),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new HS([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new kT(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new at("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new at("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new at("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const e=this.config,i=e.get("plugins"),o=e.get("removePlugins")||[],s=e.get("extraPlugins")||[],h=e.get("substitutePlugins")||[];return this.plugins.init(i.concat(s),o,h)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(i=>this.once("ready",i))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...i){try{return this.commands.execute(e,...i)}catch(o){at.rethrowUnexpectedError(o,this)}}focus(){this.editing.view.focus()}}function Bp(a){return class extends a{setData(e){this.data.set(e)}getData(e){return this.data.get(e)}}}{const a=Bp(Object);Bp.setData=a.prototype.setData,Bp.getData=a.prototype.getData}function mw(a){return class extends a{updateSourceElement(e=this.data.get()){if(!this.sourceElement)throw new at("editor-missing-sourceelement",this);const i=this.config.get("updateSourceElementOnDestroy"),o=this.sourceElement instanceof HTMLTextAreaElement;fE(this.sourceElement,i||o?e:"")}}}mw.updateSourceElement=mw(Object).prototype.updateSourceElement;class Jv extends _p{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new mr({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new at("pendingactions-add-invalid-message",this);const i=new(Lt());return i.set("message",e),this._actions.add(i),this.hasAny=!0,i}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Bo={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path clip-rule="evenodd" d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#a)"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path clip-rule="evenodd" d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></g><defs><clipPath id="a"><path d="M0 0h20v20H0z"/></clipPath></defs></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'};var eA=_e(5542),wT={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(eA.Z,wT),eA.Z.locals;const{threeVerticalDots:tA}=Bo,_T={alignLeft:Bo.alignLeft,bold:Bo.bold,importExport:Bo.importExport,paragraph:Bo.paragraph,plus:Bo.plus,text:Bo.text,threeVerticalDots:Bo.threeVerticalDots};class kw extends eo{constructor(e,i){super(e);const o=this.bindTemplate,s=this.t;this.options=i||{},this.set("ariaLabel",s("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new dr,this.keystrokes=new Sr,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new vT(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const h=e.uiLanguageDirection==="rtl";this._focusCycler=new xa({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[h?"arrowright":"arrowleft","arrowup"],focusNext:[h?"arrowleft":"arrowright","arrowdown"]}});const g=["ck","ck-toolbar",o.to("class"),o.if("isCompact","ck-toolbar_compact")];var _;this.options.shouldGroupWhenFull&&this.options.isFloating&&g.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:g,role:"toolbar","aria-label":o.to("ariaLabel"),style:{maxWidth:o.to("maxWidth")}},children:this.children,on:{mousedown:(_=this,_.bindTemplate.to($=>{$.target===_.element&&$.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new yT(this):new AT(this)}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,i)=>{this.focusTracker.add(i.element)}),this.items.on("remove",(e,i)=>{this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,i,o){this.items.addMany(this._buildItemsFromConfig(e,i,o))}_buildItemsFromConfig(e,i,o){const s=c0(e),h=o||s.removeItems;return this._cleanItemsConfiguration(s.items,i,h).map(g=>Ht(g)?this._createNestedToolbarDropdown(g,i,h):g==="|"?new l0:g==="-"?new UE:i.create(g)).filter(g=>!!g)}_cleanItemsConfiguration(e,i,o){const s=e.filter((h,g,_)=>h==="|"||o.indexOf(h)===-1&&(h==="-"?!this.options.shouldGroupWhenFull||(yt("toolbarview-line-break-ignored-when-grouping-items",_),!1):!(!Ht(h)&&!i.has(h))||(yt("toolbarview-item-unavailable",{item:h}),!1)));return this._cleanSeparatorsAndLineBreaks(s)}_cleanSeparatorsAndLineBreaks(e){const i=g=>g!=="-"&&g!=="|",o=e.length,s=e.findIndex(i);if(s===-1)return[];const h=o-e.slice().reverse().findIndex(i);return e.slice(s,h).filter((g,_,$)=>i(g)?!0:!(_>0&&$[_-1]===g))}_createNestedToolbarDropdown(e,i,o){let{label:s,icon:h,items:g,tooltip:_=!0,withText:$=!1}=e;if(g=this._cleanItemsConfiguration(g,i,o),!g.length)return null;const et=cs(this.locale);return s||yt("toolbarview-nested-toolbar-dropdown-missing-label",e),et.class="ck-toolbar__nested-toolbar-dropdown",et.buttonView.set({label:s,tooltip:_,withText:!!$}),h!==!1?et.buttonView.icon=_T[h]||h||tA:et.buttonView.withText=!0,bw(et,()=>et.toolbarView._buildItemsFromConfig(g,i,o)),et}}class vT extends eo{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class AT{constructor(e){const i=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(o=>o),e.focusables.bindTo(e.items).using(o=>o),e.extendTemplate({attributes:{class:[i.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class yT{constructor(e){this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,e.itemsView.children.bindTo(this.ungroupedItems).using(i=>i),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),e.children.on("change",this._updateFocusCycleableItems.bind(this)),e.items.on("change",(i,o)=>{const s=o.index,h=Array.from(o.added);for(const g of o.removed)s>=this.ungroupedItems.length?this.groupedItems.remove(g):this.ungroupedItems.remove(g);for(let g=s;g<s+h.length;g++){const _=h[g-s];g>this.ungroupedItems.length?this.groupedItems.add(_,g-this.ungroupedItems.length):this.ungroupedItems.add(_,g)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!ys(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let i;for(;this._areItemsOverflowing;)this._groupLastItem(),i=!0;if(!i&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,i=this.viewLocale.uiLanguageDirection,o=new No(e.lastChild),s=new No(e);if(!this.cachedPadding){const h=_i.window.getComputedStyle(e),g=i==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(h[g])}return i==="ltr"?o.right>s.right-this.cachedPadding:o.left<s.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new Ao(this.viewElement,i=>{e&&e===i.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=i.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new l0),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,i=e.t,o=cs(e);return o.class="ck-toolbar__grouped-dropdown",o.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",bw(o,this.groupedItems),o.buttonView.set({label:i("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:tA}),o}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var nA=_e(1046),CT={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(nA.Z,CT),nA.Z.locals;class ET extends eo{constructor(e){super(e);const i=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new dr,this.keystrokes=new Sr,this._focusCycler=new xa({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],"aria-label":i.to("ariaLabel")},children:this.items})}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,i)=>{this.focusTracker.add(i.element)}),this.items.on("remove",(e,i)=>{this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class iA extends eo{constructor(e){super(e);const i=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",i.if("isVisible","ck-hidden",o=>!o)]},children:this.children})}focus(){this.children.first.focus()}}class xT extends eo{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var oA=_e(7339),ST={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(oA.Z,ST),oA.Z.locals;var rA=_e(3949),TT={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(rA.Z,TT),rA.Z.locals;function cs(a,e=jE){const i=new e(a),o=new VE(a),s=new _a(a,i,o);return i.bind("isEnabled").to(s),i instanceof Lm?i.arrowView.bind("isOn").to(s,"isOpen"):i.bind("isOn").to(s,"isOpen"),function(h){(function(g){g.on("render",()=>{rt({emitter:g,activator:()=>g.isOpen,callback:()=>{g.isOpen=!1},contextElements:[g.element]})})})(h),function(g){g.on("execute",_=>{_.source instanceof wp||(g.isOpen=!1)})}(h),function(g){g.focusTracker.on("change:isFocused",(_,$,et)=>{g.isOpen&&!et&&(g.isOpen=!1)})}(h),function(g){g.keystrokes.set("arrowdown",(_,$)=>{g.isOpen&&(g.panelView.focus(),$())}),g.keystrokes.set("arrowup",(_,$)=>{g.isOpen&&(g.panelView.focusLast(),$())})}(h),function(g){g.on("change:isOpen",(_,$,et)=>{if(et)return;const tt=g.panelView.element;tt&&tt.contains(_i.document.activeElement)&&g.buttonView.focus()})}(h),function(g){g.on("change:isOpen",(_,$,et)=>{et&&g.panelView.focus()},{priority:"low"})}(h)}(s),s}function bw(a,e,i={}){a.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),a.isOpen?sA(a,e,i):a.once("change:isOpen",()=>sA(a,e,i),{priority:"highest"}),i.enableActiveItemFocusOnDropdownOpen&&cA(a,()=>a.toolbarView.items.find(o=>o.isOn))}function sA(a,e,i){const o=a.locale,s=o.t,h=a.toolbarView=new kw(o),g=typeof e=="function"?e():e;h.ariaLabel=i.ariaLabel||s("Dropdown toolbar"),i.maxWidth&&(h.maxWidth=i.maxWidth),i.class&&(h.class=i.class),i.isCompact&&(h.isCompact=i.isCompact),i.isVertical&&(h.isVertical=!0),g instanceof ss?h.items.bindTo(g).using(_=>_):h.items.addMany(g),a.panelView.children.add(h),h.items.delegate("execute").to(a)}function aA(a,e,i={}){a.isOpen?lA(a,e,i):a.once("change:isOpen",()=>lA(a,e,i),{priority:"highest"}),cA(a,()=>a.listView.items.find(o=>o instanceof iA&&o.children.first.isOn))}function lA(a,e,i){const o=a.locale,s=a.listView=new ET(o),h=typeof e=="function"?e():e;s.ariaLabel=i.ariaLabel,s.items.bindTo(h).using(g=>{if(g.type==="separator")return new xT(o);if(g.type==="button"||g.type==="switchbutton"){const _=new iA(o);let $;return $=g.type==="button"?new vo(o):new wp(o),$.bind(...Object.keys(g.model)).to(g.model),$.delegate("execute").to(_),_.children.add($),_}return null}),a.panelView.children.add(s),s.items.delegate("execute").to(a)}function cA(a,e){a.on("change:isOpen",()=>{if(!a.isOpen)return;const i=e();i&&(typeof i.focus=="function"?i.focus():yt("ui-dropdown-focus-child-on-open-child-missing-focus",{view:i}))},{priority:It.low-10})}var dA=_e(8793),DT={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(dA.Z,DT),dA.Z.locals;const uA=Tm("px"),hA=_i.document.body;class Xo extends eo{constructor(e){super(e);const i=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",i.to("position",o=>`ck-balloon-panel_${o}`),i.if("isVisible","ck-balloon-panel_visible"),i.if("withArrow","ck-balloon-panel_with-arrow"),i.to("class")],style:{top:i.to("top",uA),left:i.to("left",uA)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(e){this.show();const i=Xo.defaultPositions,o=Object.assign({},{element:this.element,positions:[i.southArrowNorth,i.southArrowNorthMiddleWest,i.southArrowNorthMiddleEast,i.southArrowNorthWest,i.southArrowNorthEast,i.northArrowSouth,i.northArrowSouthMiddleWest,i.northArrowSouthMiddleEast,i.northArrowSouthWest,i.northArrowSouthEast,i.viewportStickyNorth],limiter:hA,fitInViewport:!0},e),s=Xo._getOptimalPosition(o),h=parseInt(s.left),g=parseInt(s.top),_=s.name,$=s.config||{},{withArrow:et=!0}=$;this.top=g,this.left=h,this.position=_,this.withArrow=et}pin(e){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(e):this._stopPinning()},this._startPinning(e),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(e){this.attachTo(e);const i=ww(e.target),o=e.limiter?ww(e.limiter):hA;this.listenTo(_i.document,"scroll",(s,h)=>{const g=h.target,_=i&&g.contains(i),$=o&&g.contains(o);!_&&!$&&i&&o||this.attachTo(e)},{useCapture:!0}),this.listenTo(_i.window,"resize",()=>{this.attachTo(e)})}_stopPinning(){this.stopListening(_i.document,"scroll"),this.stopListening(_i.window,"resize")}}function ww(a){return Mo(a)?a:fp(a)?a.commonAncestorContainer:typeof a=="function"?ww(a()):null}function pA(a={}){const{sideOffset:e=Xo.arrowSideOffset,heightOffset:i=Xo.arrowHeightOffset,stickyVerticalOffset:o=Xo.stickyVerticalOffset,config:s}=a;return{northWestArrowSouthWest:(_,$)=>({top:h(_,$),left:_.left-e,name:"arrow_sw",...s&&{config:s}}),northWestArrowSouthMiddleWest:(_,$)=>({top:h(_,$),left:_.left-.25*$.width-e,name:"arrow_smw",...s&&{config:s}}),northWestArrowSouth:(_,$)=>({top:h(_,$),left:_.left-$.width/2,name:"arrow_s",...s&&{config:s}}),northWestArrowSouthMiddleEast:(_,$)=>({top:h(_,$),left:_.left-.75*$.width+e,name:"arrow_sme",...s&&{config:s}}),northWestArrowSouthEast:(_,$)=>({top:h(_,$),left:_.left-$.width+e,name:"arrow_se",...s&&{config:s}}),northArrowSouthWest:(_,$)=>({top:h(_,$),left:_.left+_.width/2-e,name:"arrow_sw",...s&&{config:s}}),northArrowSouthMiddleWest:(_,$)=>({top:h(_,$),left:_.left+_.width/2-.25*$.width-e,name:"arrow_smw",...s&&{config:s}}),northArrowSouth:(_,$)=>({top:h(_,$),left:_.left+_.width/2-$.width/2,name:"arrow_s",...s&&{config:s}}),northArrowSouthMiddleEast:(_,$)=>({top:h(_,$),left:_.left+_.width/2-.75*$.width+e,name:"arrow_sme",...s&&{config:s}}),northArrowSouthEast:(_,$)=>({top:h(_,$),left:_.left+_.width/2-$.width+e,name:"arrow_se",...s&&{config:s}}),northEastArrowSouthWest:(_,$)=>({top:h(_,$),left:_.right-e,name:"arrow_sw",...s&&{config:s}}),northEastArrowSouthMiddleWest:(_,$)=>({top:h(_,$),left:_.right-.25*$.width-e,name:"arrow_smw",...s&&{config:s}}),northEastArrowSouth:(_,$)=>({top:h(_,$),left:_.right-$.width/2,name:"arrow_s",...s&&{config:s}}),northEastArrowSouthMiddleEast:(_,$)=>({top:h(_,$),left:_.right-.75*$.width+e,name:"arrow_sme",...s&&{config:s}}),northEastArrowSouthEast:(_,$)=>({top:h(_,$),left:_.right-$.width+e,name:"arrow_se",...s&&{config:s}}),southWestArrowNorthWest:_=>({top:g(_),left:_.left-e,name:"arrow_nw",...s&&{config:s}}),southWestArrowNorthMiddleWest:(_,$)=>({top:g(_),left:_.left-.25*$.width-e,name:"arrow_nmw",...s&&{config:s}}),southWestArrowNorth:(_,$)=>({top:g(_),left:_.left-$.width/2,name:"arrow_n",...s&&{config:s}}),southWestArrowNorthMiddleEast:(_,$)=>({top:g(_),left:_.left-.75*$.width+e,name:"arrow_nme",...s&&{config:s}}),southWestArrowNorthEast:(_,$)=>({top:g(_),left:_.left-$.width+e,name:"arrow_ne",...s&&{config:s}}),southArrowNorthWest:_=>({top:g(_),left:_.left+_.width/2-e,name:"arrow_nw",...s&&{config:s}}),southArrowNorthMiddleWest:(_,$)=>({top:g(_),left:_.left+_.width/2-.25*$.width-e,name:"arrow_nmw",...s&&{config:s}}),southArrowNorth:(_,$)=>({top:g(_),left:_.left+_.width/2-$.width/2,name:"arrow_n",...s&&{config:s}}),southArrowNorthMiddleEast:(_,$)=>({top:g(_),left:_.left+_.width/2-.75*$.width+e,name:"arrow_nme",...s&&{config:s}}),southArrowNorthEast:(_,$)=>({top:g(_),left:_.left+_.width/2-$.width+e,name:"arrow_ne",...s&&{config:s}}),southEastArrowNorthWest:_=>({top:g(_),left:_.right-e,name:"arrow_nw",...s&&{config:s}}),southEastArrowNorthMiddleWest:(_,$)=>({top:g(_),left:_.right-.25*$.width-e,name:"arrow_nmw",...s&&{config:s}}),southEastArrowNorth:(_,$)=>({top:g(_),left:_.right-$.width/2,name:"arrow_n",...s&&{config:s}}),southEastArrowNorthMiddleEast:(_,$)=>({top:g(_),left:_.right-.75*$.width+e,name:"arrow_nme",...s&&{config:s}}),southEastArrowNorthEast:(_,$)=>({top:g(_),left:_.right-$.width+e,name:"arrow_ne",...s&&{config:s}}),westArrowEast:(_,$)=>({top:_.top+_.height/2-$.height/2,left:_.left-$.width-i,name:"arrow_e",...s&&{config:s}}),eastArrowWest:(_,$)=>({top:_.top+_.height/2-$.height/2,left:_.right+i,name:"arrow_w",...s&&{config:s}}),viewportStickyNorth:(_,$,et)=>_.getIntersection(et)?{top:et.top+o,left:_.left+_.width/2-$.width/2,name:"arrowless",config:{withArrow:!1,...s}}:null};function h(_,$){return _.top-$.height-i}function g(_){return _.bottom+i}}Xo.arrowSideOffset=25,Xo.arrowHeightOffset=10,Xo.stickyVerticalOffset=20,Xo._getOptimalPosition=P_,Xo.defaultPositions=pA();var fA=_e(3332),IT={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(fA.Z,IT),fA.Z.locals;const gA="ck-tooltip";class $o extends As(){constructor(e){if(super(),$o._editors.add(e),$o._instance)return $o._instance;$o._instance=this,this.tooltipTextView=new eo(e.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Xo(e.locale),this.balloonPanelView.class=gA,this.balloonPanelView.content.add(this.tooltipTextView),this._resizeObserver=null,this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._pinTooltipDebounced=_u(this._pinTooltip,600),this.listenTo(_i.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(_i.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(_i.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(_i.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(_i.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(e){const i=e.ui.view&&e.ui.view.body;$o._editors.delete(e),this.stopListening(e.ui),i&&i.has(this.balloonPanelView)&&i.remove(this.balloonPanelView),$o._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),$o._instance=null)}static getPositioningFunctions(e){const i=$o.defaultBalloonPositions;return{s:[i.southArrowNorth,i.southArrowNorthEast,i.southArrowNorthWest],n:[i.northArrowSouth],e:[i.eastArrowWest],w:[i.westArrowEast],sw:[i.southArrowNorthEast],se:[i.southArrowNorthWest]}[e]}_onEnterOrFocus(e,{target:i}){const o=_w(i);var s;o&&o!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(o,{text:(s=o).dataset.ckeTooltipText,position:s.dataset.ckeTooltipPosition||"s",cssClass:s.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(e,{target:i,relatedTarget:o}){if(e.name==="mouseleave"){if(!Mo(i)||this._currentElementWithTooltip&&i!==this._currentElementWithTooltip)return;const s=_w(i),h=_w(o);s&&s!==h&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&i!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(e,{target:i}){this._currentElementWithTooltip&&(i.contains(this.balloonPanelView.element)&&i.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(e,{text:i,position:o,cssClass:s}){const h=jo($o._editors.values()).ui.view.body;h.has(this.balloonPanelView)||h.add(this.balloonPanelView),this.tooltipTextView.text=i,this.balloonPanelView.pin({target:e,positions:$o.getPositioningFunctions(o)}),this._resizeObserver=new Ao(e,()=>{ys(e)||this._unpinTooltip()}),this.balloonPanelView.class=[gA,s].filter(g=>g).join(" ");for(const g of $o._editors)this.listenTo(g.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=e,this._currentTooltipPosition=o}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const e of $o._editors)this.stopListening(e.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){ys(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:$o.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}}function _w(a){return Mo(a)?a.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}$o.defaultBalloonPositions=pA({heightOffset:5,sideOffset:13}),$o._editors=new Set,$o._instance=null;class MT extends Lt(){constructor(e){super(),this.editor=e,this.componentFactory=new BE(e),this.focusTracker=new dr,this.tooltipManager=new $o(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.isReady=!1,this.once("ready",()=>{this.isReady=!0}),this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[],this.listenTo(e.editing.view.document,"layoutChanged",()=>this.update()),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor);for(const e of this._editableElementsMap.values())e.ckeditorInstance=null;this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,i){this._editableElementsMap.set(e,i),i.ckeditorInstance||(i.ckeditorInstance=this.editor),this.focusTracker.add(i);const o=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(i)};this.isReady?o():this.once("ready",o)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,i={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:i})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,i=e.config.get("ui.viewportOffset");if(i)return i;const o=e.config.get("toolbar.viewportTopOffset");return o?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:o}):{top:0}}_initFocusTracking(){const e=this.editor,i=e.editing.view;let o,s;e.keystrokes.set("Alt+F10",(h,g)=>{const _=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(_)&&!Array.from(i.domRoots.values()).includes(_)&&(o=_);const $=this._getCurrentFocusedToolbarDefinition();$&&s||(s=this._getFocusableCandidateToolbarDefinitions());for(let et=0;et<s.length;et++){const tt=s.shift();if(s.push(tt),tt!==$&&this._focusFocusableCandidateToolbar(tt)){$&&$.options.afterBlur&&$.options.afterBlur();break}}g()}),e.keystrokes.set("Esc",(h,g)=>{const _=this._getCurrentFocusedToolbarDefinition();_&&(o?(o.focus(),o=null):e.editing.view.focus(),_.options.afterBlur&&_.options.afterBlur(),g())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const i of this._focusableToolbarDefinitions){const{toolbarView:o,options:s}=i;(ys(o.element)||s.beforeFocus)&&e.push(i)}return e.sort((i,o)=>mA(i)-mA(o)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:i,options:{beforeFocus:o}}=e;return o&&o(),!!ys(i.element)&&(i.focus(),!0)}}function mA(a){const{toolbarView:e,options:i}=a;let o=10;return ys(e.element)&&o--,i.isContextual&&o--,o}var kA=_e(9688),PT={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(kA.Z,PT),kA.Z.locals;class NT extends eo{constructor(e){super(e),this.body=new PE(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}var bA=_e(3662),RT={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(bA.Z,RT),bA.Z.locals;class wA extends eo{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${Pt()}`;const i=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:i.to("for")},children:[{text:i.to("text")}]})}}class OT extends NT{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,i=new wA;return i.text=e("Rich Text Editor"),i.extendTemplate({attributes:{class:"ck-voice-label"}}),i}}class LT extends eo{constructor(e,i,o){super(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.name=null,this.set("isFocused",!1),this._editableElement=o,this._hasExternalElement=!!this._editableElement,this._editingView=i}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const e=this._editingView;function i(o){e.change(s=>{const h=e.document.getRoot(o.name);s.addClass(o.isFocused?"ck-focused":"ck-blurred",h),s.removeClass(o.isFocused?"ck-blurred":"ck-focused",h)})}e.isRenderingInProgress?function o(s){e.once("change:isRenderingInProgress",(h,g,_)=>{_?o(s):i(s)})}(this):i(this)}}class BT extends LT{constructor(e,i,o,s={}){super(e,i,o);const h=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=s.label||(()=>h("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(i=>{const o=e.document.getRoot(this.name);i.setAttribute("aria-label",this._generateLabel(this),o)})}}var _A=_e(8847),FT={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(_A.Z,FT),_A.Z.locals;var vA=_e(4879),jT={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(vA.Z,jT),vA.Z.locals;class zT extends eo{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new dr,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",i.if("isFocused","ck-input_focused"),i.if("isEmpty","ck-input-text_empty"),i.if("hasError","ck-error")],id:i.to("id"),placeholder:i.to("placeholder"),readonly:i.to("isReadOnly"),inputmode:i.to("inputMode"),"aria-invalid":i.if("hasError",!0),"aria-describedby":i.to("ariaDescribedById")},on:{input:i.to((...o)=>{this.fire("input",...o),this._updateIsEmpty()}),change:i.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,i,o)=>{this._setDomElementValue(o),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||e===0?e:""}}class VT extends zT{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}var AA=_e(2577),UT={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(AA.Z,UT),AA.Z.locals;class vw extends eo{constructor(e,i){super(e);const o=`ck-labeled-field-view-${Pt()}`,s=`ck-labeled-field-view-status-${Pt()}`;this.fieldView=i(this,o,s),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(o),this.statusView=this._createStatusView(s),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(g,_)=>g||_);const h=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",h.to("class"),h.if("isEnabled","ck-disabled",g=>!g),h.if("isEmpty","ck-labeled-field-view_empty"),h.if("isFocused","ck-labeled-field-view_focused"),h.if("placeholder","ck-labeled-field-view_placeholder"),h.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const i=new wA(this.locale);return i.for=e,i.bind("text").to(this,"label"),i}_createStatusView(e){const i=new eo(this.locale),o=this.bindTemplate;return i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",o.if("errorText","ck-labeled-field-view__status_error"),o.if("_statusText","ck-hidden",s=>!s)],id:e,role:o.if("errorText","alert")},children:[{text:o.to("_statusText")}]}),i}focus(){this.fieldView.focus()}}function Aw(a,e,i){const o=new VT(a.locale);return o.set({id:e,ariaDescribedById:i}),o.bind("isReadOnly").to(a,"isEnabled",s=>!s),o.bind("hasError").to(a,"errorText",s=>!!s),o.on("input",()=>{a.errorText=null}),a.bind("isEmpty","isFocused","placeholder").to(o),o}class yw extends _p{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,i)=>{window.alert(i.message)},{priority:"lowest"})}showSuccess(e,i={}){this._showNotification({message:e,type:"success",namespace:i.namespace,title:i.title})}showInfo(e,i={}){this._showNotification({message:e,type:"info",namespace:i.namespace,title:i.title})}showWarning(e,i={}){this._showNotification({message:e,type:"warning",namespace:i.namespace,title:i.title})}_showNotification(e){const i=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(i,{message:e.message,type:e.type,title:e.title||""})}}class yA extends Lt(){constructor(e,i){super(),i&&Y0(this,i),e&&this.set(e)}}var CA=_e(4650),HT={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(CA.Z,HT),CA.Z.locals;var EA=_e(7676),WT={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(EA.Z,WT),EA.Z.locals;const Fp=Tm("px");class jp extends In{static get pluginName(){return"ContextualBalloon"}constructor(e){super(e),this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const i=this.editor.editing.view,o=i.document.selection.editableElement;return o?i.domConverter.mapViewToDom(o.root):null},this.set("visibleView",null),this._viewToStack=new Map,this._idToStack=new Map,this.set("_numberOfStacks",0),this.set("_singleViewMode",!1),this._rotatorView=null,this._fakePanelsView=null}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new at("contextualballoon-add-view-exist",[this,e]);const i=e.stackId||"main";if(!this._idToStack.has(i))return this._idToStack.set(i,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(i)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(i));const o=this._idToStack.get(i);e.singleViewMode&&this.showStack(i),o.set(e.view,e),this._viewToStack.set(e.view,o),o===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new at("contextualballoon-remove-view-not-exist",[this,e]);const i=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(i.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(i.values())[i.size-2])),i.size===1?(this._idToStack.delete(this._getStackId(i)),this._numberOfStacks=this._idToStack.size):i.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const i=this._idToStack.get(e);if(!i)throw new at("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==i&&this._showView(Array.from(i.values()).pop())}_createPanelView(){this._view=new Xo(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(i=>i[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let i=e.indexOf(this._visibleStack)+1;e[i]||(i=0),this.showStack(this._getStackId(e[i]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let i=e.indexOf(this._visibleStack)-1;e[i]||(i=e.length-1),this.showStack(this._getStackId(e[i]))}_createRotatorView(){const e=new $T(this.editor.locale),i=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(o,s)=>!s&&o>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(o,s)=>{if(s<2)return"";const h=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return i("%0 of %1",[h,s])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new GT(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(i,o)=>!o&&i>=2?Math.min(i-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:i="",withArrow:o=!0,singleViewMode:s=!1}){this.view.class=i,this.view.withArrow=o,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),s&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class $T extends eo{constructor(e){super(e);const i=e.t,o=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new dr,this.buttonPrevView=this._createButtonView(i("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(i("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",o.to("isNavigationVisible",s=>s?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:o.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,i){const o=new vo(this.locale);return o.set({label:e,icon:i,tooltip:!0}),o}}class GT extends eo{constructor(e,i){super(e);const o=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=i,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",o.to("numberOfPanels",s=>s?"":"ck-hidden")],style:{top:o.to("top",Fp),left:o.to("left",Fp),width:o.to("width",Fp),height:o.to("height",Fp)}},children:this.content}),this.on("change:numberOfPanels",(s,h,g,_)=>{g>_?this._addPanels(g-_):this._removePanels(_-g),this.updatePosition()})}_addPanels(e){for(;e--;){const i=new eo;i.setTemplate({tag:"div"}),this.content.add(i),this.registerChild(i)}}_removePanels(e){for(;e--;){const i=this.content.last;this.content.remove(i),this.deregisterChild(i),i.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:i}=this._balloonPanelView,{width:o,height:s}=new No(this._balloonPanelView.element);Object.assign(this,{top:e,left:i,width:o,height:s})}}}var xA=_e(5868),qT={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(xA.Z,qT),xA.Z.locals;const Iu=Tm("px");class KT extends eo{constructor(e){super(e);const i=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new kr({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:i.to("isSticky",o=>o?"block":"none"),height:i.to("isSticky",o=>o?Iu(this._panelRect.height):null)}}}).render(),this._contentPanel=new kr({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",i.if("isSticky","ck-sticky-panel__content_sticky"),i.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:i.to("isSticky",o=>o?Iu(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:i.to("_hasViewportTopOffset",o=>o?Iu(this.viewportTopOffset):null),bottom:i.to("_isStickyToTheLimiter",o=>o?Iu(this.limiterBottomOffset):null),marginLeft:i.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(_i.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const e=this._panelRect=this._contentPanel.getBoundingClientRect();let i;this.limiterElement?(i=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&i.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<i.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=i.bottom<e.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:Iu(-_i.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}var SA=_e(9695),YT={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(SA.Z,YT),SA.Z.locals;class QT extends MT{constructor(e,i){super(e),this.view=i,this._toolbarConfig=c0(e.config.get("toolbar")),this._elementReplacer=new vn}get element(){return this.view.element}init(e){const i=this.editor,o=this.view,s=i.editing.view,h=o.editable,g=s.document.getRoot();h.name=g.rootName,o.render();const _=h.element;this.setEditableElement(h.name,_),o.editable.bind("isFocused").to(this.focusTracker),s.attachDomRoot(_),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const e=this.view,i=this.editor.editing.view;this._elementReplacer.restore(),i.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:i})=>i||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,i=e.editing.view,o=i.document.getRoot(),s=e.sourceElement,h=e.config.get("placeholder")||s&&s.tagName.toLowerCase()==="textarea"&&s.getAttribute("placeholder");h&&g0({view:i,element:o,text:h,isDirectHost:!1,keepOnFocus:!0})}}var TA=_e(3143),ZT={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(TA.Z,ZT),TA.Z.locals;class XT extends OT{constructor(e,i,o={}){super(e),this.stickyPanel=new KT(e),this.toolbar=new kw(e,{shouldGroupWhenFull:o.shouldToolbarGroupWhenFull}),this.editable=new BT(e,i)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class JT extends Bp(mw(bT)){constructor(e,i={}){if(!zp(e)&&i.initialData!==void 0)throw new at("editor-create-initial-data",null);super(i),this.config.get("initialData")===void 0&&this.config.set("initialData",function(h){return zp(h)?(g=h,g instanceof HTMLTextAreaElement?g.value:g.innerHTML):h;var g}(e)),zp(e)&&(this.sourceElement=e),this.model.document.createRoot();const o=!this.config.get("toolbar.shouldNotGroupWhenFull"),s=new XT(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:o});this.ui=new QT(this,s),function(h){if(!jr(h.updateSourceElement))throw new at("attachtoform-missing-elementapi-interface",h);const g=h.sourceElement;if(function(_){return!!_&&_.tagName.toLowerCase()==="textarea"}(g)&&g.form){let _;const $=g.form,et=()=>h.updateSourceElement();jr($.submit)&&(_=$.submit,$.submit=()=>{et(),_.apply($)}),$.addEventListener("submit",et),h.on("destroy",()=>{$.removeEventListener("submit",et),_&&($.submit=_)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,i={}){return new Promise(o=>{const s=new this(e,i);o(s.initPlugins().then(()=>s.ui.init(zp(e)?e:null)).then(()=>s.data.init(s.config.get("initialData"))).then(()=>s.fire("ready")).then(()=>s))})}}function zp(a){return Mo(a)}class Cw extends as{constructor(e){super(e);const i=this.document;function o(s){return(h,g)=>{g.preventDefault();const _=g.dropRange?[g.dropRange]:null,$=new pt(i,s);i.fire($,{dataTransfer:g.dataTransfer,method:h.name,targetRanges:_,target:g.target}),$.stop.called&&g.stopPropagation()}}this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"],this.listenTo(i,"paste",o("clipboardInput"),{priority:"low"}),this.listenTo(i,"drop",o("clipboardInput"),{priority:"low"}),this.listenTo(i,"dragover",o("dragging"),{priority:"low"})}onDomEvent(e){const i={dataTransfer:new ov("clipboardData"in e?e.clipboardData:e.dataTransfer)};e.type!="drop"&&e.type!="dragover"||(i.dropRange=function(o,s){const h=s.target.ownerDocument,g=s.clientX,_=s.clientY;let $;return h.caretRangeFromPoint&&h.caretRangeFromPoint(g,_)?$=h.caretRangeFromPoint(g,_):s.rangeParent&&($=h.createRange(),$.setStart(s.rangeParent,s.rangeOffset),$.collapse(!0)),$?o.domConverter.domRangeToView($):null}(this.view,e)),this.fire(e.type,e,i)}}const DA=["figcaption","li"];function IA(a){let e="";if(a.is("$text")||a.is("$textProxy"))e=a.data;else if(a.is("element","img")&&a.hasAttribute("alt"))e=a.getAttribute("alt");else if(a.is("element","br"))e=`
`;else{let i=null;for(const o of a.getChildren()){const s=IA(o);i&&(i.is("containerElement")||o.is("containerElement"))&&(DA.includes(i.name)||DA.includes(o.name)?e+=`
`:e+=`

`),e+=s,i=o}}return e}class Or extends In{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver(Cw),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const e=this.editor,i=e.model,o=e.editing.view,s=o.document;this.listenTo(s,"clipboardInput",h=>{e.isReadOnly&&h.stop()},{priority:"highest"}),this.listenTo(s,"clipboardInput",(h,g)=>{const _=g.dataTransfer;let $;if(g.content)$=g.content;else{let ot="";_.getData("text/html")?ot=function(dt){return dt.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(At,St)=>St.length==1?" ":St).replace(/<!--[\s\S]*?-->/g,"")}(_.getData("text/html")):_.getData("text/plain")&&(((et=(et=_.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||et.includes("<br>"))&&(et=`<p>${et}</p>`),ot=et),$=this.editor.data.htmlProcessor.toView(ot)}var et;const tt=new pt(this,"inputTransformation");this.fire(tt,{content:$,dataTransfer:_,targetRanges:g.targetRanges,method:g.method}),tt.stop.called&&h.stop(),o.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(h,g)=>{if(g.content.isEmpty)return;const _=this.editor.data.toModel(g.content,"$clipboardHolder");_.childCount!=0&&(h.stop(),i.change(()=>{this.fire("contentInsertion",{content:_,method:g.method,dataTransfer:g.dataTransfer,targetRanges:g.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(h,g)=>{g.resultRange=i.insertContent(g.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,i=e.model.document,o=e.editing.view.document,s=(h,g)=>{const _=g.dataTransfer;g.preventDefault();const $=e.data.toView(e.model.getSelectedContent(i.selection));o.fire("clipboardOutput",{dataTransfer:_,content:$,method:h.name})};this.listenTo(o,"copy",s,{priority:"low"}),this.listenTo(o,"cut",(h,g)=>{e.isReadOnly?g.preventDefault():s(h,g)},{priority:"low"}),this.listenTo(o,"clipboardOutput",(h,g)=>{g.content.isEmpty||(g.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(g.content)),g.dataTransfer.setData("text/plain",IA(g.content))),g.method=="cut"&&e.model.deleteContent(i.selection)},{priority:"low"})}}class MA{constructor(e,i=20){this._batch=null,this.model=e,this._size=0,this.limit=i,this._isLocked=!1,this._changeCallback=(o,s)=>{s.isLocal&&s.isUndoable&&s!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class eD extends Jn{constructor(e,i){super(e),this._buffer=new MA(e.model,i)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const i=this.editor.model,o=i.document,s=e.text||"",h=s.length;let g=o.selection;e.selection?g=e.selection:e.range&&(g=i.createSelection(e.range));const _=e.resultRange;i.enqueueChange(this._buffer.batch,$=>{this._buffer.lock(),i.deleteContent(g),s&&i.insertContent($.createText(s,o.selection.getAttributes()),g),_?$.setSelection(_):g.is("documentSelection")||$.setSelection(g),this._buffer.unlock(),this._buffer.input(h)})}}const PA=["insertText","insertReplacementText"];class tD extends Pr{constructor(e){super(e),ft.isAndroid&&PA.push("insertCompositionText");const i=e.document;i.on("beforeinput",(o,s)=>{if(!this.isEnabled)return;const{data:h,targetRanges:g,inputType:_,domEvent:$}=s;if(!PA.includes(_))return;const et=new pt(i,"insertText");i.fire(et,new Al(e,$,{text:h,selection:e.createSelection(g)})),et.stop.called&&o.stop()}),i.on("compositionend",(o,{data:s,domEvent:h})=>{this.isEnabled&&!ft.isAndroid&&s&&i.fire("insertText",new Al(e,h,{text:s,selection:i.selection}))},{priority:"lowest"})}observe(){}}class NA extends In{static get pluginName(){return"Input"}init(){const e=this.editor,i=e.model,o=e.editing.view,s=i.document.selection;o.addObserver(tD);const h=new eD(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",h),e.commands.add("input",h),this.listenTo(o.document,"insertText",(g,_)=>{o.document.isComposing||_.preventDefault();const{text:$,selection:et,resultRange:tt}=_,ot=Array.from(et.getRanges()).map(St=>e.editing.mapper.toModelRange(St));let dt=$;if(ft.isAndroid){const St=Array.from(ot[0].getItems()).reduce((Dt,Ft)=>Dt+(Ft.is("$textProxy")?Ft.data:""),"");St&&(St.length<=dt.length?dt.startsWith(St)&&(dt=dt.substring(St.length),ot[0].start=ot[0].start.getShiftedBy(St.length)):St.startsWith(dt)&&(ot[0].start=ot[0].start.getShiftedBy(dt.length),dt=""))}const At={text:dt,selection:i.createSelection(ot)};tt&&(At.resultRange=e.editing.mapper.toModelRange(tt)),e.execute("insertText",At)}),ft.isAndroid?this.listenTo(o.document,"keydown",(g,_)=>{!s.isCollapsed&&_.keyCode==229&&o.document.isComposing&&RA(i,h)}):this.listenTo(o.document,"compositionstart",()=>{s.isCollapsed||RA(i,h)})}}function RA(a,e){if(!e.isEnabled)return;const i=e.buffer;i.lock(),a.enqueueChange(i.batch,()=>{a.deleteContent(a.document.selection)}),i.unlock()}class OA extends Jn{constructor(e,i){super(e),this.direction=i,this._buffer=new MA(e.model,e.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(e={}){const i=this.editor.model,o=i.document;i.enqueueChange(this._buffer.batch,s=>{this._buffer.lock();const h=s.createSelection(e.selection||o.selection),g=e.sequence||1,_=h.isCollapsed;if(h.isCollapsed&&i.modifySelection(h,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(g))return void this._replaceEntireContentWithParagraph(s);if(this._shouldReplaceFirstBlockWithParagraph(h,g))return void this.editor.execute("paragraph",{selection:h});if(h.isCollapsed)return;let $=0;h.getFirstRange().getMinimalFlatRanges().forEach(et=>{$+=pn(et.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),i.deleteContent(h,{doNotResetEntireContent:_,direction:this.direction}),this._buffer.input($),s.setSelection(h),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const i=this.editor.model,o=i.document.selection,s=i.schema.getLimitElement(o);if(!(o.isCollapsed&&o.containsEntireContent(s))||!i.schema.checkChild(s,"paragraph"))return!1;const h=s.getChild(0);return!h||!h.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const i=this.editor.model,o=i.document.selection,s=i.schema.getLimitElement(o),h=e.createElement("paragraph");e.remove(e.createRangeIn(s)),e.insert(h,s),e.setSelection(h,0)}_shouldReplaceFirstBlockWithParagraph(e,i){const o=this.editor.model;if(i>1||this.direction!="backward"||!e.isCollapsed)return!1;const s=e.getFirstPosition(),h=o.schema.getLimitElement(s),g=h.getChild(0);return s.parent==g&&!!e.containsEntireContent(g)&&!!o.schema.checkChild(h,"paragraph")&&g.name!="paragraph"}}const LA="word",ds="selection",Tl="backward",Mu="forward",BA={deleteContent:{unit:ds,direction:Tl},deleteContentBackward:{unit:"codePoint",direction:Tl},deleteWordBackward:{unit:LA,direction:Tl},deleteHardLineBackward:{unit:ds,direction:Tl},deleteSoftLineBackward:{unit:ds,direction:Tl},deleteContentForward:{unit:"character",direction:Mu},deleteWordForward:{unit:LA,direction:Mu},deleteHardLineForward:{unit:ds,direction:Mu},deleteSoftLineForward:{unit:ds,direction:Mu}};class nD extends Pr{constructor(e){super(e);const i=e.document;let o=0;i.on("keydown",()=>{o++}),i.on("keyup",()=>{o=0}),i.on("beforeinput",(s,h)=>{if(!this.isEnabled)return;const{targetRanges:g,domEvent:_,inputType:$}=h,et=BA[$];if(!et)return;const tt={direction:et.direction,unit:et.unit,sequence:o};tt.unit==ds&&(tt.selectionToRemove=e.createSelection(g[0])),ft.isAndroid&&$==="deleteContentBackward"&&(tt.sequence=1,g.length!=1||g[0].start.parent==g[0].end.parent&&g[0].start.offset+1==g[0].end.offset||(tt.unit=ds,tt.selectionToRemove=e.createSelection(g)));const ot=new $a(i,"delete",g[0]);i.fire(ot,new Al(e,_,tt)),ot.stop.called&&s.stop()}),ft.isBlink&&function(s){const h=s.view,g=h.document;let _=null,$=!1;function et(ot){return ot==io.backspace||ot==io.delete}function tt(ot){return ot==io.backspace?Tl:Mu}g.on("keydown",(ot,{keyCode:dt})=>{_=dt,$=!1}),g.on("keyup",(ot,{keyCode:dt,domEvent:At})=>{const St=g.selection,Dt=s.isEnabled&&dt==_&&et(dt)&&!St.isCollapsed&&!$;if(_=null,Dt){const Ft=St.getFirstRange(),Yt=new $a(g,"delete",Ft),cn={unit:ds,direction:tt(dt),selectionToRemove:St};g.fire(Yt,new Al(h,At,cn))}}),g.on("beforeinput",(ot,{inputType:dt})=>{const At=BA[dt];et(_)&&At&&At.direction==tt(_)&&($=!0)},{priority:"high"}),g.on("beforeinput",(ot,{inputType:dt,data:At})=>{_==io.delete&&dt=="insertText"&&At==""&&ot.stop()},{priority:"high"})}(this)}observe(){}}class us extends In{static get pluginName(){return"Delete"}init(){const e=this.editor,i=e.editing.view,o=i.document,s=e.model.document;i.addObserver(nD),this._undoOnBackspace=!1;const h=new OA(e,"forward");e.commands.add("deleteForward",h),e.commands.add("forwardDelete",h),e.commands.add("delete",new OA(e,"backward")),this.listenTo(o,"delete",(g,_)=>{o.isComposing||_.preventDefault();const{direction:$,sequence:et,selectionToRemove:tt,unit:ot}=_,dt=$==="forward"?"deleteForward":"delete",At={sequence:et};if(ot=="selection"){const St=Array.from(tt.getRanges()).map(Dt=>e.editing.mapper.toModelRange(Dt));At.selection=e.model.createSelection(St)}else At.unit=ot;e.execute(dt,At),i.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(o,"delete",(g,_)=>{this._undoOnBackspace&&_.direction=="backward"&&_.sequence==1&&_.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),_.preventDefault(),g.stop())},{context:"$capture"}),this.listenTo(s,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class iD extends In{static get requires(){return[NA,us]}static get pluginName(){return"Typing"}}function FA(a,e){let i=a.start;return{text:Array.from(a.getItems()).reduce((o,s)=>s.is("$text")||s.is("$textProxy")?o+s.data:(i=e.createPositionAfter(s),""),""),range:e.createRange(i,a.end)}}class jA extends Lt(){constructor(e,i){super(),this.model=e,this.testCallback=i,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(i,{directChange:o})=>{o&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(i,o)=>{!o.isUndo&&o.isLocal&&this._evaluateTextBeforeSelection("data",{batch:o})})}_evaluateTextBeforeSelection(e,i={}){const o=this.model,s=o.document.selection,h=o.createRange(o.createPositionAt(s.focus.parent,0),s.focus),{text:g,range:_}=FA(h,o),$=this.testCallback(g);if(!$&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!$,$){const et=Object.assign(i,{text:g,range:_});typeof $=="object"&&Object.assign(et,$),this.fire(`matched:${e}`,et)}}}class zA extends In{static get pluginName(){return"TwoStepCaretMovement"}constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}init(){const e=this.editor,i=e.model,o=e.editing.view,s=e.locale,h=i.document.selection;this.listenTo(o.document,"arrowKey",(g,_)=>{if(!h.isCollapsed||_.shiftKey||_.altKey||_.ctrlKey)return;const $=_.keyCode==io.arrowright,et=_.keyCode==io.arrowleft;if(!$&&!et)return;const tt=s.contentLanguageDirection;let ot=!1;ot=tt==="ltr"&&$||tt==="rtl"&&et?this._handleForwardMovement(_):this._handleBackwardMovement(_),ot===!0&&g.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(h,"change:range",(g,_)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!_.directChange&&Up(h.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const i=this.attributes,o=this.editor.model.document.selection,s=o.getFirstPosition();return!this._isGravityOverridden&&(!s.isAtStart||!Ew(o,i))&&!!Up(s,i)&&(Vp(e),this._overrideGravity(),!0)}_handleBackwardMovement(e){const i=this.attributes,o=this.editor.model,s=o.document.selection,h=s.getFirstPosition();return this._isGravityOverridden?(Vp(e),this._restoreGravity(),xw(o,i,h),!0):h.isAtStart?!!Ew(s,i)&&(Vp(e),xw(o,i,h),!0):!!function(g,_){const $=g.getShiftedBy(-1);return Up($,_)}(h,i)&&(h.isAtEnd&&!Ew(s,i)&&Up(h,i)?(Vp(e),xw(o,i,h),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Ew(a,e){for(const i of e)if(a.hasAttribute(i))return!0;return!1}function xw(a,e,i){const o=i.nodeBefore;a.change(s=>{o?s.setSelectionAttribute(o.getAttributes()):s.removeSelectionAttribute(e)})}function Vp(a){a.preventDefault()}function Up(a,e){const{nodeBefore:i,nodeAfter:o}=a;for(const s of e){const h=i?i.getAttribute(s):void 0;if((o?o.getAttribute(s):void 0)!==h)return!0}return!1}var VA=/[\\^$.*+?()[\]{}|]/g,oD=RegExp(VA.source);const rD=function(a){return(a=Vm(a))&&oD.test(a)?a.replace(VA,"\\$&"):a},UA={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:Dl('"'),to:[null,"",null,""]},quotesSecondary:{from:Dl("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:Dl("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:Dl('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:Dl('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:Dl("'"),to:[null,"",null,""]}},HA={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},sD=["symbols","mathematical","typography","quotes"];function aD(a){return typeof a=="string"?new RegExp(`(${rD(a)})$`):a}function lD(a){return typeof a=="string"?()=>[a]:a instanceof Array?()=>a:a}function cD(a){return(a.textNode?a.textNode:a.nodeAfter).getAttributes()}function Dl(a){return new RegExp(`(^|\\s)(${a})([^${a}]*)(${a})$`)}function Il(a,e,i,o){return o.createRange(WA(a,e,i,!0,o),WA(a,e,i,!1,o))}function WA(a,e,i,o,s){let h=a.textNode||(o?a.nodeBefore:a.nodeAfter),g=null;for(;h&&h.getAttribute(e)==i;)g=h,h=o?h.previousSibling:h.nextSibling;return g?s.createPositionAt(g,o?"before":"after"):a}function*$A(a,e){for(const i of e)i&&a.getAttributeProperties(i[0]).copyOnEnter&&(yield i)}class dD extends Jn{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const i=this.editor.model,o=i.document.selection,s=i.schema,h=o.isCollapsed,g=o.getFirstRange(),_=g.start.parent,$=g.end.parent;if(s.isLimit(_)||s.isLimit($))return h||_!=$||i.deleteContent(o),!1;if(h){const et=$A(e.model.schema,o.getAttributes());return GA(e,g.start),e.setSelectionAttribute(et),!0}{const et=!(g.start.isAtStart&&g.end.isAtEnd),tt=_==$;if(i.deleteContent(o,{leaveUnmerged:et}),et){if(tt)return GA(e,o.focus),!0;e.setSelection($,0)}}return!1}}function GA(a,e){a.split(e),a.setSelection(e.parent.nextSibling,0)}const uD={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class qA extends Pr{constructor(e){super(e);const i=this.document;i.on("beforeinput",(o,s)=>{if(!this.isEnabled)return;const h=s.domEvent,g=uD[s.inputType];if(!g)return;const _=new $a(i,"enter",s.targetRanges[0]);i.fire(_,new Al(e,h,{isSoft:g.isSoft})),_.stop.called&&o.stop()})}observe(){}}class Hp extends In{static get pluginName(){return"Enter"}init(){const e=this.editor,i=e.editing.view,o=i.document;i.addObserver(qA),e.commands.add("enter",new dD(e)),this.listenTo(o,"enter",(s,h)=>{o.isComposing||h.preventDefault(),h.isSoft||(e.execute("enter"),i.scrollToTheSelection())},{priority:"low"})}}class hD extends Jn{execute(){const e=this.editor.model,i=e.document;e.change(o=>{(function(s,h,g){const _=g.isCollapsed,$=g.getFirstRange(),et=$.start.parent,tt=$.end.parent,ot=et==tt;if(_){const dt=$A(s.schema,g.getAttributes());KA(s,h,$.end),h.removeSelectionAttribute(g.getAttributeKeys()),h.setSelectionAttribute(dt)}else{const dt=!($.start.isAtStart&&$.end.isAtEnd);s.deleteContent(g,{leaveUnmerged:dt}),ot?KA(s,h,g.focus):dt&&h.setSelection(tt,0)}})(e,o,i.selection),this.fire("afterExecute",{writer:o})})}refresh(){const e=this.editor.model,i=e.document;this.isEnabled=function(o,s){if(s.rangeCount>1)return!1;const h=s.anchor;if(!h||!o.checkChild(h,"softBreak"))return!1;const g=s.getFirstRange(),_=g.start.parent,$=g.end.parent;return!((Sw(_,o)||Sw($,o))&&_!==$)}(e.schema,i.selection)}}function KA(a,e,i){const o=e.createElement("softBreak");a.insertContent(o,i),e.setSelection(o,"after")}function Sw(a,e){return!a.is("rootElement")&&(e.isLimit(a)||Sw(a.parent,e))}class pD extends In{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,i=e.model.schema,o=e.conversion,s=e.editing.view,h=s.document;i.register("softBreak",{allowWhere:"$text",isInline:!0}),o.for("upcast").elementToElement({model:"softBreak",view:"br"}),o.for("downcast").elementToElement({model:"softBreak",view:(g,{writer:_})=>_.createEmptyElement("br")}),s.addObserver(qA),e.commands.add("shiftEnter",new hD(e)),this.listenTo(h,"enter",(g,_)=>{h.isComposing||_.preventDefault(),_.isSoft&&(e.execute("shiftEnter"),s.scrollToTheSelection())},{priority:"low"})}}class fD extends tn(){constructor(){super(),this._stack=[]}add(e,i){const o=this._stack,s=o[0];this._insertDescriptor(e);const h=o[0];s===h||Tw(s,h)||this.fire("change:top",{oldDescriptor:s,newDescriptor:h,writer:i})}remove(e,i){const o=this._stack,s=o[0];this._removeDescriptor(e);const h=o[0];s===h||Tw(s,h)||this.fire("change:top",{oldDescriptor:s,newDescriptor:h,writer:i})}_insertDescriptor(e){const i=this._stack,o=i.findIndex(h=>h.id===e.id);if(Tw(e,i[o]))return;o>-1&&i.splice(o,1);let s=0;for(;i[s]&&gD(i[s],e);)s++;i.splice(s,0,e)}_removeDescriptor(e){const i=this._stack,o=i.findIndex(s=>s.id===e);o>-1&&i.splice(o,1)}}function Tw(a,e){return a&&e&&a.priority==e.priority&&Wp(a.classes)==Wp(e.classes)}function gD(a,e){return a.priority>e.priority||!(a.priority<e.priority)&&Wp(a.classes)>Wp(e.classes)}function Wp(a){return Array.isArray(a)?a.sort().join(","):a}const mD='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',YA="ck-widget_selected";function Do(a){return!!a.is("element")&&!!a.getCustomProperty("widget")}function Dw(a,e,i={}){if(!a.is("containerElement"))throw new at("widget-to-widget-wrong-element-type",null,{element:a});return e.setAttribute("contenteditable","false",a),e.addClass("ck-widget",a),e.setCustomProperty("widget",!0,a),a.getFillerOffset=wD,e.setCustomProperty("widgetLabel",[],a),i.label&&function(o,s){o.getCustomProperty("widgetLabel").push(s)}(a,i.label),i.hasSelectionHandle&&function(o,s){const h=s.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(g){const _=this.toDomElement(g),$=new Cs;return $.set("content",mD),$.render(),_.appendChild($.element),_});s.insert(s.createPositionAt(o,0),h),s.addClass(["ck-widget_with-selection-handle"],o)}(a,e),QA(a,e),a}function kD(a,e,i){if(e.classes&&i.addClass(Uo(e.classes),a),e.attributes)for(const o in e.attributes)i.setAttribute(o,e.attributes[o],a)}function bD(a,e,i){if(e.classes&&i.removeClass(Uo(e.classes),a),e.attributes)for(const o in e.attributes)i.removeAttribute(o,a)}function QA(a,e,i=kD,o=bD){const s=new fD;s.on("change:top",(h,g)=>{g.oldDescriptor&&o(a,g.oldDescriptor,g.writer),g.newDescriptor&&i(a,g.newDescriptor,g.writer)}),e.setCustomProperty("addHighlight",(h,g,_)=>s.add(g,_),a),e.setCustomProperty("removeHighlight",(h,g,_)=>s.remove(g,_),a)}function ZA(a,e,i={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],a),e.setAttribute("role","textbox",a),i.label&&e.setAttribute("aria-label",i.label,a),e.setAttribute("contenteditable",a.isReadOnly?"false":"true",a),a.on("change:isReadOnly",(o,s,h)=>{e.setAttribute("contenteditable",h?"false":"true",a)}),a.on("change:isFocused",(o,s,h)=>{h?e.addClass("ck-editor__nested-editable_focused",a):e.removeClass("ck-editor__nested-editable_focused",a)}),QA(a,e),a}function XA(a,e){const i=a.getSelectedElement();if(i){const o=hs(a);if(o)return e.createRange(e.createPositionAt(i,o))}return Xv(a,e)}function wD(){return null}const Yr="widget-type-around";function Os(a,e,i){return!!a&&Do(a)&&!i.isInline(e)}function hs(a){return a.getAttribute(Yr)}var JA=_e(4921),_D={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(JA.Z,_D),JA.Z.locals;const ey=["before","after"],vD=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,ty="ck-widget__type-around_disabled";class AD extends In{static get pluginName(){return"WidgetTypeAround"}static get requires(){return[Hp,us]}constructor(e){super(e),this._currentFakeCaretModelElement=null}init(){const e=this.editor,i=e.editing.view;this.on("change:isEnabled",(o,s,h)=>{i.change(g=>{for(const _ of i.document.roots)h?g.removeClass(ty,_):g.addClass(ty,_)}),h||e.model.change(g=>{g.removeSelectionAttribute(Yr)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,i){const o=this.editor,s=o.editing.view,h=o.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);o.execute("insertParagraph",{position:o.model.createPositionAt(e,i),attributes:h}),s.focus(),s.scrollToTheSelection()}_listenToIfEnabled(e,i,o,s){this.listenTo(e,i,(...h)=>{this.isEnabled&&o(...h)},s)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,i=hs(e);if(!i)return!1;const o=e.getSelectedElement();return this._insertParagraph(o,i),!0}_enableTypeAroundUIInjection(){const e=this.editor,i=e.model.schema,o=e.locale.t,s={before:o("Insert paragraph before block"),after:o("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(h,g,_)=>{const $=_.mapper.toViewElement(g.item);$&&Os($,g.item,i)&&(function(et,tt,ot){const dt=et.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(At){const St=this.toDomElement(At);return function(Dt,Ft){for(const Yt of ey){const cn=new kr({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${Yt}`],title:Ft[Yt],"aria-hidden":"true"},children:[Dt.ownerDocument.importNode(vD,!0)]});Dt.appendChild(cn.render())}}(St,tt),function(Dt){const Ft=new kr({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});Dt.appendChild(Ft.render())}(St),St});et.insert(et.createPositionAt(ot,"end"),dt)}(_.writer,s,$),$.getCustomProperty("widgetLabel").push(()=>this.isEnabled?o("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,i=e.model,o=i.document.selection,s=i.schema,h=e.editing.view;function g(_){return`ck-widget_type-around_show-fake-caret_${_}`}this._listenToIfEnabled(h.document,"arrowKey",(_,$)=>{this._handleArrowKeyPress(_,$)},{context:[Do,"$text"],priority:"high"}),this._listenToIfEnabled(o,"change:range",(_,$)=>{$.directChange&&e.model.change(et=>{et.removeSelectionAttribute(Yr)})}),this._listenToIfEnabled(i.document,"change:data",()=>{const _=o.getSelectedElement();_&&Os(e.editing.mapper.toViewElement(_),_,s)||e.model.change($=>{$.removeSelectionAttribute(Yr)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(_,$,et)=>{const tt=et.writer;if(this._currentFakeCaretModelElement){const St=et.mapper.toViewElement(this._currentFakeCaretModelElement);St&&(tt.removeClass(ey.map(g),St),this._currentFakeCaretModelElement=null)}const ot=$.selection.getSelectedElement();if(!ot)return;const dt=et.mapper.toViewElement(ot);if(!Os(dt,ot,s))return;const At=hs($.selection);At&&(tt.addClass(g(At),dt),this._currentFakeCaretModelElement=ot)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(_,$,et)=>{et||e.model.change(tt=>{tt.removeSelectionAttribute(Yr)})})}_handleArrowKeyPress(e,i){const o=this.editor,s=o.model,h=s.document.selection,g=s.schema,_=o.editing.view,$=function(ot,dt){const At=Pm(ot,dt);return At==="down"||At==="right"}(i.keyCode,o.locale.contentLanguageDirection),et=_.document.selection.getSelectedElement();let tt;Os(et,o.editing.mapper.toModelElement(et),g)?tt=this._handleArrowKeyPressOnSelectedWidget($):h.isCollapsed?tt=this._handleArrowKeyPressWhenSelectionNextToAWidget($):i.shiftKey||(tt=this._handleArrowKeyPressWhenNonCollapsedSelection($)),tt&&(i.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const i=this.editor.model,o=hs(i.document.selection);return i.change(s=>o?o!==(e?"after":"before")?(s.removeSelectionAttribute(Yr),!0):!1:(s.setSelectionAttribute(Yr,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const i=this.editor,o=i.model,s=o.schema,h=i.plugins.get("Widget"),g=h._getObjectElementNextToSelection(e);return!!Os(i.editing.mapper.toViewElement(g),g,s)&&(o.change(_=>{h._setSelectionOverElement(g),_.setSelectionAttribute(Yr,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const i=this.editor,o=i.model,s=o.schema,h=i.editing.mapper,g=o.document.selection,_=e?g.getLastPosition().nodeBefore:g.getFirstPosition().nodeAfter;return!!Os(h.toViewElement(_),_,s)&&(o.change($=>{$.setSelection(_,"on"),$.setSelectionAttribute(Yr,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,i=e.editing.view;this._listenToIfEnabled(i.document,"mousedown",(o,s)=>{const h=s.domTarget.closest(".ck-widget__type-around__button");if(!h)return;const g=function(et){return et.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(h),_=function(et,tt){const ot=et.closest(".ck-widget");return tt.mapDomToView(ot)}(h,i.domConverter),$=e.editing.mapper.toModelElement(_);this._insertParagraph($,g),s.preventDefault(),o.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,i=e.model.document.selection,o=e.editing.view;this._listenToIfEnabled(o.document,"enter",(s,h)=>{if(s.eventPhase!="atTarget")return;const g=i.getSelectedElement(),_=e.editing.mapper.toViewElement(g),$=e.model.schema;let et;this._insertParagraphAccordingToFakeCaretPosition()?et=!0:Os(_,g,$)&&(this._insertParagraph(g,h.isSoft?"before":"after"),et=!0),et&&(h.preventDefault(),s.stop())},{context:Do})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(i,o)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(o.selection=e.selection)},{priority:"high"}),ft.isAndroid?this._listenToIfEnabled(e,"keydown",(i,o)=>{o.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,i=e.editing.view,o=e.model,s=o.schema;this._listenToIfEnabled(i.document,"delete",(h,g)=>{if(h.eventPhase!="atTarget")return;const _=hs(o.document.selection);if(!_)return;const $=g.direction,et=o.document.selection.getSelectedElement(),tt=$=="forward";if(_==="before"===tt)e.execute("delete",{selection:o.createSelection(et,"on")});else{const ot=s.getNearestSelectionRange(o.createPositionAt(et,_),$);if(ot)if(ot.isCollapsed){const dt=o.createSelection(ot.start);if(o.modifySelection(dt,{direction:$}),dt.focus.isEqual(ot.start)){const At=function(St,Dt){let Ft=Dt;for(const Yt of Dt.getAncestors({parentFirst:!0})){if(Yt.childCount>1||St.isLimit(Yt))break;Ft=Yt}return Ft}(s,ot.start.parent);o.deleteContent(o.createSelection(At,"on"),{doNotAutoparagraph:!0})}else o.change(At=>{At.setSelection(ot),e.execute(tt?"deleteForward":"delete")})}else o.change(dt=>{dt.setSelection(ot),e.execute(tt?"deleteForward":"delete")})}g.preventDefault(),h.stop()},{context:Do})}_enableInsertContentIntegration(){const e=this.editor,i=this.editor.model,o=i.document.selection;this._listenToIfEnabled(e.model,"insertContent",(s,[h,g])=>{if(g&&!g.is("documentSelection"))return;const _=hs(o);return _?(s.stop(),i.change($=>{const et=o.getSelectedElement(),tt=i.createPositionAt(et,_),ot=$.createSelection(tt),dt=i.insertContent(h,ot);return $.setSelection(ot),dt})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(o,s)=>{const[,h,,g={}]=s;if(h&&!h.is("documentSelection"))return;const _=hs(i);_&&(g.findOptimalPosition=_,s[3]=g)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(o,[s])=>{s&&!s.is("documentSelection")||hs(i)&&o.stop()},{priority:"high"})}}function yD(a){const e=a.model;return(i,o)=>{const s=o.keyCode==io.arrowup,h=o.keyCode==io.arrowdown,g=o.shiftKey,_=e.document.selection;if(!s&&!h)return;const $=h;if(g&&function(tt,ot){return!tt.isCollapsed&&tt.isBackward==ot}(_,$))return;const et=function(tt,ot,dt){const At=tt.model;if(dt){const St=ot.isCollapsed?ot.focus:ot.getLastPosition(),Dt=ny(At,St,"forward");if(!Dt)return null;const Ft=At.createRange(St,Dt),Yt=iy(At.schema,Ft,"backward");return Yt?At.createRange(St,Yt):null}{const St=ot.isCollapsed?ot.focus:ot.getFirstPosition(),Dt=ny(At,St,"backward");if(!Dt)return null;const Ft=At.createRange(Dt,St),Yt=iy(At.schema,Ft,"forward");return Yt?At.createRange(Yt,St):null}}(a,_,$);if(et){if(et.isCollapsed&&(_.isCollapsed||g))return;(et.isCollapsed||function(tt,ot,dt){const At=tt.model,St=tt.view.domConverter;if(dt){const wn=At.createSelection(ot.start);At.modifySelection(wn),wn.focus.isAtEnd||ot.start.isEqual(wn.focus)||(ot=At.createRange(wn.focus,ot.end))}const Dt=tt.mapper.toViewRange(ot),Ft=St.viewRangeToDom(Dt),Yt=No.getDomRangeRects(Ft);let cn;for(const wn of Yt)if(cn!==void 0){if(Math.round(wn.top)>=cn)return!1;cn=Math.max(cn,Math.round(wn.bottom))}else cn=Math.round(wn.bottom);return!0}(a,et,$))&&(e.change(tt=>{const ot=$?et.end:et.start;if(g){const dt=e.createSelection(_.anchor);dt.setFocus(ot),tt.setSelection(dt)}else tt.setSelection(ot)}),i.stop(),o.preventDefault(),o.stopPropagation())}}}function ny(a,e,i){const o=a.schema,s=a.createRangeIn(e.root),h=i=="forward"?"elementStart":"elementEnd";for(const{previousPosition:g,item:_,type:$}of s.getWalker({startPosition:e,direction:i})){if(o.isLimit(_)&&!o.isInline(_))return g;if($==h&&o.isBlock(_))return null}return null}function iy(a,e,i){const o=i=="backward"?e.end:e.start;if(a.checkChild(o,"$text"))return o;for(const{nextPosition:s}of e.getWalker({direction:i}))if(a.checkChild(s,"$text"))return s;return null}var oy=_e(3488),CD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(oy.Z,CD),oy.Z.locals;class Pu extends In{static get pluginName(){return"Widget"}static get requires(){return[AD,us]}init(){const e=this.editor,i=e.editing.view,o=i.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(s,h,g)=>{const _=g.writer,$=h.selection;if($.isCollapsed)return;const et=$.getSelectedElement();if(!et)return;const tt=e.editing.mapper.toViewElement(et);var ot;Do(tt)&&g.consumable.consume($,"selection")&&_.setSelection(_.createRangeOn(tt),{fake:!0,label:(ot=tt,ot.getCustomProperty("widgetLabel").reduce((dt,At)=>typeof At=="function"?dt?dt+". "+At():At():dt?dt+". "+At:At,""))})}),this.editor.editing.downcastDispatcher.on("selection",(s,h,g)=>{this._clearPreviouslySelectedWidgets(g.writer);const _=g.writer,$=_.document.selection;let et=null;for(const tt of $.getRanges())for(const ot of tt){const dt=ot.item;Do(dt)&&!ED(dt,et)&&(_.addClass(YA,dt),this._previouslySelected.add(dt),et=dt)}},{priority:"low"}),i.addObserver(gw),this.listenTo(o,"mousedown",(...s)=>this._onMousedown(...s)),this.listenTo(o,"arrowKey",(...s)=>{this._handleSelectionChangeOnArrowKeyPress(...s)},{context:[Do,"$text"]}),this.listenTo(o,"arrowKey",(...s)=>{this._preventDefaultOnArrowKeyPress(...s)},{context:"$root"}),this.listenTo(o,"arrowKey",yD(this.editor.editing),{context:"$text"}),this.listenTo(o,"delete",(s,h)=>{this._handleDelete(h.direction=="forward")&&(h.preventDefault(),s.stop())},{context:"$root"})}_onMousedown(e,i){const o=this.editor,s=o.editing.view,h=s.document;let g=i.target;if(function($){let et=$;for(;et;){if(et.is("editableElement")&&!et.is("rootElement"))return!0;if(Do(et))return!1;et=et.parent}return!1}(g)){if((ft.isSafari||ft.isGecko)&&i.domEvent.detail>=3){const $=o.editing.mapper,et=g.is("attributeElement")?g.findAncestor(ot=>!ot.is("attributeElement")):g,tt=$.toModelElement(et);i.preventDefault(),this.editor.model.change(ot=>{ot.setSelection(tt,"in")})}return}if(!Do(g)&&(g=g.findAncestor(Do),!g))return;ft.isAndroid&&i.preventDefault(),h.isFocused||s.focus();const _=o.editing.mapper.toModelElement(g);this._setSelectionOverElement(_)}_handleSelectionChangeOnArrowKeyPress(e,i){const o=i.keyCode,s=this.editor.model,h=s.schema,g=s.document.selection,_=g.getSelectedElement(),$=Pm(o,this.editor.locale.contentLanguageDirection),et=$=="down"||$=="right",tt=$=="up"||$=="down";if(_&&h.isObject(_)){const dt=et?g.getLastPosition():g.getFirstPosition(),At=h.getNearestSelectionRange(dt,et?"forward":"backward");return void(At&&(s.change(St=>{St.setSelection(At)}),i.preventDefault(),e.stop()))}if(!g.isCollapsed&&!i.shiftKey){const dt=g.getFirstPosition(),At=g.getLastPosition(),St=dt.nodeAfter,Dt=At.nodeBefore;return void((St&&h.isObject(St)||Dt&&h.isObject(Dt))&&(s.change(Ft=>{Ft.setSelection(et?At:dt)}),i.preventDefault(),e.stop()))}if(!g.isCollapsed)return;const ot=this._getObjectElementNextToSelection(et);if(ot&&h.isObject(ot)){if(h.isInline(ot)&&tt)return;this._setSelectionOverElement(ot),i.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,i){const o=this.editor.model,s=o.schema,h=o.document.selection.getSelectedElement();h&&s.isObject(h)&&(i.preventDefault(),e.stop())}_handleDelete(e){if(this.editor.isReadOnly)return;const i=this.editor.model.document.selection;if(!i.isCollapsed)return;const o=this._getObjectElementNextToSelection(e);return o?(this.editor.model.change(s=>{let h=i.anchor.parent;for(;h.isEmpty;){const g=h;h=g.parent,s.remove(g)}this._setSelectionOverElement(o)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(i=>{i.setSelection(i.createRangeOn(e))})}_getObjectElementNextToSelection(e){const i=this.editor.model,o=i.schema,s=i.document.selection,h=i.createSelection(s);if(i.modifySelection(h,{direction:e?"forward":"backward"}),h.isEqual(s))return null;const g=e?h.focus.nodeBefore:h.focus.nodeAfter;return g&&o.isObject(g)?g:null}_clearPreviouslySelectedWidgets(e){for(const i of this._previouslySelected)e.removeClass(YA,i);this._previouslySelected.clear()}}function ED(a,e){return!!e&&Array.from(a.getAncestors()).includes(e)}class $p extends In{static get requires(){return[jp]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const i=e.plugins.get("BalloonToolbar");this.listenTo(i,"show",o=>{(function(s){const h=s.getSelectedElement();return!(!h||!Do(h))})(e.editing.view.document.selection)&&o.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:i,items:o,getRelatedElement:s,balloonClassName:h="ck-toolbar-container"}){if(!o.length)return void yt("widget-toolbar-no-items",{toolbarId:e});const g=this.editor,_=g.t,$=new kw(g.locale);if($.ariaLabel=i||_("Widget toolbar"),this._toolbarDefinitions.has(e))throw new at("widget-toolbar-duplicated",this,{toolbarId:e});const et={view:$,getRelatedElement:s,balloonClassName:h,itemsConfig:o,initialized:!1};g.ui.addToolbar($,{isContextual:!0,beforeFocus:()=>{const tt=s(g.editing.view.document.selection);tt&&this._showToolbar(et,tt)},afterBlur:()=>{this._hideToolbar(et)}}),this._toolbarDefinitions.set(e,et)}_updateToolbarsVisibility(){let e=0,i=null,o=null;for(const s of this._toolbarDefinitions.values()){const h=s.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&h)if(this.editor.ui.focusTracker.isFocused){const g=h.getAncestors().length;g>e&&(e=g,i=h,o=s)}else this._isToolbarVisible(s)&&this._hideToolbar(s);else this._isToolbarInBalloon(s)&&this._hideToolbar(s)}o&&this._showToolbar(o,i)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,i){this._isToolbarVisible(e)?ry(this.editor,i):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:sy(this.editor,i),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const o of this._toolbarDefinitions.values())if(this._isToolbarVisible(o)){const s=o.getRelatedElement(this.editor.editing.view.document.selection);ry(this.editor,s)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function ry(a,e){const i=a.plugins.get("ContextualBalloon"),o=sy(a,e);i.updatePosition(o)}function sy(a,e){const i=a.editing.view,o=Xo.defaultPositions;return{target:i.domConverter.mapViewToDom(e),positions:[o.northArrowSouth,o.northArrowSouthWest,o.northArrowSouthEast,o.southArrowNorth,o.southArrowNorthWest,o.southArrowNorthEast,o.viewportStickyNorth]}}var ay=_e(8506),xD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(ay.Z,xD),ay.Z.locals;const SD=function(a,e,i){var o=!0,s=!0;if(typeof a!="function")throw new TypeError("Expected a function");return Ht(i)&&(o="leading"in i?!!i.leading:o,s="trailing"in i?!!i.trailing:s),_u(a,e,{leading:o,maxWait:e,trailing:s})};var ly=_e(903),TD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(ly.Z,TD),ly.Z.locals;class DD extends In{static get pluginName(){return"DragDrop"}static get requires(){return[Or,Pu]}init(){const e=this.editor,i=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=SD(o=>this._updateDropMarker(o),40),this._removeDropMarkerDelayed=uy(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=uy(()=>this._clearDraggableAttributes(),40),i.addObserver(Cw),i.addObserver(gw),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(o,s,h)=>{h?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(o,s,h)=>{h||this._finalizeDragging(!1)}),ft.isAndroid&&this.forceDisabled("noAndroidSupport")}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,i=e.model,o=i.document,s=e.editing.view,h=s.document;this.listenTo(h,"dragstart",(g,_)=>{const $=o.selection;if(_.target&&_.target.is("editableElement"))return void _.preventDefault();const et=_.target?hy(_.target):null;if(et){const dt=e.editing.mapper.toModelElement(et);this._draggedRange=wr.fromRange(i.createRangeOn(dt)),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!h.selection.isCollapsed){const dt=h.selection.getSelectedElement();dt&&Do(dt)||(this._draggedRange=wr.fromRange($.getFirstRange()))}if(!this._draggedRange)return void _.preventDefault();this._draggingUid=Pt(),_.dataTransfer.effectAllowed=this.isEnabled?"copyMove":"copy",_.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const tt=i.createSelection(this._draggedRange.toRange()),ot=e.data.toView(i.getSelectedContent(tt));h.fire("clipboardOutput",{dataTransfer:_.dataTransfer,content:ot,method:"dragstart"}),this.isEnabled||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(h,"dragend",(g,_)=>{this._finalizeDragging(!_.dataTransfer.isCanceled&&_.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(h,"dragenter",()=>{this.isEnabled&&s.focus()}),this.listenTo(h,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(h,"dragging",(g,_)=>{if(!this.isEnabled)return void(_.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const $=cy(e,_.targetRanges,_.target);this._draggedRange||(_.dataTransfer.dropEffect="copy"),ft.isGecko||(_.dataTransfer.effectAllowed=="copy"?_.dataTransfer.dropEffect="copy":["all","copyMove"].includes(_.dataTransfer.effectAllowed)&&(_.dataTransfer.dropEffect="move")),$&&this._updateDropMarkerThrottled($)},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"clipboardInput",(o,s)=>{if(s.method!="drop")return;const h=cy(e,s.targetRanges,s.target);if(this._removeDropMarker(),!h)return this._finalizeDragging(!1),void o.stop();if(this._draggedRange&&this._draggingUid!=s.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),dy(s.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(h,!0))return this._finalizeDragging(!1),void o.stop();s.targetRanges=[e.editing.mapper.toViewRange(h)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(Or);e.on("contentInsertion",(i,o)=>{if(!this.isEnabled||o.method!=="drop")return;const s=o.targetRanges.map(h=>this.editor.editing.mapper.toModelRange(h));this.editor.model.change(h=>h.setSelection(s))},{priority:"high"}),e.on("contentInsertion",(i,o)=>{if(!this.isEnabled||o.method!=="drop")return;const s=dy(o.dataTransfer)=="move",h=!o.resultRange||!o.resultRange.isCollapsed;this._finalizeDragging(h&&s)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,i=e.editing.view,o=i.document;this.listenTo(o,"mousedown",(s,h)=>{if(ft.isAndroid||!h)return;this._clearDraggableAttributesDelayed.cancel();let g=hy(h.target);if(ft.isBlink&&!e.isReadOnly&&!g&&!o.selection.isCollapsed){const _=o.selection.getSelectedElement();_&&Do(_)||(g=o.selection.editableElement)}g&&(i.change(_=>{_.setAttribute("draggable","true",g)}),this._draggableElement=e.editing.mapper.toModelElement(g))}),this.listenTo(o,"mouseup",()=>{ft.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(i=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&i.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const e=this.editor;e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(i,{writer:o})=>{if(e.model.schema.checkChild(i.markerRange.start,"$text"))return o.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(s){const h=this.toDomElement(s);return h.append("",s.createElement("span"),""),h})}})}_updateDropMarker(e){const i=this.editor,o=i.model.markers;i.model.change(s=>{o.has("drop-target")?o.get("drop-target").getRange().isEqual(e)||s.updateMarker("drop-target",{range:e}):s.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const e=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),e.markers.has("drop-target")&&e.change(i=>{i.removeMarker("drop-target")})}_finalizeDragging(e){const i=this.editor,o=i.model;this._removeDropMarker(),this._clearDraggableAttributes(),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(e&&this.isEnabled&&o.deleteContent(o.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function cy(a,e,i){const o=a.model,s=a.editing.mapper;let h=null;const g=e?e[0].start:null;if(i.is("uiElement")&&(i=i.parent),h=function(et,tt){const ot=et.model,dt=et.editing.mapper;if(Do(tt))return ot.createRangeOn(dt.toModelElement(tt));if(!tt.is("editableElement")){const At=tt.findAncestor(St=>Do(St)||St.is("editableElement"));if(Do(At))return ot.createRangeOn(dt.toModelElement(At))}return null}(a,i),h)return h;const _=function(et,tt){const ot=et.editing.mapper,dt=et.editing.view,At=ot.toModelElement(tt);if(At)return At;const St=dt.createPositionBefore(tt),Dt=ot.findMappedViewAncestor(St);return ot.toModelElement(Dt)}(a,i),$=g?s.toModelPosition(g):null;return $?(h=function(et,tt,ot){const dt=et.model;if(!dt.schema.checkChild(ot,"$block"))return null;const At=dt.createPositionAt(ot,0),St=tt.path.slice(0,At.path.length),Dt=dt.createPositionFromPath(tt.root,St),Ft=Dt.nodeAfter;return Ft&&dt.schema.isObject(Ft)?dt.createRangeOn(Ft):null}(a,$,_),h||(h=o.schema.getNearestSelectionRange($,ft.isGecko?"forward":"backward"),h||function(et,tt){const ot=et.model;let dt=tt;for(;dt;){if(ot.schema.isObject(dt))return ot.createRangeOn(dt);dt=dt.parent}return null}(a,$.parent))):function(et,tt){const ot=et.model,dt=ot.schema,At=ot.createPositionAt(tt,0);return dt.getNearestSelectionRange(At,"forward")}(a,_)}function dy(a){return ft.isGecko?a.dropEffect:["all","copyMove"].includes(a.effectAllowed)?"move":"copy"}function uy(a,e){let i;function o(...s){o.cancel(),i=setTimeout(()=>a(...s),e)}return o.cancel=()=>{clearTimeout(i)},o}function hy(a){if(a.is("editableElement"))return null;if(a.hasClass("ck-widget__selection-handle"))return a.findAncestor(Do);if(Do(a))return a;const e=a.findAncestor(i=>Do(i)||i.is("editableElement"));return Do(e)?e:null}class ID extends In{static get pluginName(){return"PastePlainText"}static get requires(){return[Or]}init(){const e=this.editor,i=e.model,o=e.editing.view,s=o.document,h=i.document.selection;let g=!1;o.addObserver(Cw),this.listenTo(s,"keydown",(_,$)=>{g=$.shiftKey}),e.plugins.get(Or).on("contentInsertion",(_,$)=>{(g||function(et,tt){if(et.childCount>1)return!1;const ot=et.getChild(0);return tt.isObject(ot)?!1:Array.from(ot.getAttributeKeys()).length==0}($.content,i.schema))&&i.change(et=>{const tt=Array.from(h.getAttributes()).filter(([dt])=>i.schema.getAttributeProperties(dt).isFormatting);h.isCollapsed||i.deleteContent(h,{doNotAutoparagraph:!0}),tt.push(...h.getAttributes());const ot=et.createRangeIn($.content);for(const dt of ot.getItems())dt.is("$textProxy")&&et.setAttributes(tt,dt)})})}}class py extends In{static get pluginName(){return"Clipboard"}static get requires(){return[Or,DD,ID]}}class MD extends Jn{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,i=e.document.selection;let o=e.schema.getLimitElement(i);if(i.containsEntireContent(o)||!fy(e.schema,o))do if(o=o.parent,!o)return;while(!fy(e.schema,o));e.change(s=>{s.setSelection(o,"in")})}}function fy(a,e){return a.isLimit(e)&&(a.checkChild(e,"$text")||a.checkChild(e,"paragraph"))}const PD=Mm("Ctrl+A");class ND extends In{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,i=e.editing.view.document;e.commands.add("selectAll",new MD(e)),this.listenTo(i,"keydown",(o,s)=>{ga(s)===PD&&(e.execute("selectAll"),s.preventDefault())})}}class RD extends In{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",i=>{const o=e.commands.get("selectAll"),s=new vo(i),h=i.t;return s.set({label:h("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),s.bind("isEnabled").to(o,"isEnabled"),this.listenTo(s,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),s})}}class OD extends In{static get requires(){return[ND,RD]}static get pluginName(){return"SelectAll"}}class gy extends Jn{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this.listenTo(e.data,"set",(i,o)=>{o[1]={...o[1]};const s=o[1];s.batchType||(s.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(i,o)=>{o[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}addBatch(e){const i=this.editor.model.document.selection,o={ranges:i.hasOwnRange?Array.from(i.getRanges()):[],isBackward:i.isBackward};this._stack.push({batch:e,selection:o}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,i,o){const s=this.editor.model,h=s.document,g=[],_=e.map(et=>et.getTransformedByOperations(o)),$=_.flat();for(const et of _){const tt=et.filter(ot=>ot.root!=h.graveyard).filter(ot=>!BD(ot,$));tt.length&&(LD(tt),g.push(tt[0]))}g.length&&s.change(et=>{et.setSelection(g,{backward:i})})}_undo(e,i){const o=this.editor.model,s=o.document;this._createdBatches.add(i);const h=e.operations.slice().filter(g=>g.isDocumentOperation);h.reverse();for(const g of h){const _=g.baseVersion+1,$=Array.from(s.history.getOperations(_)),et=GS([g.getReversed()],$,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const tt of et)i.addOperation(tt),o.applyOperation(tt),s.history.setOperationAsUndone(g,tt)}}}function LD(a){a.sort((e,i)=>e.start.isBefore(i.start)?-1:1);for(let e=1;e<a.length;e++){const i=a[e-1].getJoined(a[e],!0);i&&(e--,a.splice(e,2,i))}}function BD(a,e){return e.some(i=>i!==a&&i.containsRange(a,!0))}class FD extends gy{execute(e=null){const i=e?this._stack.findIndex(h=>h.batch==e):this._stack.length-1,o=this._stack.splice(i,1)[0],s=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(s,()=>{this._undo(o.batch,s);const h=this.editor.model.document.history.getOperations(o.batch.baseVersion);this._restoreSelection(o.selection.ranges,o.selection.isBackward,h),this.fire("revert",o.batch,s)}),this.refresh()}}class jD extends gy{execute(){const e=this._stack.pop(),i=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(i,()=>{const o=e.batch.operations[e.batch.operations.length-1].baseVersion+1,s=this.editor.model.document.history.getOperations(o);this._restoreSelection(e.selection.ranges,e.selection.isBackward,s),this._undo(e.batch,i)}),this.refresh()}}class zD extends In{static get pluginName(){return"UndoEditing"}constructor(e){super(e),this._batchRegistry=new WeakSet}init(){const e=this.editor;this._undoCommand=new FD(e),this._redoCommand=new jD(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(i,o)=>{const s=o[0];if(!s.isDocumentOperation)return;const h=s.batch,g=this._redoCommand._createdBatches.has(h),_=this._undoCommand._createdBatches.has(h);this._batchRegistry.has(h)||(this._batchRegistry.add(h),h.isUndoable&&(g?this._undoCommand.addBatch(h):_||(this._undoCommand.addBatch(h),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(i,o,s)=>{this._redoCommand.addBatch(s)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}const my='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',ky='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class VD extends In{static get pluginName(){return"UndoUI"}init(){const e=this.editor,i=e.locale,o=e.t,s=i.uiLanguageDirection=="ltr"?my:ky,h=i.uiLanguageDirection=="ltr"?ky:my;this._addButton("undo",o("Undo"),"CTRL+Z",s),this._addButton("redo",o("Redo"),"CTRL+Y",h)}_addButton(e,i,o,s){const h=this.editor;h.ui.componentFactory.add(e,g=>{const _=h.commands.get(e),$=new vo(g);return $.set({label:i,icon:s,keystroke:o,tooltip:!0}),$.bind("isEnabled").to(_,"isEnabled"),this.listenTo($,"execute",()=>{h.execute(e),h.editing.view.focus()}),$})}}class by extends In{static get requires(){return[zD,VD]}static get pluginName(){return"Undo"}}class UD extends Lt(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=i=>{this.loaded=i.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const i=this._reader;return this.total=e.size,new Promise((o,s)=>{i.onload=()=>{const h=i.result;this._data=h,o(h)},i.onerror=()=>{s("error")},i.onabort=()=>{s("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class vr extends In{static get pluginName(){return"FileRepository"}static get requires(){return[Jv]}init(){this.loaders=new mr,this.loaders.on("change",()=>this._updatePendingAction()),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,i)=>i?e/i*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return yt("filerepository-no-upload-adapter"),null;const i=new wy(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(i),this._loadersMap.set(e,i),e instanceof Promise&&i.file.then(o=>{this._loadersMap.set(o,i)}).catch(()=>{}),i.on("change:uploaded",()=>{let o=0;for(const s of this.loaders)o+=s.uploaded;this.uploaded=o}),i.on("change:uploadTotal",()=>{let o=0;for(const s of this.loaders)s.uploadTotal&&(o+=s.uploadTotal);this.uploadTotal=o}),i}destroyLoader(e){const i=e instanceof wy?e:this.getLoader(e);i._destroy(),this.loaders.remove(i),this._loadersMap.forEach((o,s)=>{o===i&&this._loadersMap.delete(s)})}_updatePendingAction(){const e=this.editor.plugins.get(Jv);if(this.loaders.length){if(!this._pendingAction){const i=this.editor.t,o=s=>`${i("Upload in progress")} ${parseInt(s)}%.`;this._pendingAction=e.add(o(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",o)}}else e.remove(this._pendingAction),this._pendingAction=null}}class wy extends Lt(){constructor(e,i){super(),this.id=Pt(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=i(this),this._reader=new UD,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(o,s)=>s?o/s*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new at("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new at("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const i={};return i.promise=new Promise((o,s)=>{i.rejecter=s,i.isFulfilled=!1,e.then(h=>{i.isFulfilled=!0,o(h)}).catch(h=>{i.isFulfilled=!0,s(h)})}),i}}class HD extends eo{constructor(e){super(e),this.buttonView=new vo(e),this._fileInputView=new WD(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class WD extends eo{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:i.to("acceptedType"),multiple:i.to("allowMultipleFiles")},on:{change:i.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const _y="ckCsrfToken",vy="abcdefghijklmnopqrstuvwxyz0123456789";function $D(){let a=function(o){o=o.toLowerCase();const s=document.cookie.split(";");for(const h of s){const g=h.split("=");if(decodeURIComponent(g[0].trim().toLowerCase())===o)return decodeURIComponent(g[1])}return null}(_y);var e,i;return a&&a.length==40||(a=function(o){let s="";const h=new Uint8Array(o);window.crypto.getRandomValues(h);for(let g=0;g<h.length;g++){const _=vy.charAt(h[g]%vy.length);s+=Math.random()>.5?_.toUpperCase():_}return s}(40),e=_y,i=a,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(i)+";path=/"),a}class GD{constructor(e,i,o){this.loader=e,this.url=i,this.t=o}upload(){return this.loader.file.then(e=>new Promise((i,o)=>{this._initRequest(),this._initListeners(i,o,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,i,o){const s=this.xhr,h=this.loader,g=(0,this.t)("Cannot upload file:")+` ${o.name}.`;s.addEventListener("error",()=>i(g)),s.addEventListener("abort",()=>i()),s.addEventListener("load",()=>{const _=s.response;if(!_||!_.uploaded)return i(_&&_.error&&_.error.message?_.error.message:g);e({default:_.url})}),s.upload&&s.upload.addEventListener("progress",_=>{_.lengthComputable&&(h.uploadTotal=_.total,h.uploaded=_.loaded)})}_sendRequest(e){const i=new FormData;i.append("upload",e),i.append("ckCsrfToken",$D()),this.xhr.send(i)}}function ps(a,e,i,o){let s,h=null;typeof o=="function"?s=o:(h=a.commands.get(o),s=()=>{a.execute(o)}),a.model.document.on("change:data",(g,_)=>{if(h&&!h.isEnabled||!e.isEnabled)return;const $=jo(a.model.document.selection.getRanges());if(!$.isCollapsed||_.isUndo||!_.isLocal)return;const et=Array.from(a.model.document.differ.getChanges()),tt=et[0];if(et.length!=1||tt.type!=="insert"||tt.name!="$text"||tt.length!=1)return;const ot=tt.position.parent;if(ot.is("element","codeBlock")||ot.is("element","listItem")&&typeof o!="function"&&!["numberedList","bulletedList","todoList"].includes(o)||h&&h.value===!0)return;const dt=ot.getChild(0),At=a.model.createRangeOn(dt);if(!At.containsRange($)&&!$.end.isEqual(At.end))return;const St=i.exec(dt.data.substr(0,$.end.offset));St&&a.model.enqueueChange(Dt=>{const Ft=Dt.createPositionAt(ot,0),Yt=Dt.createPositionAt(ot,St[0].length),cn=new wr(Ft,Yt);if(s({match:St})!==!1){Dt.remove(cn);const wn=a.model.document.selection.getFirstRange(),Pn=Dt.createRangeIn(ot);!ot.isEmpty||Pn.isEqual(wn)||Pn.containsRange(wn,!0)||Dt.remove(ot)}cn.detach(),a.model.enqueueChange(()=>{a.plugins.get("Delete").requestUndoOnBackspace()})})})}function Ml(a,e,i,o){let s,h;i instanceof RegExp?s=i:h=i,h=h||(g=>{let _;const $=[],et=[];for(;(_=s.exec(g))!==null&&!(_&&_.length<4);){let{index:tt,1:ot,2:dt,3:At}=_;const St=ot+dt+At;tt+=_[0].length-St.length;const Dt=[tt,tt+ot.length],Ft=[tt+ot.length+dt.length,tt+ot.length+dt.length+At.length];$.push(Dt),$.push(Ft),et.push([tt+ot.length,tt+ot.length+dt.length])}return{remove:$,format:et}}),a.model.document.on("change:data",(g,_)=>{if(_.isUndo||!_.isLocal||!e.isEnabled)return;const $=a.model,et=$.document.selection;if(!et.isCollapsed)return;const tt=Array.from($.document.differ.getChanges()),ot=tt[0];if(tt.length!=1||ot.type!=="insert"||ot.name!="$text"||ot.length!=1)return;const dt=et.focus,At=dt.parent,{text:St,range:Dt}=function(wn,Pn){let Un=wn.start;return{text:Array.from(wn.getItems()).reduce((ao,Vo)=>!Vo.is("$text")&&!Vo.is("$textProxy")||Vo.getAttribute("code")?(Un=Pn.createPositionAfter(Vo),""):ao+Vo.data,""),range:Pn.createRange(Un,wn.end)}}($.createRange($.createPositionAt(At,0),dt),$),Ft=h(St),Yt=Ay(Dt.start,Ft.format,$),cn=Ay(Dt.start,Ft.remove,$);Yt.length&&cn.length&&$.enqueueChange(wn=>{if(o(wn,Yt)!==!1){for(const Pn of cn.reverse())wn.remove(Pn);$.enqueueChange(()=>{a.plugins.get("Delete").requestUndoOnBackspace()})}})})}function Ay(a,e,i){return e.filter(o=>o[0]!==void 0&&o[1]!==void 0).map(o=>i.createRange(a.getShiftedBy(o[0]),a.getShiftedBy(o[1])))}function Gp(a,e){return(i,o)=>{if(!a.commands.get(e).isEnabled)return!1;const s=a.model.schema.getValidRanges(o,e);for(const h of s)i.setAttribute(e,!0,h);i.removeSelectionAttribute(e)}}class yy extends Jn{constructor(e,i){super(e),this.attributeKey=i}refresh(){const e=this.editor.model,i=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(i.selection,this.attributeKey)}execute(e={}){const i=this.editor.model,o=i.document.selection,s=e.forceValue===void 0?!this.value:e.forceValue;i.change(h=>{if(o.isCollapsed)s?h.setSelectionAttribute(this.attributeKey,!0):h.removeSelectionAttribute(this.attributeKey);else{const g=i.schema.getValidRanges(o.getRanges(),this.attributeKey);for(const _ of g)s?h.setAttribute(this.attributeKey,s,_):h.removeAttribute(this.attributeKey,_)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,i=e.schema,o=e.document.selection;if(o.isCollapsed)return o.hasAttribute(this.attributeKey);for(const s of o.getRanges())for(const h of s.getItems())if(i.checkAttribute(h,this.attributeKey))return h.hasAttribute(this.attributeKey);return!1}}const Pl="bold";class qD extends In{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Pl}),e.model.schema.setAttributeProperties(Pl,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Pl,view:"strong",upcastAlso:["b",i=>{const o=i.getStyle("font-weight");return o&&(o=="bold"||Number(o)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(Pl,new yy(e,Pl)),e.keystrokes.set("CTRL+B",Pl)}}const Iw="bold";class KD extends In{static get pluginName(){return"BoldUI"}init(){const e=this.editor,i=e.t;e.ui.componentFactory.add(Iw,o=>{const s=e.commands.get(Iw),h=new vo(o);return h.set({label:i("Bold"),icon:Bo.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(h,"execute",()=>{e.execute(Iw),e.editing.view.focus()}),h})}}const Nl="italic";class YD extends In{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Nl}),e.model.schema.setAttributeProperties(Nl,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Nl,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(Nl,new yy(e,Nl)),e.keystrokes.set("CTRL+I",Nl)}}const Mw="italic";class QD extends In{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,i=e.t;e.ui.componentFactory.add(Mw,o=>{const s=e.commands.get(Mw),h=new vo(o);return h.set({label:i("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(h,"execute",()=>{e.execute(Mw),e.editing.view.focus()}),h})}}class ZD extends Jn{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor.model,o=i.schema,s=i.document.selection,h=Array.from(s.getSelectedBlocks()),g=e.forceValue===void 0?!this.value:e.forceValue;i.change(_=>{if(g){const $=h.filter(et=>qp(et)||Ey(o,et));this._applyQuote(_,$)}else this._removeQuote(_,h.filter(qp))})}_getValue(){const e=jo(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!qp(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,i=this.editor.model.schema,o=jo(e.getSelectedBlocks());return!!o&&Ey(i,o)}_removeQuote(e,i){Cy(e,i).reverse().forEach(o=>{if(o.start.isAtStart&&o.end.isAtEnd)return void e.unwrap(o.start.parent);if(o.start.isAtStart){const h=e.createPositionBefore(o.start.parent);return void e.move(o,h)}o.end.isAtEnd||e.split(o.end);const s=e.createPositionAfter(o.end.parent);e.move(o,s)})}_applyQuote(e,i){const o=[];Cy(e,i).reverse().forEach(s=>{let h=qp(s.start);h||(h=e.createElement("blockQuote"),e.wrap(s,h)),o.push(h)}),o.reverse().reduce((s,h)=>s.nextSibling==h?(e.merge(e.createPositionAfter(s)),s):h)}}function qp(a){return a.parent.name=="blockQuote"?a.parent:null}function Cy(a,e){let i,o=0;const s=[];for(;o<e.length;){const h=e[o],g=e[o+1];i||(i=a.createPositionBefore(h)),g&&h.nextSibling==g||(s.push(a.createRange(i,a.createPositionAfter(h))),i=null),o++}return s}function Ey(a,e){const i=a.checkChild(e.parent,"blockQuote"),o=a.checkChild(["$root","blockQuote"],e);return i&&o}class XD extends In{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[Hp,us]}init(){const e=this.editor,i=e.model.schema;e.commands.add("blockQuote",new ZD(e)),i.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(g=>{const _=e.model.document.differ.getChanges();for(const $ of _)if($.type=="insert"){const et=$.position.nodeAfter;if(!et)continue;if(et.is("element","blockQuote")&&et.isEmpty)return g.remove(et),!0;if(et.is("element","blockQuote")&&!i.checkChild($.position,et))return g.unwrap(et),!0;if(et.is("element")){const tt=g.createRangeIn(et);for(const ot of tt.getItems())if(ot.is("element","blockQuote")&&!i.checkChild(g.createPositionBefore(ot),ot))return g.unwrap(ot),!0}}else if($.type=="remove"){const et=$.position.parent;if(et.is("element","blockQuote")&&et.isEmpty)return g.remove(et),!0}return!1});const o=this.editor.editing.view.document,s=e.model.document.selection,h=e.commands.get("blockQuote");this.listenTo(o,"enter",(g,_)=>{!s.isCollapsed||!h.value||s.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),_.preventDefault(),g.stop())},{context:"blockquote"}),this.listenTo(o,"delete",(g,_)=>{if(_.direction!="backward"||!s.isCollapsed||!h.value)return;const $=s.getLastPosition().parent;$.isEmpty&&!$.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),_.preventDefault(),g.stop())},{context:"blockquote"})}}var xy=_e(3062),JD={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(xy.Z,JD),xy.Z.locals;class eI extends In{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,i=e.t;e.ui.componentFactory.add("blockQuote",o=>{const s=e.commands.get("blockQuote"),h=new vo(o);return h.set({label:i("Block quote"),icon:Bo.quote,tooltip:!0,isToggleable:!0}),h.bind("isOn","isEnabled").to(s,"value","isEnabled"),this.listenTo(h,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),h})}}class tI extends In{static get pluginName(){return"CKBoxUI"}afterInit(){const e=this.editor;if(!e.commands.get("ckbox"))return;const i=e.t;e.ui.componentFactory.add("ckbox",o=>{const s=e.commands.get("ckbox"),h=new vo(o);return h.set({label:i("Open file manager"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),h.bind("isOn","isEnabled").to(s,"value","isEnabled"),h.on("execute",()=>{e.execute("ckbox")}),h})}}function Sy({token:a,id:e,origin:i,width:o,extension:s}){const h=Ty(a),g=function($){const et=[10*$/100,80],tt=Math.floor(Math.max(...et)),ot=[Math.min($,4e3)];let dt=ot[0];for(;dt-tt>=tt;)dt-=tt,ot.unshift(dt);return ot}(o),_=function($){return $==="bmp"||$==="tiff"||$==="jpg"?"jpeg":$}(s);return{imageFallbackUrl:Dy({environmentId:h,id:e,origin:i,width:o,extension:_}),imageSources:[{srcset:g.map($=>`${Dy({environmentId:h,id:e,origin:i,width:$,extension:"webp"})} ${$}w`).join(","),sizes:`(max-width: ${o}px) 100vw, ${o}px`,type:"image/webp"}]}}function Ty(a){const[,e]=a.value.split(".");return JSON.parse(atob(e)).aud}function Dy({environmentId:a,id:e,origin:i,width:o,extension:s}){return new URL(`${a}/assets/${e}/images/${o}.${s}`,i).toString()}class nI extends Jn{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const e=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");return!(!e.isEnabled&&!i.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox");return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,assetsOrigin:e.assetsOrigin,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:i=>this.fire("ckbox:choose",i)}}}_initListeners(){const e=this.editor,i=e.model,o=!e.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=on(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null)}),this.on("ckbox:choose",(s,h)=>{if(!this.isEnabled)return;const g=e.commands.get("insertImage"),_=e.commands.get("link"),$=e.plugins.get("CKBoxEditing"),et=function({assets:tt,origin:ot,token:dt,isImageAllowed:At,isLinkAllowed:St}){return tt.map(Dt=>({id:Dt.data.id,type:Iy(Dt)?"image":"link",attributes:iI(Dt,dt,ot)})).filter(Dt=>Dt.type==="image"?At:St)}({assets:h,origin:e.config.get("ckbox.assetsOrigin"),token:$.getToken(),isImageAllowed:g.isEnabled,isLinkAllowed:_.isEnabled});et.length!==0&&i.change(tt=>{for(const ot of et){const dt=ot===et[et.length-1];this._insertAsset(ot,dt,tt),o&&(setTimeout(()=>this._chosenAssets.delete(ot),1e3),this._chosenAssets.add(ot))}})}),this.listenTo(e,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(e,i,o){const s=this.editor.model.document.selection;o.removeSelectionAttribute("linkHref"),e.type==="image"?this._insertImage(e):this._insertLink(e,o),i||o.setSelection(s.getLastPosition())}_insertImage(e){const i=this.editor,{imageFallbackUrl:o,imageSources:s,imageTextAlternative:h}=e.attributes;i.execute("insertImage",{source:{src:o,sources:s,alt:h}})}_insertLink(e,i){const o=this.editor,s=o.model,h=s.document.selection,{linkName:g,linkHref:_}=e.attributes;if(h.isCollapsed){const $=Tr(h.getAttributes()),et=i.createText(g,$),tt=s.insertContent(et);i.setSelection(tt)}o.execute("link",_)}}function iI(a,e,i){if(Iy(a)){const{imageFallbackUrl:o,imageSources:s}=Sy({token:e,origin:i,id:a.data.id,width:a.data.metadata.width,extension:a.data.extension});return{imageFallbackUrl:o,imageSources:s,imageTextAlternative:a.data.metadata.description||""}}return{linkName:a.data.name,linkHref:oI(a,e,i)}}function Iy(a){const e=a.data.metadata;return!!e&&e.width&&e.height}function oI(a,e,i){const o=Ty(e),s=new URL(`${o}/assets/${a.data.id}/file`,i);return s.searchParams.set("download","true"),s.toString()}class rI extends In{static get requires(){return["ImageUploadEditing","ImageUploadProgress",vr,Pw]}static get pluginName(){return"CKBoxUploadAdapter"}async afterInit(){const e=this.editor,i=!!e.config.get("ckbox"),o=!!window.CKBox;if(!i&&!o)return;const s=e.plugins.get(vr),h=e.plugins.get(Pw);s.createUploadAdapter=$=>new sI($,h.getToken(),e);const g=!e.config.get("ckbox.ignoreDataId"),_=e.plugins.get("ImageUploadEditing");g&&_.on("uploadComplete",($,{imageElement:et,data:tt})=>{e.model.change(ot=>{ot.setAttribute("ckboxImageId",tt.ckboxImageId,et)})})}}class sI{constructor(e,i,o){this.loader=e,this.token=i,this.editor=o,this.controller=new AbortController,this.serviceOrigin=o.config.get("ckbox.serviceOrigin"),this.assetsOrigin=o.config.get("ckbox.assetsOrigin")}async getAvailableCategories(e=0){const i=new URL("categories",this.serviceOrigin);return i.searchParams.set("limit",50 .toString()),i.searchParams.set("offset",e.toString()),this._sendHttpRequest({url:i}).then(async o=>{if(o.totalCount-(e+50)>0){const s=await this.getAvailableCategories(e+50);return[...o.items,...s]}return o.items}).catch(()=>{this.controller.signal.throwIfAborted(),Ct("ckbox-fetch-category-http-error")})}async getCategoryIdForFile(e){const i=My(e.name),o=await this.getAvailableCategories();if(!o)return null;const s=this.editor.config.get("ckbox.defaultUploadCategories");if(s){const g=Object.keys(s).find(_=>s[_].includes(i));if(g){const _=o.find($=>$.id===g||$.name===g);return _?_.id:null}}const h=o.find(g=>g.extensions.includes(i));return h?h.id:null}async upload(){const e=this.editor.t,i=e("Cannot determine a category for the uploaded file."),o=await this.loader.file,s=await this.getCategoryIdForFile(o);if(!s)return Promise.reject(i);const h=new URL("assets",this.serviceOrigin),g=new FormData;g.append("categoryId",s),g.append("file",o);const _={method:"POST",url:h,data:g,onUploadProgress:$=>{$.lengthComputable&&(this.loader.uploadTotal=$.total,this.loader.uploaded=$.loaded)}};return this._sendHttpRequest(_).then(async $=>{const et=await this._getImageWidth(),tt=My(o.name),ot=Sy({token:this.token,id:$.id,origin:this.assetsOrigin,width:et,extension:tt});return{ckboxImageId:$.id,default:ot.imageFallbackUrl,sources:ot.imageSources}}).catch(()=>{const $=e("Cannot upload file:")+` ${o.name}.`;return Promise.reject($)})}abort(){this.controller.abort()}_sendHttpRequest(e){const{url:i,data:o,onUploadProgress:s}=e,h=e.method||"GET",g=this.controller.signal,_=new XMLHttpRequest;_.open(h,i.toString(),!0),_.setRequestHeader("Authorization",this.token.value),_.setRequestHeader("CKBox-Version","CKEditor 5"),_.responseType="json";const $=()=>{_.abort()};return new Promise((et,tt)=>{g.addEventListener("abort",$),_.addEventListener("loadstart",()=>{g.addEventListener("abort",$)}),_.addEventListener("loadend",()=>{g.removeEventListener("abort",$)}),_.addEventListener("error",()=>{tt()}),_.addEventListener("abort",()=>{tt()}),_.addEventListener("load",async()=>{const ot=_.response;return!ot||ot.statusCode>=400?tt(ot&&ot.message):et(ot)}),s&&_.upload.addEventListener("progress",ot=>{s(ot)}),_.send(o)})}_getImageWidth(){return new Promise(e=>{const i=new Image;i.onload=()=>{URL.revokeObjectURL(i.src),e(i.width)},i.src=this.loader.data})}}function My(a){return a.match(/\.(?<ext>[^.]+)$/).groups.ext}class Pw extends In{static get pluginName(){return"CKBoxEditing"}static get requires(){return["CloudServices","LinkEditing","PictureEditing",rI]}async init(){const e=this.editor,i=!!e.config.get("ckbox"),o=!!window.CKBox;if(!i&&!o)return;this._initConfig();const s=e.plugins.get("CloudServicesCore"),h=e.config.get("ckbox.tokenUrl"),g=e.config.get("cloudServices.tokenUrl");this._token=h===g?e.plugins.get("CloudServices").token:await s.createToken(h).init(),e.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()),o&&e.commands.add("ckbox",new nI(e))}getToken(){return this._token}_initConfig(){const e=this.editor;if(e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",assetsOrigin:"https://ckbox.cloud",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"default",tokenUrl:e.config.get("cloudServices.tokenUrl")}),!e.config.get("ckbox.tokenUrl"))throw new at("ckbox-plugin-missing-token-url",this);e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||Ct("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck((i,o)=>{if(!i.last.getAttribute("linkHref")&&o==="ckboxLinkId")return!1})}_initConversion(){const e=this.editor;e.conversion.for("downcast").add(i=>{i.on("attribute:ckboxLinkId:imageBlock",(o,s,h)=>{const{writer:g,mapper:_,consumable:$}=h;if(!$.consume(s.item,o.name))return;const et=[..._.toViewElement(s.item).getChildren()].find(tt=>tt.name==="a");et&&(s.item.hasAttribute("ckboxLinkId")?g.setAttribute("data-ckbox-resource-id",s.item.getAttribute("ckboxLinkId"),et):g.removeAttribute("data-ckbox-resource-id",et))},{priority:"low"}),i.on("attribute:ckboxLinkId",(o,s,h)=>{const{writer:g,mapper:_,consumable:$}=h;if($.consume(s.item,o.name)){if(s.attributeOldValue){const et=Py(g,s.attributeOldValue);g.unwrap(_.toViewRange(s.range),et)}if(s.attributeNewValue){const et=Py(g,s.attributeNewValue);if(s.item.is("selection")){const tt=g.document.selection;g.wrap(tt.getFirstRange(),et)}else g.wrap(_.toViewRange(s.range),et)}}},{priority:"low"})}),e.conversion.for("upcast").add(i=>{i.on("element:a",(o,s,h)=>{const{writer:g,consumable:_}=h;if(!s.viewItem.getAttribute("href")||!_.consume(s.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const $=s.viewItem.getAttribute("data-ckbox-resource-id");if($)if(s.modelRange)for(let et of s.modelRange.getItems())et.is("$textProxy")&&(et=et.textNode),lI(et)&&g.setAttribute("ckboxLinkId",$,et);else{const et=s.modelCursor.nodeBefore||s.modelCursor.parent;g.setAttribute("ckboxLinkId",$,et)}},{priority:"low"})}),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:i=>i.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}_initFixers(){const e=this.editor,i=e.model,o=i.document.selection;i.document.registerPostFixer(function(s){return h=>{let g=!1;const _=s.model,$=s.commands.get("ckbox");if(!$)return g;for(const et of _.document.differ.getChanges()){if(et.type!=="insert"&&et.type!=="attribute")continue;const tt=et.type==="insert"?new bn(et.position,et.position.getShiftedBy(et.length)):et.range,ot=et.type==="attribute"&&et.attributeKey==="linkHref"&&et.attributeNewValue===null;for(const dt of tt.getItems()){if(ot&&dt.hasAttribute("ckboxLinkId")){h.removeAttribute("ckboxLinkId",dt),g=!0;continue}const At=aI(dt,$._chosenAssets);for(const St of At){const Dt=St.type==="image"?"ckboxImageId":"ckboxLinkId";St.id!==dt.getAttribute(Dt)&&(h.setAttribute(Dt,St.id,dt),g=!0)}}}return g}}(e)),i.document.registerPostFixer(function(s){return h=>{!s.hasAttribute("linkHref")&&s.hasAttribute("ckboxLinkId")&&h.removeSelectionAttribute("ckboxLinkId")}}(o))}}function aI(a,e){const i=a.is("element","imageInline")||a.is("element","imageBlock"),o=a.hasAttribute("linkHref");return[...e].filter(s=>s.type==="image"&&i?s.attributes.imageFallbackUrl===a.getAttribute("src"):s.type==="link"&&o?s.attributes.linkHref===a.getAttribute("linkHref"):void 0)}function Py(a,e){const i=a.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return a.setCustomProperty("link",!0,i),i}function lI(a){return!!a.is("$text")||!(!a.is("element","imageInline")&&!a.is("element","imageBlock"))}class cI extends In{static get pluginName(){return"CKFinderUI"}init(){const e=this.editor,i=e.ui.componentFactory,o=e.t;i.add("ckfinder",s=>{const h=e.commands.get("ckfinder"),g=new vo(s);return g.set({label:o("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),g.bind("isEnabled").to(h),g.on("execute",()=>{e.execute("ckfinder"),e.editing.view.focus()}),g})}}class dI extends Jn{constructor(e){super(e),this._affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");this.isEnabled=e.isEnabled||i.isEnabled}execute(){const e=this.editor,i=this.editor.config.get("ckfinder.openerMethod")||"modal";if(i!="popup"&&i!="modal")throw new at("ckfinder-unknown-openermethod",e);const o=this.editor.config.get("ckfinder.options")||{};o.chooseFiles=!0;const s=o.onInit;o.language||(o.language=e.locale.uiLanguage),o.onInit=h=>{s&&s(h),h.on("files:choose",g=>{const _=g.data.files.toArray(),$=_.filter(ot=>!ot.isImage()),et=_.filter(ot=>ot.isImage());for(const ot of $)e.execute("link",ot.getUrl());const tt=[];for(const ot of et){const dt=ot.getUrl();tt.push(dt||h.request("file:getProxyUrl",{file:ot}))}tt.length&&Ny(e,tt)}),h.on("file:choose:resizedImage",g=>{const _=g.data.resizedUrl;if(_)Ny(e,[_]);else{const $=e.plugins.get("Notification"),et=e.locale.t;$.showWarning(et("Could not obtain resized image URL."),{title:et("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[i](o)}}function Ny(a,e){if(a.commands.get("insertImage").isEnabled)a.execute("insertImage",{source:e});else{const i=a.plugins.get("Notification"),o=a.locale.t;i.showWarning(o("Could not insert image at the current position."),{title:o("Inserting image failed"),namespace:"ckfinder"})}}class uI extends In{static get pluginName(){return"CKFinderEditing"}static get requires(){return[yw,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new at("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new dI(e))}}class hI extends In{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",vr]}init(){const e=this.editor,i=e.plugins.get("CloudServices"),o=i.token,s=i.uploadUrl;o&&(this._uploadGateway=e.plugins.get("CloudServicesCore").createUploadGateway(o,s),e.plugins.get(vr).createUploadAdapter=h=>new pI(this._uploadGateway,h))}}class pI{constructor(e,i){this.uploadGateway=e,this.loader=i}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(i,o)=>{this.loader.uploadTotal=o.total,this.loader.uploaded=o.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class fI extends Jn{refresh(){const e=this.editor.model,i=jo(e.document.selection.getSelectedBlocks());this.value=!!i&&i.is("element","paragraph"),this.isEnabled=!!i&&Ry(i,e.schema)}execute(e={}){const i=this.editor.model,o=i.document;i.change(s=>{const h=(e.selection||o.selection).getSelectedBlocks();for(const g of h)!g.is("element","paragraph")&&Ry(g,i.schema)&&s.rename(g,"paragraph")})}}function Ry(a,e){return e.checkChild(a.parent,"paragraph")&&!e.isObject(a)}class gI extends Jn{execute(e){const i=this.editor.model,o=e.attributes;let s=e.position;i.change(h=>{const g=h.createElement("paragraph");if(o&&i.schema.setAllowedAttributes(g,o,h),!i.schema.checkChild(s.parent,g)){const _=i.schema.findAllowedParent(s,g);if(!_)return;s=h.split(s,_).position}i.insertContent(g,s),h.setSelection(g,"in")})}}class Nu extends In{static get pluginName(){return"Paragraph"}init(){const e=this.editor,i=e.model;e.commands.add("paragraph",new fI(e)),e.commands.add("insertParagraph",new gI(e)),i.schema.register("paragraph",{inheritAllFrom:"$block"}),e.conversion.elementToElement({model:"paragraph",view:"p"}),e.conversion.for("upcast").elementToElement({model:(o,{writer:s})=>Nu.paragraphLikeElements.has(o.name)?o.isEmpty?null:s.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}}Nu.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class mI extends Jn{constructor(e,i){super(e),this.modelElements=i}refresh(){const e=jo(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(i=>Oy(e,i,this.editor.model.schema))}execute(e){const i=this.editor.model,o=i.document,s=e.value;i.change(h=>{const g=Array.from(o.selection.getSelectedBlocks()).filter(_=>Oy(_,s,i.schema));for(const _ of g)_.is("element",s)||h.rename(_,s)})}}function Oy(a,e,i){return i.checkChild(a.parent,e)&&!i.isObject(a)}const Ly="paragraph";class kI extends In{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[Nu]}init(){const e=this.editor,i=e.config.get("heading.options"),o=[];for(const s of i)s.model!=="paragraph"&&(e.model.schema.register(s.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(s),o.push(s.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new mI(e,o))}afterInit(){const e=this.editor,i=e.commands.get("enter"),o=e.config.get("heading.options");i&&this.listenTo(i,"afterExecute",(s,h)=>{const g=e.model.document.selection.getFirstPosition().parent;o.some(_=>g.is("element",_.model))&&!g.is("element",Ly)&&g.childCount===0&&h.writer.rename(g,Ly)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:It.get("low")+1})}}var By=_e(8733),bI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(By.Z,bI),By.Z.locals;class wI extends In{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,i=e.t,o=function(g){const _=g.t,$={Paragraph:_("Paragraph"),"Heading 1":_("Heading 1"),"Heading 2":_("Heading 2"),"Heading 3":_("Heading 3"),"Heading 4":_("Heading 4"),"Heading 5":_("Heading 5"),"Heading 6":_("Heading 6")};return g.config.get("heading.options").map(et=>{const tt=$[et.title];return tt&&tt!=et.title&&(et.title=tt),et})}(e),s=i("Choose heading"),h=i("Heading");e.ui.componentFactory.add("heading",g=>{const _={},$=new mr,et=e.commands.get("heading"),tt=e.commands.get("paragraph"),ot=[et];for(const At of o){const St={type:"button",model:new yA({label:At.title,class:At.class,withText:!0})};At.model==="paragraph"?(St.model.bind("isOn").to(tt,"value"),St.model.set("commandName","paragraph"),ot.push(tt)):(St.model.bind("isOn").to(et,"value",Dt=>Dt===At.model),St.model.set({commandName:"heading",commandValue:At.model})),$.add(St),_[At.model]=At.title}const dt=cs(g);return aA(dt,$),dt.buttonView.set({isOn:!1,withText:!0,tooltip:h}),dt.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),dt.bind("isEnabled").toMany(ot,"isEnabled",(...At)=>At.some(St=>St)),dt.buttonView.bind("label").to(et,"value",tt,"value",(At,St)=>{const Dt=At||St&&"paragraph";return typeof Dt=="boolean"?s:_[Dt]?_[Dt]:s}),this.listenTo(dt,"execute",At=>{const{commandName:St,commandValue:Dt}=At.source;e.execute(St,Dt?{value:Dt}:void 0),e.editing.view.focus()}),dt})}}class _I extends Jn{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const i=this.editor,o=i.plugins.get("ImageUtils"),s=i.model,h=o.getClosestSelectedImageElement(s.document.selection);s.change(g=>{g.setAttribute("alt",e.newValue,h)})}}function Fy(a){return a.createContainerElement("figure",{class:"image"},[a.createEmptyElement("img"),a.createSlot()])}function jy(a,e){const i=a.plugins.get("ImageUtils"),o=a.plugins.has("ImageInlineEditing")&&a.plugins.has("ImageBlockEditing");return h=>i.isInlineImageView(h)?o&&(h.getStyle("display")=="block"||h.findAncestor(i.isBlockImageView)?"imageBlock":"imageInline")!==e?null:s(h):null;function s(h){const g={name:!0};return h.hasAttribute("src")&&(g.attributes=["src"]),g}}function Nw(a,e){const i=jo(e.getSelectedBlocks());return!i||a.isObject(i)||i.isEmpty&&i.name!="listItem"?"imageBlock":"imageInline"}class Ar extends In{static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},i=null,o=null){const s=this.editor,h=s.model,g=h.document.selection;o=zy(s,i||g,o),e={...Object.fromEntries(g.getAttributes()),...e};for(const _ in e)h.schema.checkAttribute(o,_)||delete e[_];return h.change(_=>{const $=_.createElement(o,e);return h.insertObject($,i,null,{setSelection:"on",findOptimalPosition:!i&&o!="imageInline"}),$.parent?$:null})}getClosestSelectedImageWidget(e){const i=e.getFirstPosition();if(!i)return null;const o=e.getSelectedElement();if(o&&this.isImageWidget(o))return o;let s=i.parent;for(;s;){if(s.is("element")&&this.isImageWidget(s))return s;s=s.parent}return null}getClosestSelectedImageElement(e){const i=e.getSelectedElement();return this.isImage(i)?i:e.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const e=this.editor.model.document.selection;return function(i,o){if(zy(i,o)=="imageBlock"){const h=function(g,_){const $=XA(g,_),et=$.start.parent;return et.isEmpty&&!et.is("element","$root")?et.parent:et}(o,i.model);if(i.model.schema.checkChild(h,"imageBlock"))return!0}else if(i.model.schema.checkChild(o.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(i){return[...i.focus.getAncestors()].every(o=>!o.is("element","imageBlock"))}(e)}toImageWidget(e,i,o){return i.setCustomProperty("image",!0,e),Dw(e,i,{label:()=>{const s=this.findViewImgElement(e).getAttribute("alt");return s?`${s} ${o}`:o}})}isImageWidget(e){return!!e.getCustomProperty("image")&&Do(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const i=this.editor.editing.view;for(const{item:o}of i.createRangeIn(e))if(this.isInlineImageView(o))return o}}function zy(a,e,i){const o=a.model.schema,s=a.config.get("image.insert.type");return a.plugins.has("ImageBlockEditing")?a.plugins.has("ImageInlineEditing")?i||(s==="inline"?"imageInline":s==="block"?"imageBlock":e.is("selection")?Nw(o,e):o.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class vI extends In{static get requires(){return[Ar]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new _I(this.editor))}}var Vy=_e(1905),AI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(Vy.Z,AI),Vy.Z.locals;var Uy=_e(6764),yI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(Uy.Z,yI),Uy.Z.locals;class CI extends eo{constructor(e){super(e);const i=this.locale.t;this.focusTracker=new dr,this.keystrokes=new Sr,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(i("Save"),Bo.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),Bo.cancel,"ck-button-cancel","cancel"),this._focusables=new ss,this._focusCycler=new xa({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]}),st(this)}render(){super.render(),this.keystrokes.listenTo(this.element),it({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,i,o,s){const h=new vo(this.locale);return h.set({label:e,icon:i,tooltip:!0}),h.extendTemplate({attributes:{class:o}}),s&&h.delegate("execute").to(this,s),h}_createLabeledInputView(){const e=this.locale.t,i=new vw(this.locale,Aw);return i.label=e("Text alternative"),i}}function Hy(a){const e=a.editing.view,i=Xo.defaultPositions,o=a.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(o.getClosestSelectedImageWidget(e.document.selection)),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}class EI extends In{static get requires(){return[jp]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,i=e.t;e.ui.componentFactory.add("imageTextAlternative",o=>{const s=e.commands.get("imageTextAlternative"),h=new vo(o);return h.set({label:i("Change image text alternative"),icon:Bo.lowVision,tooltip:!0}),h.bind("isEnabled").to(s,"isEnabled"),h.bind("isOn").to(s,"value",g=>!!g),this.listenTo(h,"execute",()=>{this._showForm()}),h})}_createForm(){const e=this.editor,i=e.editing.view.document,o=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new CI(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(s,h)=>{this._hideForm(!0),h()}),this.listenTo(e.ui,"update",()=>{o.getClosestSelectedImageWidget(i.selection)?this._isVisible&&function(s){const h=s.plugins.get("ContextualBalloon");if(s.plugins.get("ImageUtils").getClosestSelectedImageWidget(s.editing.view.document.selection)){const g=Hy(s);h.updatePosition(g)}}(e):this._hideForm(!0)}),rt({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,i=e.commands.get("imageTextAlternative"),o=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:Hy(e)}),o.fieldView.value=o.fieldView.element.value=i.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class Wy extends In{static get requires(){return[vI,EI]}static get pluginName(){return"ImageTextAlternative"}}function $y(a,e){return o=>{o.on(`attribute:srcset:${e}`,i)};function i(o,s,h){if(!h.consumable.consume(s.item,o.name))return;const g=h.writer,_=h.mapper.toViewElement(s.item),$=a.findViewImgElement(_);if(s.attributeNewValue===null){const et=s.attributeOldValue;et.data&&(g.removeAttribute("srcset",$),g.removeAttribute("sizes",$),et.width&&g.removeAttribute("width",$))}else{const et=s.attributeNewValue;et.data&&(g.setAttribute("srcset",et.data,$),g.setAttribute("sizes","100vw",$),et.width&&g.setAttribute("width",et.width,$))}}}function Kp(a,e,i){return s=>{s.on(`attribute:${i}:${e}`,o)};function o(s,h,g){if(!g.consumable.consume(h.item,s.name))return;const _=g.writer,$=g.mapper.toViewElement(h.item),et=a.findViewImgElement($);_.setAttribute(h.attributeKey,h.attributeNewValue||"",et)}}class xI extends Pr{observe(e){this.listenTo(e,"load",(i,o)=>{const s=o.target;this.checkShouldIgnoreEventFromTarget(s)||s.tagName=="IMG"&&this._fireEvents(o)},{useCapture:!0})}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}class SI extends Jn{constructor(e){super(e);const i=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||i==="block"&&yt("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||i==="inline"&&yt("image-inline-plugin-required")}refresh(){this.isEnabled=this.editor.plugins.get("ImageUtils").isImageAllowed()}execute(e){const i=Uo(e.source),o=this.editor.model.document.selection,s=this.editor.plugins.get("ImageUtils"),h=Object.fromEntries(o.getAttributes());i.forEach((g,_)=>{const $=o.getSelectedElement();if(typeof g=="string"&&(g={src:g}),_&&$&&s.isImage($)){const et=this.editor.model.createPositionAfter($);s.insertImage({...g,...h},et)}else s.insertImage({...g,...h})})}}class TI extends Jn{refresh(){const e=this.editor.plugins.get("ImageUtils"),i=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(i),this.value=this.isEnabled?i.getAttribute("src"):null}execute(e){const i=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(o=>{o.setAttribute("src",e.source,i),o.removeAttribute("srcset",i),o.removeAttribute("sizes",i)})}}class Rw extends In{static get requires(){return[Ar]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,i=e.conversion;e.editing.view.addObserver(xI),i.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:h=>{const g={data:h.getAttribute("srcset")};return h.hasAttribute("width")&&(g.width=h.getAttribute("width")),g}}});const o=new SI(e),s=new TI(e);e.commands.add("insertImage",o),e.commands.add("replaceImageSource",s),e.commands.add("imageInsert",o)}}class Gy extends Jn{constructor(e,i){super(e),this._modelElementName=i}refresh(){const e=this.editor.plugins.get("ImageUtils"),i=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(i):this.isEnabled=e.isBlockImage(i)}execute(){const e=this.editor,i=this.editor.model,o=e.plugins.get("ImageUtils"),s=o.getClosestSelectedImageElement(i.document.selection),h=Object.fromEntries(s.getAttributes());return h.src||h.uploadId?i.change(g=>{const _=Array.from(i.markers).filter(tt=>tt.getRange().containsItem(s)),$=o.insertImage(h,i.createSelection(s,"on"),this._modelElementName);if(!$)return null;const et=g.createRangeOn($);for(const tt of _){const ot=tt.getRange(),dt=ot.root.rootName!="$graveyard"?ot.getJoined(et,!0):et;g.updateMarker(tt,{range:dt})}return{oldElement:s,newElement:$}}):null}}class qy extends In{static get requires(){return[Rw,Ar,Or]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new Gy(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,i=e.t,o=e.conversion,s=e.plugins.get("ImageUtils");o.for("dataDowncast").elementToStructure({model:"imageBlock",view:(h,{writer:g})=>Fy(g)}),o.for("editingDowncast").elementToStructure({model:"imageBlock",view:(h,{writer:g})=>s.toImageWidget(Fy(g),g,i("image widget"))}),o.for("downcast").add(Kp(s,"imageBlock","src")).add(Kp(s,"imageBlock","alt")).add($y(s,"imageBlock")),o.for("upcast").elementToElement({view:jy(e,"imageBlock"),model:(h,{writer:g})=>g.createElement("imageBlock",h.hasAttribute("src")?{src:h.getAttribute("src")}:null)}).add(function(h){return _=>{_.on("element:figure",g)};function g(_,$,et){if(!et.consumable.test($.viewItem,{name:!0,classes:"image"}))return;const tt=h.findViewImgElement($.viewItem);if(!tt||!et.consumable.test(tt,{name:!0}))return;et.consumable.consume($.viewItem,{name:!0,classes:"image"});const ot=jo(et.convertItem(tt,$.modelCursor).modelRange.getItems());ot?(et.convertChildren($.viewItem,ot),et.updateConversionResult(ot,$)):et.consumable.revert($.viewItem,{name:!0,classes:"image"})}}(s))}_setupClipboardIntegration(){const e=this.editor,i=e.model,o=e.editing.view,s=e.plugins.get("ImageUtils");this.listenTo(e.plugins.get("ClipboardPipeline"),"inputTransformation",(h,g)=>{const _=Array.from(g.content.getChildren());let $;if(!_.every(s.isInlineImageView))return;$=g.targetRanges?e.editing.mapper.toModelRange(g.targetRanges[0]):i.document.selection.getFirstRange();const et=i.createSelection($);if(Nw(i.schema,et)==="imageBlock"){const tt=new Sl(o.document),ot=_.map(dt=>tt.createElement("figure",{class:"image"},dt));g.content=tt.createDocumentFragment(ot)}})}}var Ky=_e(3508),DI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(Ky.Z,DI),Ky.Z.locals;class II extends In{static get requires(){return[qy,Pu,Wy]}static get pluginName(){return"ImageBlock"}}class MI extends In{static get requires(){return[Rw,Ar,Or]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,i=e.model.schema;i.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),i.addChildCheck((o,s)=>{if(o.endsWith("caption")&&s.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new Gy(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,i=e.t,o=e.conversion,s=e.plugins.get("ImageUtils");o.for("dataDowncast").elementToElement({model:"imageInline",view:(h,{writer:g})=>g.createEmptyElement("img")}),o.for("editingDowncast").elementToStructure({model:"imageInline",view:(h,{writer:g})=>s.toImageWidget(function(_){return _.createContainerElement("span",{class:"image-inline"},_.createEmptyElement("img"))}(g),g,i("image widget"))}),o.for("downcast").add(Kp(s,"imageInline","src")).add(Kp(s,"imageInline","alt")).add($y(s,"imageInline")),o.for("upcast").elementToElement({view:jy(e,"imageInline"),model:(h,{writer:g})=>g.createElement("imageInline",h.hasAttribute("src")?{src:h.getAttribute("src")}:null)})}_setupClipboardIntegration(){const e=this.editor,i=e.model,o=e.editing.view,s=e.plugins.get("ImageUtils");this.listenTo(e.plugins.get("ClipboardPipeline"),"inputTransformation",(h,g)=>{const _=Array.from(g.content.getChildren());let $;if(!_.every(s.isBlockImageView))return;$=g.targetRanges?e.editing.mapper.toModelRange(g.targetRanges[0]):i.document.selection.getFirstRange();const et=i.createSelection($);if(Nw(i.schema,et)==="imageInline"){const tt=new Sl(o.document),ot=_.map(dt=>dt.childCount===1?(Array.from(dt.getAttributes()).forEach(At=>tt.setAttribute(...At,s.findViewImgElement(dt))),dt.getChild(0)):dt);g.content=tt.createDocumentFragment(ot)}})}}class PI extends In{static get requires(){return[MI,Pu,Wy]}static get pluginName(){return"ImageInline"}}class NI extends Jn{refresh(){const e=this.editor,i=e.plugins.get("ImageCaptionUtils");if(!e.plugins.has(qy))return this.isEnabled=!1,void(this.value=!1);const o=e.model.document.selection,s=o.getSelectedElement();if(!s){const h=i.getCaptionFromModelSelection(o);return this.isEnabled=!!h,void(this.value=!!h)}this.isEnabled=this.editor.plugins.get("ImageUtils").isImage(s),this.isEnabled?this.value=!!i.getCaptionFromImageModelElement(s):this.value=!1}execute(e={}){const{focusCaptionOnShow:i}=e;this.editor.model.change(o=>{this.value?this._hideImageCaption(o):this._showImageCaption(o,i)})}_showImageCaption(e,i){const o=this.editor.model.document.selection,s=this.editor.plugins.get("ImageCaptionEditing");let h=o.getSelectedElement();const g=s._getSavedCaption(h);this.editor.plugins.get("ImageUtils").isInlineImage(h)&&(this.editor.execute("imageTypeBlock"),h=o.getSelectedElement());const _=g||e.createElement("caption");e.append(_,h),i&&e.setSelection(_,"in")}_hideImageCaption(e){const i=this.editor,o=i.model.document.selection,s=i.plugins.get("ImageCaptionEditing"),h=i.plugins.get("ImageCaptionUtils");let g,_=o.getSelectedElement();_?g=h.getCaptionFromImageModelElement(_):(g=h.getCaptionFromModelSelection(o),_=g.parent),s._saveCaption(_,g),e.setSelection(_,"on"),e.remove(g)}}class Yy extends In{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[Ar]}getCaptionFromImageModelElement(e){for(const i of e.getChildren())if(i&&i.is("element","caption"))return i;return null}getCaptionFromModelSelection(e){const i=this.editor.plugins.get("ImageUtils"),o=e.getFirstPosition().findAncestor("caption");return o&&i.isBlockImage(o.parent)?o:null}matchImageCaptionViewElement(e){const i=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&i.isBlockImageView(e.parent)?{name:!0}:null}}class RI extends In{static get requires(){return[Ar,Yy]}static get pluginName(){return"ImageCaptionEditing"}constructor(e){super(e),this._savedCaptionsMap=new WeakMap}init(){const e=this.editor,i=e.model.schema;i.isRegistered("caption")?i.extend("caption",{allowIn:"imageBlock"}):i.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new NI(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,i=e.editing.view,o=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils"),h=e.t;e.conversion.for("upcast").elementToElement({view:g=>s.matchImageCaptionViewElement(g),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(g,{writer:_})=>o.isBlockImage(g.parent)?_.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(g,{writer:_})=>{if(!o.isBlockImage(g.parent))return null;const $=_.createEditableElement("figcaption");_.setCustomProperty("imageCaption",!0,$),g0({view:i,element:$,text:h("Enter image caption"),keepOnFocus:!0});const et=g.parent.getAttribute("alt");return ZA($,_,{label:et?h("Caption for image: %0",[et]):h("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,i=e.plugins.get("ImageUtils"),o=e.plugins.get("ImageCaptionUtils"),s=e.commands.get("imageTypeInline"),h=e.commands.get("imageTypeBlock"),g=_=>{if(!_.return)return;const{oldElement:$,newElement:et}=_.return;if(!$)return;if(i.isBlockImage($)){const ot=o.getCaptionFromImageModelElement($);if(ot)return void this._saveCaption(et,ot)}const tt=this._getSavedCaption($);tt&&this._saveCaption(et,tt)};s&&this.listenTo(s,"execute",g,{priority:"low"}),h&&this.listenTo(h,"execute",g,{priority:"low"})}_getSavedCaption(e){const i=this._savedCaptionsMap.get(e);return i?co.fromJSON(i):null}_saveCaption(e,i){this._savedCaptionsMap.set(e,i.toJSON())}_registerCaptionReconversion(){const e=this.editor,i=e.model,o=e.plugins.get("ImageUtils"),s=e.plugins.get("ImageCaptionUtils");i.document.on("change:data",()=>{const h=i.document.differ.getChanges();for(const g of h){if(g.attributeKey!=="alt")continue;const _=g.range.start.nodeAfter;if(o.isBlockImage(_)){const $=s.getCaptionFromImageModelElement(_);if(!$)return;e.editing.reconvertItem($)}}})}}class OI extends In{static get requires(){return[Yy]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,i=e.editing.view,o=e.plugins.get("ImageCaptionUtils"),s=e.t;e.ui.componentFactory.add("toggleImageCaption",h=>{const g=e.commands.get("toggleImageCaption"),_=new vo(h);return _.set({icon:Bo.caption,tooltip:!0,isToggleable:!0}),_.bind("isOn","isEnabled").to(g,"value","isEnabled"),_.bind("label").to(g,"value",$=>s($?"Toggle caption off":"Toggle caption on")),this.listenTo(_,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const $=o.getCaptionFromModelSelection(e.model.document.selection);if($){const et=e.editing.mapper.toViewElement($);i.scrollToTheSelection(),i.change(tt=>{tt.addClass("image__caption_highlighted",et)})}e.editing.view.focus()}),_})}}var Qy=_e(2640),LI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(Qy.Z,LI),Qy.Z.locals;class BI extends Jn{constructor(e,i){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(i.map(o=>{if(o.isDefault)for(const s of o.modelElements)this._defaultStyles[s]=o.name;return[o.name,o]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(e={}){const i=this.editor,o=i.model,s=i.plugins.get("ImageUtils");o.change(h=>{const g=e.value;let _=s.getClosestSelectedImageElement(o.document.selection);g&&this.shouldConvertImageType(g,_)&&(this.editor.execute(s.isBlockImage(_)?"imageTypeInline":"imageTypeBlock"),_=s.getClosestSelectedImageElement(o.document.selection)),!g||this._styles.get(g).isDefault?h.removeAttribute("imageStyle",_):h.setAttribute("imageStyle",g,_)})}shouldConvertImageType(e,i){return!this._styles.get(e).modelElements.includes(i.name)}}const{objectFullWidth:FI,objectInline:Zy,objectLeft:Xy,objectRight:Ow,objectCenter:Lw,objectBlockLeft:Jy,objectBlockRight:eC}=Bo,Yp={get inline(){return{name:"inline",title:"In line",icon:Zy,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:Xy,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:Jy,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:Lw,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:Ow,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:eC,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:Lw,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:Ow,modelElements:["imageBlock"],className:"image-style-side"}}},tC={full:FI,left:Jy,right:eC,center:Lw,inlineLeft:Xy,inlineRight:Ow,inline:Zy},nC=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function iC(a){yt("image-style-configuration-definition-invalid",a)}const Bw={normalizeStyles:function(a){return(a.configuredStyles.options||[]).map(e=>function(i){return i=typeof i=="string"?Yp[i]?{...Yp[i]}:{name:i}:function(o,s){const h={...s};for(const g in o)Object.prototype.hasOwnProperty.call(s,g)||(h[g]=o[g]);return h}(Yp[i.name],i),typeof i.icon=="string"&&(i.icon=tC[i.icon]||i.icon),i}(e)).filter(e=>function(i,{isBlockPluginLoaded:o,isInlinePluginLoaded:s}){const{modelElements:h,name:g}=i;if(!(h&&h.length&&g))return iC({style:i}),!1;{const _=[o?"imageBlock":null,s?"imageInline":null];if(!h.some($=>_.includes($)))return yt("image-style-missing-dependency",{style:i,missingPlugins:h.map($=>$==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,a))},getDefaultStylesConfiguration:function(a,e){return a&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:a?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(a){return a.has("ImageBlockEditing")&&a.has("ImageInlineEditing")?[...nC]:[]},warnInvalidStyle:iC,DEFAULT_OPTIONS:Yp,DEFAULT_ICONS:tC,DEFAULT_DROPDOWN_DEFINITIONS:nC};function oC(a,e){for(const i of e)if(i.name===a)return i}class rC extends In{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[Ar]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:i}=Bw,o=this.editor,s=o.plugins.has("ImageBlockEditing"),h=o.plugins.has("ImageInlineEditing");o.config.define("image.styles",i(s,h)),this.normalizedStyles=e({configuredStyles:o.config.get("image.styles"),isBlockPluginLoaded:s,isInlinePluginLoaded:h}),this._setupConversion(s,h),this._setupPostFixer(),o.commands.add("imageStyle",new BI(o,this.normalizedStyles))}_setupConversion(e,i){const o=this.editor,s=o.model.schema,h=(g=this.normalizedStyles,($,et,tt)=>{if(!tt.consumable.consume(et.item,$.name))return;const ot=oC(et.attributeNewValue,g),dt=oC(et.attributeOldValue,g),At=tt.mapper.toViewElement(et.item),St=tt.writer;dt&&St.removeClass(dt.className,At),ot&&St.addClass(ot.className,At)});var g;const _=function($){const et={imageInline:$.filter(tt=>!tt.isDefault&&tt.modelElements.includes("imageInline")),imageBlock:$.filter(tt=>!tt.isDefault&&tt.modelElements.includes("imageBlock"))};return(tt,ot,dt)=>{if(!ot.modelRange)return;const At=ot.viewItem,St=jo(ot.modelRange.getItems());if(St&&dt.schema.checkAttribute(St,"imageStyle"))for(const Dt of et[St.name])dt.consumable.consume(At,{classes:Dt.className})&&dt.writer.setAttribute("imageStyle",Dt.name,St)}}(this.normalizedStyles);o.editing.downcastDispatcher.on("attribute:imageStyle",h),o.data.downcastDispatcher.on("attribute:imageStyle",h),e&&(s.extend("imageBlock",{allowAttributes:"imageStyle"}),o.data.upcastDispatcher.on("element:figure",_,{priority:"low"})),i&&(s.extend("imageInline",{allowAttributes:"imageStyle"}),o.data.upcastDispatcher.on("element:img",_,{priority:"low"}))}_setupPostFixer(){const e=this.editor,i=e.model.document,o=e.plugins.get(Ar),s=new Map(this.normalizedStyles.map(h=>[h.name,h]));i.registerPostFixer(h=>{let g=!1;for(const _ of i.differ.getChanges())if(_.type=="insert"||_.type=="attribute"&&_.attributeKey=="imageStyle"){let $=_.type=="insert"?_.position.nodeAfter:_.range.start.nodeAfter;if($&&$.is("element","paragraph")&&$.childCount>0&&($=$.getChild(0)),!o.isImage($))continue;const et=$.getAttribute("imageStyle");if(!et)continue;const tt=s.get(et);tt&&tt.modelElements.includes($.name)||(h.removeAttribute("imageStyle",$),g=!0)}return g})}}var sC=_e(5083),jI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(sC.Z,jI),sC.Z.locals;class zI extends In{static get requires(){return[rC]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,i=this.editor.config.get("image.toolbar")||[],o=aC(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const h of o)this._createButton(h);const s=aC([...i.filter(Ht),...Bw.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const h of s)this._createDropdown(h,o)}_createDropdown(e,i){const o=this.editor.ui.componentFactory;o.add(e.name,s=>{let h;const{defaultItem:g,items:_,title:$}=e,et=_.filter(At=>i.find(({name:St})=>lC(St)===At)).map(At=>{const St=o.create(At);return At===g&&(h=St),St});_.length!==et.length&&Bw.warnInvalidStyle({dropdown:e});const tt=cs(s,Lm),ot=tt.buttonView,dt=ot.arrowView;return bw(tt,et,{enableActiveItemFocusOnDropdownOpen:!0}),ot.set({label:cC($,h.label),class:null,tooltip:!0}),dt.unbind("label"),dt.set({label:$}),ot.bind("icon").toMany(et,"isOn",(...At)=>{const St=At.findIndex(Ss);return St<0?h.icon:et[St].icon}),ot.bind("label").toMany(et,"isOn",(...At)=>{const St=At.findIndex(Ss);return cC($,St<0?h.label:et[St].label)}),ot.bind("isOn").toMany(et,"isOn",(...At)=>At.some(Ss)),ot.bind("class").toMany(et,"isOn",(...At)=>At.some(Ss)?"ck-splitbutton_flatten":null),ot.on("execute",()=>{et.some(({isOn:At})=>At)?tt.isOpen=!tt.isOpen:h.fire("execute")}),tt.bind("isEnabled").toMany(et,"isEnabled",(...At)=>At.some(Ss)),this.listenTo(tt,"execute",()=>{this.editor.editing.view.focus()}),tt})}_createButton(e){const i=e.name;this.editor.ui.componentFactory.add(lC(i),o=>{const s=this.editor.commands.get("imageStyle"),h=new vo(o);return h.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),h.bind("isEnabled").to(s,"isEnabled"),h.bind("isOn").to(s,"value",g=>g===i),h.on("execute",this._executeCommand.bind(this,i)),h})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function aC(a,e){for(const i of a)e[i.title]&&(i.title=e[i.title]);return a}function lC(a){return`imageStyle:${a}`}function cC(a,e){return(a?a+": ":"")+e}function dC(a){const e=a.map(i=>i.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function VI(a){return new Promise((e,i)=>{const o=a.getAttribute("src");fetch(o).then(s=>s.blob()).then(s=>{const h=uC(s,o),g=h.replace("image/",""),_=new File([s],`image.${g}`,{type:h});e(_)}).catch(s=>s&&s.name==="TypeError"?function(h){return function(g){return new Promise((_,$)=>{const et=_i.document.createElement("img");et.addEventListener("load",()=>{const tt=_i.document.createElement("canvas");tt.width=et.width,tt.height=et.height,tt.getContext("2d").drawImage(et,0,0),tt.toBlob(ot=>ot?_(ot):$())}),et.addEventListener("error",()=>$()),et.src=g})}(h).then(g=>{const _=uC(g,h),$=_.replace("image/","");return new File([g],`image.${$}`,{type:_})})}(o).then(e).catch(i):i(s))})}function uC(a,e){return a.type?a.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class UI extends In{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,i=e.t,o=s=>{const h=new HD(s),g=e.commands.get("uploadImage"),_=e.config.get("image.upload.types"),$=dC(_);return h.set({acceptedType:_.map(et=>`image/${et}`).join(","),allowMultipleFiles:!0}),h.buttonView.set({label:i("Insert image"),icon:Bo.image,tooltip:!0}),h.buttonView.bind("isEnabled").to(g),h.on("done",(et,tt)=>{const ot=Array.from(tt).filter(dt=>$.test(dt.type));ot.length&&(e.execute("uploadImage",{file:ot}),e.editing.view.focus())}),h};e.ui.componentFactory.add("uploadImage",o),e.ui.componentFactory.add("imageUpload",o)}}var hC=_e(3689),HI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(hC.Z,HI),hC.Z.locals;var pC=_e(4036),WI={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(pC.Z,WI),pC.Z.locals;var fC=_e(3773),$I={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(fC.Z,$I),fC.Z.locals;class GI extends In{static get pluginName(){return"ImageUploadProgress"}constructor(e){super(e),this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",(...i)=>this.uploadStatusChange(...i)),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",(...i)=>this.uploadStatusChange(...i))}uploadStatusChange(e,i,o){const s=this.editor,h=i.item,g=h.getAttribute("uploadId");if(!o.consumable.consume(i.item,e.name))return;const _=s.plugins.get("ImageUtils"),$=s.plugins.get(vr),et=g?i.attributeNewValue:null,tt=this.placeholder,ot=s.editing.mapper.toViewElement(h),dt=o.writer;if(et=="reading")return gC(ot,dt),void mC(_,tt,ot,dt);if(et=="uploading"){const At=$.loaders.get(g);return gC(ot,dt),void(At?(kC(ot,dt),function(St,Dt,Ft,Yt){const cn=function(wn){const Pn=wn.createUIElement("div",{class:"ck-progress-bar"});return wn.setCustomProperty("progressBar",!0,Pn),Pn}(Dt);Dt.insert(Dt.createPositionAt(St,"end"),cn),Ft.on("change:uploadedPercent",(wn,Pn,Un)=>{Yt.change(oo=>{oo.setStyle("width",Un+"%",cn)})})}(ot,dt,At,s.editing.view),function(St,Dt,Ft,Yt){if(Yt.data){const cn=St.findViewImgElement(Dt);Ft.setAttribute("src",Yt.data,cn)}}(_,ot,dt,At)):mC(_,tt,ot,dt))}et=="complete"&&$.loaders.get(g)&&function(At,St,Dt){const Ft=St.createUIElement("div",{class:"ck-image-upload-complete-icon"});St.insert(St.createPositionAt(At,"end"),Ft),setTimeout(()=>{Dt.change(Yt=>Yt.remove(Yt.createRangeOn(Ft)))},3e3)}(ot,dt,s.editing.view),function(At,St){wC(At,St,"progressBar")}(ot,dt),kC(ot,dt),function(At,St){St.removeClass("ck-appear",At)}(ot,dt)}}function gC(a,e){a.hasClass("ck-appear")||e.addClass("ck-appear",a)}function mC(a,e,i,o){i.hasClass("ck-image-upload-placeholder")||o.addClass("ck-image-upload-placeholder",i);const s=a.findViewImgElement(i);s.getAttribute("src")!==e&&o.setAttribute("src",e,s),bC(i,"placeholder")||o.insert(o.createPositionAfter(s),function(h){const g=h.createUIElement("div",{class:"ck-upload-placeholder-loader"});return h.setCustomProperty("placeholder",!0,g),g}(o))}function kC(a,e){a.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",a),wC(a,e,"placeholder")}function bC(a,e){for(const i of a.getChildren())if(i.getCustomProperty(e))return i}function wC(a,e,i){const o=bC(a,i);o&&e.remove(e.createRangeOn(o))}class qI extends Jn{refresh(){const e=this.editor,i=e.plugins.get("ImageUtils"),o=e.model.document.selection.getSelectedElement();this.isEnabled=i.isImageAllowed()||i.isImage(o)}execute(e){const i=Uo(e.file),o=this.editor.model.document.selection,s=this.editor.plugins.get("ImageUtils"),h=Object.fromEntries(o.getAttributes());i.forEach((g,_)=>{const $=o.getSelectedElement();if(_&&$&&s.isImage($)){const et=this.editor.model.createPositionAfter($);this._uploadImage(g,h,et)}else this._uploadImage(g,h)})}_uploadImage(e,i,o){const s=this.editor,h=s.plugins.get(vr).createLoader(e),g=s.plugins.get("ImageUtils");h&&g.insertImage({...i,uploadId:h.id},o)}}class KI extends In{static get requires(){return[vr,yw,Or,Ar]}static get pluginName(){return"ImageUploadEditing"}constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}init(){const e=this.editor,i=e.model.document,o=e.conversion,s=e.plugins.get(vr),h=e.plugins.get("ImageUtils"),g=dC(e.config.get("image.upload.types")),_=new qI(e);e.commands.add("uploadImage",_),e.commands.add("imageUpload",_),o.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",($,et)=>{if(tt=et.dataTransfer,Array.from(tt.types).includes("text/html")&&tt.getData("text/html")!=="")return;var tt;const ot=Array.from(et.dataTransfer.files).filter(dt=>!!dt&&g.test(dt.type));ot.length&&($.stop(),e.model.change(dt=>{et.targetRanges&&dt.setSelection(et.targetRanges.map(At=>e.editing.mapper.toModelRange(At))),e.model.enqueueChange(()=>{e.execute("uploadImage",{file:ot})})}))}),this.listenTo(e.plugins.get("ClipboardPipeline"),"inputTransformation",($,et)=>{const tt=Array.from(e.editing.view.createRangeIn(et.content)).filter(dt=>function(At,St){return!(!At.isInlineImageView(St)||!St.getAttribute("src"))&&(St.getAttribute("src").match(/^data:image\/\w+;base64,/g)||St.getAttribute("src").match(/^blob:/g))}(h,dt.item)&&!dt.item.getAttribute("uploadProcessed")).map(dt=>({promise:VI(dt.item),imageElement:dt.item}));if(!tt.length)return;const ot=new Sl(e.editing.view.document);for(const dt of tt){ot.setAttribute("uploadProcessed",!0,dt.imageElement);const At=s.createLoader(dt.promise);At&&(ot.setAttribute("src","",dt.imageElement),ot.setAttribute("uploadId",At.id,dt.imageElement))}}),e.editing.view.document.on("dragover",($,et)=>{et.preventDefault()}),i.on("change",()=>{const $=i.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),et=new Set;for(const tt of $)if(tt.type=="insert"&&tt.name!="$text"){const ot=tt.position.nodeAfter,dt=tt.position.root.rootName=="$graveyard";for(const At of YI(e,ot)){const St=At.getAttribute("uploadId");if(!St)continue;const Dt=s.loaders.get(St);Dt&&(dt?et.has(St)||Dt.abort():(et.add(St),this._uploadImageElements.set(St,At),Dt.status=="idle"&&this._readAndUpload(Dt)))}}}),this.on("uploadComplete",($,{imageElement:et,data:tt})=>{const ot=tt.urls?tt.urls:tt;this.editor.model.change(dt=>{dt.setAttribute("src",ot.default,et),this._parseAndSetSrcsetAttributeOnImage(ot,et,dt)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const i=this.editor,o=i.model,s=i.locale.t,h=i.plugins.get(vr),g=i.plugins.get(yw),_=i.plugins.get("ImageUtils"),$=this._uploadImageElements;return o.enqueueChange({isUndoable:!1},tt=>{tt.setAttribute("uploadStatus","reading",$.get(e.id))}),e.read().then(()=>{const tt=e.upload(),ot=$.get(e.id);if(ft.isSafari){const dt=i.editing.mapper.toViewElement(ot),At=_.findViewImgElement(dt);i.editing.view.once("render",()=>{if(!At.parent)return;const St=i.editing.view.domConverter.mapViewToDom(At.parent);if(!St)return;const Dt=St.style.display;St.style.display="none",St._ckHack=St.offsetHeight,St.style.display=Dt})}return o.enqueueChange({isUndoable:!1},dt=>{dt.setAttribute("uploadStatus","uploading",ot)}),tt}).then(tt=>{o.enqueueChange({isUndoable:!1},ot=>{const dt=$.get(e.id);ot.setAttribute("uploadStatus","complete",dt),this.fire("uploadComplete",{data:tt,imageElement:dt})}),et()}).catch(tt=>{if(e.status!=="error"&&e.status!=="aborted")throw tt;e.status=="error"&&tt&&g.showWarning(tt,{title:s("Upload failed"),namespace:"upload"}),o.enqueueChange({isUndoable:!1},ot=>{ot.remove($.get(e.id))}),et()});function et(){o.enqueueChange({isUndoable:!1},tt=>{const ot=$.get(e.id);tt.removeAttribute("uploadId",ot),tt.removeAttribute("uploadStatus",ot),$.delete(e.id)}),h.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,i,o){let s=0;const h=Object.keys(e).filter(g=>{const _=parseInt(g,10);if(!isNaN(_))return s=Math.max(s,_),!0}).map(g=>`${e[g]} ${g}w`).join(", ");h!=""&&o.setAttribute("srcset",{data:h,width:s},i)}}function YI(a,e){const i=a.plugins.get("ImageUtils");return Array.from(a.model.createRangeOn(e)).filter(o=>i.isImage(o.item)).map(o=>o.item)}class QI extends In{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new h0(e)),e.commands.add("outdent",new h0(e))}}const _C='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',vC='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class ZI extends In{static get pluginName(){return"IndentUI"}init(){const e=this.editor,i=e.locale,o=e.t,s=i.uiLanguageDirection=="ltr"?_C:vC,h=i.uiLanguageDirection=="ltr"?vC:_C;this._defineButton("indent",o("Increase indent"),s),this._defineButton("outdent",o("Decrease indent"),h)}_defineButton(e,i,o){const s=this.editor;s.ui.componentFactory.add(e,h=>{const g=s.commands.get(e),_=new vo(h);return _.set({label:i,icon:o,tooltip:!0}),_.bind("isOn","isEnabled").to(g,"value","isEnabled"),this.listenTo(_,"execute",()=>{s.execute(e),s.editing.view.focus()}),_})}}class XI{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(i=>this._definitions.add(i)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(i,o,s)=>{if(!s.consumable.test(o.item,"attribute:linkHref")||!o.item.is("selection")&&!s.schema.isInline(o.item))return;const h=s.writer,g=h.document.selection;for(const _ of this._definitions){const $=h.createAttributeElement("a",_.attributes,{priority:5});_.classes&&h.addClass(_.classes,$);for(const et in _.styles)h.setStyle(et,_.styles[et],$);h.setCustomProperty("link",!0,$),_.callback(o.attributeNewValue)?o.item.is("selection")?h.wrap(g.getFirstRange(),$):h.wrap(s.mapper.toViewRange(o.range),$):h.unwrap(s.mapper.toViewRange(o.range),$)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(i,o,{writer:s,mapper:h})=>{const g=h.toViewElement(o.item),_=Array.from(g.getChildren()).find($=>$.name==="a");for(const $ of this._definitions){const et=Tr($.attributes);if($.callback(o.attributeNewValue)){for(const[tt,ot]of et)tt==="class"?s.addClass(ot,_):s.setAttribute(tt,ot,_);$.classes&&s.addClass($.classes,_);for(const tt in $.styles)s.setStyle(tt,$.styles[tt],_)}else{for(const[tt,ot]of et)tt==="class"?s.removeClass(ot,_):s.removeAttribute(tt,_);$.classes&&s.removeClass($.classes,_);for(const tt in $.styles)s.removeStyle(tt,_)}}})}}}const JI=function(a,e,i){var o=a.length;return i=i===void 0?o:i,!e&&i>=o?a:A0(a,e,i)};var eM=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const AC=function(a){return eM.test(a)},tM=function(a){return a.split("")};var yC="\\ud800-\\udfff",nM="["+yC+"]",Fw="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",jw="\\ud83c[\\udffb-\\udfff]",CC="[^"+yC+"]",EC="(?:\\ud83c[\\udde6-\\uddff]){2}",xC="[\\ud800-\\udbff][\\udc00-\\udfff]",SC="(?:"+Fw+"|"+jw+")?",TC="[\\ufe0e\\ufe0f]?",iM=TC+SC+("(?:\\u200d(?:"+[CC,EC,xC].join("|")+")"+TC+SC+")*"),oM="(?:"+[CC+Fw+"?",Fw,EC,xC,nM].join("|")+")",rM=RegExp(jw+"(?="+jw+")|"+oM+iM,"g");const sM=function(a){return a.match(rM)||[]},aM=function(a){return AC(a)?sM(a):tM(a)},lM=function(a){return function(e){e=Vm(e);var i=AC(e)?aM(e):void 0,o=i?i[0]:e.charAt(0),s=i?JI(i,1).join(""):e.slice(1);return o[a]()+s}}("toUpperCase"),cM=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,dM=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,uM=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,hM=/^((\w+:(\/{2,})?)|(\W))/i,zw="Ctrl+K";function DC(a,{writer:e}){const i=e.createAttributeElement("a",{href:a},{priority:5});return e.setCustomProperty("link",!0,i),i}function IC(a){return function(e){return e.replace(cM,"").match(dM)}(a=String(a))?a:"#"}function Vw(a,e){return!!a&&e.checkAttribute(a.name,"linkHref")}function Uw(a,e){const i=(o=a,uM.test(o)?"mailto:":e);var o;const s=!!i&&!MC(a);return a&&s?i+a:a}function MC(a){return hM.test(a)}function PC(a){window.open(a,"_blank","noopener")}class pM extends Jn{constructor(e){super(e),this.manualDecorators=new mr,this.automaticDecorators=new XI}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,i=e.document.selection,o=i.getSelectedElement()||jo(i.getSelectedBlocks());Vw(o,e.schema)?(this.value=o.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(o,"linkHref")):(this.value=i.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(i,"linkHref"));for(const s of this.manualDecorators)s.value=this._getDecoratorStateFromModel(s.id)}execute(e,i={}){const o=this.editor.model,s=o.document.selection,h=[],g=[];for(const _ in i)i[_]?h.push(_):g.push(_);o.change(_=>{if(s.isCollapsed){const $=s.getFirstPosition();if(s.hasAttribute("linkHref")){const et=Il($,"linkHref",s.getAttribute("linkHref"),o);_.setAttribute("linkHref",e,et),h.forEach(tt=>{_.setAttribute(tt,!0,et)}),g.forEach(tt=>{_.removeAttribute(tt,et)}),_.setSelection(_.createPositionAfter(et.end.nodeBefore))}else if(e!==""){const et=Tr(s.getAttributes());et.set("linkHref",e),h.forEach(ot=>{et.set(ot,!0)});const{end:tt}=o.insertContent(_.createText(e,et),$);_.setSelection(tt)}["linkHref",...h,...g].forEach(et=>{_.removeSelectionAttribute(et)})}else{const $=o.schema.getValidRanges(s.getRanges(),"linkHref"),et=[];for(const ot of s.getSelectedBlocks())o.schema.checkAttribute(ot,"linkHref")&&et.push(_.createRangeOn(ot));const tt=et.slice();for(const ot of $)this._isRangeToUpdate(ot,et)&&tt.push(ot);for(const ot of tt)_.setAttribute("linkHref",e,ot),h.forEach(dt=>{_.setAttribute(dt,!0,ot)}),g.forEach(dt=>{_.removeAttribute(dt,ot)})}})}_getDecoratorStateFromModel(e){const i=this.editor.model,o=i.document.selection,s=o.getSelectedElement();return Vw(s,i.schema)?s.getAttribute(e):o.getAttribute(e)}_isRangeToUpdate(e,i){for(const o of i)if(o.containsRange(e))return!1;return!0}}class fM extends Jn{refresh(){const e=this.editor.model,i=e.document.selection,o=i.getSelectedElement();Vw(o,e.schema)?this.isEnabled=e.schema.checkAttribute(o,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(i,"linkHref")}execute(){const e=this.editor,i=this.editor.model,o=i.document.selection,s=e.commands.get("link");i.change(h=>{const g=o.isCollapsed?[Il(o.getFirstPosition(),"linkHref",o.getAttribute("linkHref"),i)]:i.schema.getValidRanges(o.getRanges(),"linkHref");for(const _ of g)if(h.removeAttribute("linkHref",_),s)for(const $ of s.manualDecorators)h.removeAttribute($.id,_)})}}class NC{constructor({id:e,label:i,attributes:o,classes:s,styles:h,defaultValue:g}){this.id=e,this.set("value"),this.defaultValue=g,this.label=i,this.attributes=o,this.classes=s,this.styles=h}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}ut(NC,Lt);var RC=_e(9773),gM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(RC.Z,gM),RC.Z.locals;const OC="automatic",mM=/^(https?:)?\/\//;class kM extends In{static get pluginName(){return"LinkEditing"}static get requires(){return[zA,NA,Or]}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:DC}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(o,s)=>DC(IC(o),s)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:o=>o.getAttribute("href")}}),e.commands.add("link",new pM(e)),e.commands.add("unlink",new fM(e));const i=function(o,s){const h={"Open in a new tab":o("Open in a new tab"),Downloadable:o("Downloadable")};return s.forEach(g=>(g.label&&h[g.label]&&(g.label=h[g.label]),g)),s}(e.t,function(o){const s=[];if(o)for(const[h,g]of Object.entries(o)){const _=Object.assign({},g,{id:`link${lM(h)}`});s.push(_)}return s}(e.config.get("link.decorators")));this._enableAutomaticDecorators(i.filter(o=>o.mode===OC)),this._enableManualDecorators(i.filter(o=>o.mode==="manual")),e.plugins.get(zA).registerAttribute("linkHref"),function(o,s,h,g){const _=o.editing.view,$=new Set;_.document.registerPostFixer(et=>{const tt=o.model.document.selection;let ot=!1;if(tt.hasAttribute(s)){const dt=Il(tt.getFirstPosition(),s,tt.getAttribute(s),o.model),At=o.editing.mapper.toViewRange(dt);for(const St of At.getItems())St.is("element",h)&&!St.hasClass(g)&&(et.addClass(g,St),$.add(St),ot=!0)}return ot}),o.conversion.for("editingDowncast").add(et=>{function tt(){_.change(ot=>{for(const dt of $.values())ot.removeClass(g,dt),$.delete(dt)})}et.on("insert",tt,{priority:"highest"}),et.on("remove",tt,{priority:"highest"}),et.on("attribute",tt,{priority:"highest"}),et.on("selection",tt,{priority:"highest"})})}(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const i=this.editor,o=i.commands.get("link").automaticDecorators;i.config.get("link.addTargetToExternalLinks")&&o.add({id:"linkIsExternal",mode:OC,callback:s=>mM.test(s),attributes:{target:"_blank",rel:"noopener noreferrer"}}),o.add(e),o.length&&i.conversion.for("downcast").add(o.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const i=this.editor,o=i.commands.get("link").manualDecorators;e.forEach(s=>{i.model.schema.extend("$text",{allowAttributes:s.id}),s=new NC(s),o.add(s),i.conversion.for("downcast").attributeToElement({model:s.id,view:(h,{writer:g,schema:_},{item:$})=>{if(($.is("selection")||_.isInline($))&&h){const et=g.createAttributeElement("a",s.attributes,{priority:5});s.classes&&g.addClass(s.classes,et);for(const tt in s.styles)g.setStyle(tt,s.styles[tt],et);return g.setCustomProperty("link",!0,et),et}}}),i.conversion.for("upcast").elementToAttribute({view:{name:"a",...s._createPattern()},model:{key:s.id}})})}_enableLinkOpen(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"click",(o,s)=>{if(!(ft.isMac?s.domEvent.metaKey:s.domEvent.ctrlKey))return;let h=s.domTarget;if(h.tagName.toLowerCase()!="a"&&(h=h.closest("a")),!h)return;const g=h.getAttribute("href");g&&(o.stop(),s.preventDefault(),PC(g))},{context:"$capture"}),this.listenTo(i,"keydown",(o,s)=>{const h=e.commands.get("link").value;h&&s.keyCode===io.enter&&s.altKey&&(o.stop(),PC(h))})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,i=e.document.selection;this.listenTo(e,"insertContent",()=>{const o=i.anchor.nodeBefore,s=i.anchor.nodeAfter;i.hasAttribute("linkHref")&&o&&o.hasAttribute("linkHref")&&(s&&s.hasAttribute("linkHref")||e.change(h=>{Hw(h,Ww(e.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const e=this.editor,i=e.model;e.editing.view.addObserver(gw);let o=!1;this.listenTo(e.editing.view.document,"mousedown",()=>{o=!0}),this.listenTo(e.editing.view.document,"selectionChange",()=>{if(!o)return;o=!1;const s=i.document.selection;if(!s.isCollapsed||!s.hasAttribute("linkHref"))return;const h=s.getFirstPosition(),g=Il(h,"linkHref",s.getAttribute("linkHref"),i);(h.isTouching(g.start)||h.isTouching(g.end))&&i.change(_=>{Hw(_,Ww(i.schema))})})}_enableTypingOverLink(){const e=this.editor,i=e.editing.view;let o,s;this.listenTo(i.document,"delete",()=>{s=!0},{priority:"high"}),this.listenTo(e.model,"deleteContent",()=>{const h=e.model.document.selection;h.isCollapsed||(s?s=!1:LC(e)&&function(g){const _=g.document.selection,$=_.getFirstPosition(),et=_.getLastPosition(),tt=$.nodeAfter;if(!tt||!tt.is("$text")||!tt.hasAttribute("linkHref"))return!1;const ot=et.textNode||et.nodeBefore;return tt===ot?!0:Il($,"linkHref",tt.getAttribute("linkHref"),g).containsRange(g.createRange($,et),!0)}(e.model)&&(o=h.getAttributes()))},{priority:"high"}),this.listenTo(e.model,"insertContent",(h,[g])=>{s=!1,LC(e)&&o&&(e.model.change(_=>{for(const[$,et]of o)_.setAttribute($,et,g)}),o=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor,i=e.model,o=i.document.selection,s=e.editing.view;let h=!1,g=!1;this.listenTo(s.document,"delete",(_,$)=>{g=$.direction==="backward"},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{h=!1;const _=o.getFirstPosition(),$=o.getAttribute("linkHref");if(!$)return;const et=Il(_,"linkHref",$,i);h=et.containsPosition(_)||et.end.isEqual(_)},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{g&&(g=!1,h||e.model.enqueueChange(_=>{Hw(_,Ww(i.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const e=this.editor,i=e.model,o=this.editor.config.get("link.defaultProtocol");o&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(s,h)=>{i.change(g=>{const _=g.createRangeIn(h.content);for(const $ of _.getItems())if($.hasAttribute("linkHref")){const et=Uw($.getAttribute("linkHref"),o);g.setAttribute("linkHref",et,$)}})})}}function Hw(a,e){a.removeSelectionAttribute("linkHref");for(const i of e)a.removeSelectionAttribute(i)}function LC(a){return a.model.change(e=>e.batch).isTyping}function Ww(a){return a.getDefinition("$text").allowAttributes.filter(e=>e.startsWith("link"))}var BC=_e(7754),bM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(BC.Z,bM),BC.Z.locals;class wM extends eo{constructor(e,i){super(e);const o=e.t;this.focusTracker=new dr,this.keystrokes=new Sr,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(o("Save"),Bo.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(o("Cancel"),Bo.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(i),this.children=this._createFormChildren(i.manualDecorators),this._focusables=new ss,this._focusCycler=new xa({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const s=["ck","ck-link-form","ck-responsive-form"];i.manualDecorators.length&&s.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:s,tabindex:"-1"},children:this.children}),st(this)}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,i)=>(e[i.name]=i.isOn,e),{})}render(){super.render(),it({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,i=new vw(this.locale,Aw);return i.label=e("Link URL"),i}_createButton(e,i,o,s){const h=new vo(this.locale);return h.set({label:e,icon:i,tooltip:!0}),h.extendTemplate({attributes:{class:o}}),s&&h.delegate("execute").to(this,s),h}_createManualDecoratorSwitches(e){const i=this.createCollection();for(const o of e.manualDecorators){const s=new wp(this.locale);s.set({name:o.id,label:o.label,withText:!0}),s.bind("isOn").toMany([o,e],"value",(h,g)=>g===void 0&&h===void 0?o.defaultValue:h),s.on("execute",()=>{o.set("value",!s.isOn)}),i.add(s)}return i}_createFormChildren(e){const i=this.createCollection();if(i.add(this.urlInputView),e.length){const o=new eo;o.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(s=>({tag:"li",children:[s],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),i.add(o)}return i.add(this.saveButtonView),i.add(this.cancelButtonView),i}}var FC=_e(2347),_M={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(FC.Z,_M),FC.Z.locals;class vM extends eo{constructor(e){super(e);const i=e.t;this.focusTracker=new dr,this.keystrokes=new Sr,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(i("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(i("Edit link"),Bo.pencil,"edit"),this.set("href"),this._focusables=new ss,this._focusCycler=new xa({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,i,o){const s=new vo(this.locale);return s.set({label:e,icon:i,tooltip:!0}),s.delegate("execute").to(this,o),s}_createPreviewButton(){const e=new vo(this.locale),i=this.bindTemplate,o=this.t;return e.set({withText:!0,tooltip:o("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:i.to("href",s=>s&&IC(s)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",s=>s||o("This link has no URL")),e.bind("isEnabled").to(this,"href",s=>!!s),e.template.tag="a",e.template.eventListeners={},e}}const Lr="link-ui";class AM extends In{static get requires(){return[jp]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(gT),this.actionsView=null,this.formView=null,this._balloon=e.plugins.get(jp),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:Lr,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:Lr,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,i=new vM(e.locale),o=e.commands.get("link"),s=e.commands.get("unlink");return i.bind("href").to(o,"value"),i.editButtonView.bind("isEnabled").to(o),i.unlinkButtonView.bind("isEnabled").to(s),this.listenTo(i,"edit",()=>{this._addFormView()}),this.listenTo(i,"unlink",()=>{e.execute("unlink"),this._hideUI()}),i.keystrokes.set("Esc",(h,g)=>{this._hideUI(),g()}),i.keystrokes.set(zw,(h,g)=>{this._addFormView(),g()}),i}_createFormView(){const e=this.editor,i=e.commands.get("link"),o=e.config.get("link.defaultProtocol"),s=new wM(e.locale,i);return s.urlInputView.fieldView.bind("value").to(i,"value"),s.urlInputView.bind("isReadOnly").to(i,"isEnabled",h=>!h),s.saveButtonView.bind("isEnabled").to(i),this.listenTo(s,"submit",()=>{const{value:h}=s.urlInputView.fieldView.element,g=Uw(h,o);e.execute("link",g,s.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(s,"cancel",()=>{this._closeFormView()}),s.keystrokes.set("Esc",(h,g)=>{this._closeFormView(),g()}),s}_createToolbarLinkButton(){const e=this.editor,i=e.commands.get("link"),o=e.t;e.ui.componentFactory.add("link",s=>{const h=new vo(s);return h.isEnabled=!0,h.label=o("Link"),h.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',h.keystroke=zw,h.tooltip=!0,h.isToggleable=!0,h.bind("isEnabled").to(i,"isEnabled"),h.bind("isOn").to(i,"value",g=>!!g),this.listenTo(h,"execute",()=>this._showUI(!0)),h})}_enableBalloonActivators(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(zw,(o,s)=>{s(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,i)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),i())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,i)=>{this._isUIVisible&&(this._hideUI(),i())}),rt({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=e.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,i=e.editing.view.document;let o=this._getSelectedLinkElement(),s=g();const h=()=>{const _=this._getSelectedLinkElement(),$=g();o&&!_||!o&&$!==s?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),o=_,s=$};function g(){return i.selection.focus.getAncestors().reverse().find(_=>_.is("element"))}this.listenTo(e.ui,"update",h),this.listenTo(this._balloon,"change:visibleView",h)}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,i=this.editor.model,o=e.document;let s=null;if(i.markers.has(Lr)){const h=Array.from(this.editor.editing.mapper.markerNameToElements(Lr)),g=e.createRange(e.createPositionBefore(h[0]),e.createPositionAfter(h[h.length-1]));s=e.domConverter.viewRangeToDom(g)}else s=()=>{const h=this._getSelectedLinkElement();return h?e.domConverter.mapViewToDom(h):e.domConverter.viewRangeToDom(o.selection.getFirstRange())};return{target:s}}_getSelectedLinkElement(){const e=this.editor.editing.view,i=e.document.selection,o=i.getSelectedElement();if(i.isCollapsed||o&&Do(o))return $w(i.getFirstPosition());{const s=i.getFirstRange().getTrimmed(),h=$w(s.start),g=$w(s.end);return h&&h==g&&e.createRangeIn(h).getTrimmed().isEqual(s)?h:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(i=>{const o=e.document.selection.getFirstRange();if(e.markers.has(Lr))i.updateMarker(Lr,{range:o});else if(o.start.isAtEnd){const s=o.start.getLastMatchingPosition(({item:h})=>!e.schema.isContent(h),{boundaries:o});i.addMarker(Lr,{usingOperation:!1,affectsData:!1,range:i.createRange(s,o.end)})}else i.addMarker(Lr,{usingOperation:!1,affectsData:!1,range:o})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(Lr)&&e.change(i=>{i.removeMarker(Lr)})}}function $w(a){return a.getAncestors().find(e=>{return(i=e).is("attributeElement")&&!!i.getCustomProperty("link");var i})}const yM=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class CM extends In{static get requires(){return[us]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const e=this.editor,i=new jA(e.model,o=>{if(!function(h){return h.length>4&&h[h.length-1]===" "&&h[h.length-2]!==" "}(o))return;const s=jC(o.substr(0,o.length-1));return s?{url:s}:void 0});i.on("matched:data",(o,s)=>{const{batch:h,range:g,url:_}=s;if(!h.isTyping)return;const $=g.end.getShiftedBy(-1),et=$.getShiftedBy(-_.length),tt=e.model.createRange(et,$);this._applyAutoLink(_,tt)}),i.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,i=e.model,o=e.commands.get("enter");o&&o.on("execute",()=>{const s=i.document.selection.getFirstPosition();if(!s.parent.previousSibling)return;const h=i.createRangeIn(s.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(h)})}_enableShiftEnterHandling(){const e=this.editor,i=e.model,o=e.commands.get("shiftEnter");o&&o.on("execute",()=>{const s=i.document.selection.getFirstPosition(),h=i.createRange(i.createPositionAt(s.parent,0),s.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(h)})}_checkAndApplyAutoLinkOnRange(e){const i=this.editor.model,{text:o,range:s}=FA(e,i),h=jC(o);if(h){const g=i.createRange(s.end.getShiftedBy(-h.length),s.end);this._applyAutoLink(h,g)}}_applyAutoLink(e,i){const o=this.editor.model,s=Uw(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(h,g){return g.schema.checkAttributeInSelection(g.createSelection(h),"linkHref")}(i,o)&&MC(s)&&!function(h){const g=h.start.nodeAfter;return g&&g.hasAttribute("linkHref")}(i)&&this._persistAutoLink(s,i)}_persistAutoLink(e,i){const o=this.editor.model,s=this.editor.plugins.get("Delete");o.enqueueChange(h=>{h.setAttribute("linkHref",e,i),o.enqueueChange(()=>{s.requestUndoOnBackspace()})})}}function jC(a){const e=yM.exec(a);return e?e[2]:null}class zC extends Jn{constructor(e,i){super(e),this.type=i}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor.model,o=i.document,s=Array.from(o.selection.getSelectedBlocks()).filter(g=>UC(g,i.schema)),h=e.forceValue!==void 0?!e.forceValue:this.value;i.change(g=>{if(h){let _=s[s.length-1].nextSibling,$=Number.POSITIVE_INFINITY,et=[];for(;_&&_.name=="listItem"&&_.getAttribute("listIndent")!==0;){const tt=_.getAttribute("listIndent");tt<$&&($=tt);const ot=tt-$;et.push({element:_,listIndent:ot}),_=_.nextSibling}et=et.reverse();for(const tt of et)g.setAttribute("listIndent",tt.listIndent,tt.element)}if(!h){let _=Number.POSITIVE_INFINITY;for(const $ of s)$.is("element","listItem")&&$.getAttribute("listIndent")<_&&(_=$.getAttribute("listIndent"));_=_===0?1:_,VC(s,!0,_),VC(s,!1,_)}for(const _ of s.reverse())h&&_.name=="listItem"?g.rename(_,"paragraph"):h||_.name=="listItem"?h||_.name!="listItem"||_.getAttribute("listType")==this.type||g.setAttribute("listType",this.type,_):(g.setAttributes({listType:this.type,listIndent:0},_),g.rename(_,"listItem"));this.fire("_executeCleanup",s)})}_getValue(){const e=jo(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,i=this.editor.model.schema,o=jo(e.getSelectedBlocks());return!!o&&UC(o,i)}}function VC(a,e,i){const o=e?a[0]:a[a.length-1];if(o.is("element","listItem")){let s=o[e?"previousSibling":"nextSibling"],h=o.getAttribute("listIndent");for(;s&&s.is("element","listItem")&&s.getAttribute("listIndent")>=i;)h>s.getAttribute("listIndent")&&(h=s.getAttribute("listIndent")),s.getAttribute("listIndent")==h&&a[e?"unshift":"push"](s),s=s[e?"previousSibling":"nextSibling"]}}function UC(a,e){return e.checkChild(a.parent,"listItem")&&!e.isObject(a)}class HC extends Jn{constructor(e,i){super(e),this._indentBy=i=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,i=e.document;let o=Array.from(i.selection.getSelectedBlocks());e.change(s=>{const h=o[o.length-1];let g=h.nextSibling;for(;g&&g.name=="listItem"&&g.getAttribute("listIndent")>h.getAttribute("listIndent");)o.push(g),g=g.nextSibling;this._indentBy<0&&(o=o.reverse());for(const _ of o){const $=_.getAttribute("listIndent")+this._indentBy;$<0?s.rename(_,"paragraph"):s.setAttribute("listIndent",$,_)}this.fire("_executeCleanup",o)})}_checkEnabled(){const e=jo(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){const i=e.getAttribute("listIndent"),o=e.getAttribute("listType");let s=e.previousSibling;for(;s&&s.is("element","listItem")&&s.getAttribute("listIndent")>=i;){if(s.getAttribute("listIndent")==i)return s.getAttribute("listType")==o;s=s.previousSibling}return!1}return!0}}function EM(a,e){const i=e.mapper,o=e.writer,s=a.getAttribute("listType")=="numbered"?"ol":"ul",h=function(_){const $=_.createContainerElement("li");return $.getFillerOffset=TM,$}(o),g=o.createContainerElement(s,null);return o.insert(o.createPositionAt(g,0),h),i.bindElements(a,h),h}function WC(a,e,i,o){const s=e.parent,h=i.mapper,g=i.writer;let _=h.toViewPosition(o.createPositionBefore(a));const $=GC(a.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:a.getAttribute("listIndent")}),et=a.previousSibling;if($&&$.getAttribute("listIndent")==a.getAttribute("listIndent")){const tt=h.toViewElement($);_=g.breakContainer(g.createPositionAfter(tt))}else if(et&&et.name=="listItem"){_=h.toViewPosition(o.createPositionAt(et,"end"));const tt=h.findMappedViewAncestor(_),ot=function(dt){for(const At of dt.getChildren())if(At.name=="ul"||At.name=="ol")return At;return null}(tt);_=ot?g.createPositionBefore(ot):g.createPositionAt(tt,"end")}else _=h.toViewPosition(o.createPositionBefore(a));if(_=$C(_),g.insert(_,s),et&&et.name=="listItem"){const tt=h.toViewElement(et),ot=g.createRange(g.createPositionAt(tt,0),_).getWalker({ignoreElementEnd:!0});for(const dt of ot)if(dt.item.is("element","li")){const At=g.breakContainer(g.createPositionBefore(dt.item)),St=dt.item.parent,Dt=g.createPositionAt(e,"end");pr(g,Dt.nodeBefore,Dt.nodeAfter),g.move(g.createRangeOn(St),Dt),ot.position=At}}else{const tt=s.nextSibling;if(tt&&(tt.is("element","ul")||tt.is("element","ol"))){let ot=null;for(const dt of tt.getChildren()){const At=h.toModelElement(dt);if(!(At&&At.getAttribute("listIndent")>a.getAttribute("listIndent")))break;ot=dt}ot&&(g.breakContainer(g.createPositionAfter(ot)),g.move(g.createRangeOn(ot.parent),g.createPositionAt(e,"end")))}}pr(g,s,s.nextSibling),pr(g,s.previousSibling,s)}function pr(a,e,i){return!e||!i||e.name!="ul"&&e.name!="ol"||e.name!=i.name||e.getAttribute("class")!==i.getAttribute("class")?null:a.mergeContainers(a.createPositionAfter(e))}function $C(a){return a.getLastMatchingPosition(e=>e.item.is("uiElement"))}function GC(a,e){const i=!!e.sameIndent,o=!!e.smallerIndent,s=e.listIndent;let h=a;for(;h&&h.name=="listItem";){const g=h.getAttribute("listIndent");if(i&&s==g||o&&s>g)return h;h=e.direction==="forward"?h.nextSibling:h.previousSibling}return null}function qC(a,e,i,o){a.ui.componentFactory.add(e,s=>{const h=a.commands.get(e),g=new vo(s);return g.set({label:i,icon:o,tooltip:!0,isToggleable:!0}),g.bind("isOn","isEnabled").to(h,"value","isEnabled"),g.on("execute",()=>{a.execute(e),a.editing.view.focus()}),g})}function Gw(a,e){const i=[],o=a.parent,s={ignoreElementEnd:!1,startPosition:a,shallow:!0,direction:e},h=o.getAttribute("listIndent"),g=[...new Nr(s)].filter(_=>_.item.is("element")).map(_=>_.item);for(const _ of g){if(!_.is("element","listItem")||_.getAttribute("listIndent")<h)break;if(!(_.getAttribute("listIndent")>h)){if(_.getAttribute("listType")!==o.getAttribute("listType")||_.getAttribute("listStyle")!==o.getAttribute("listStyle")||_.getAttribute("listReversed")!==o.getAttribute("listReversed")||_.getAttribute("listStart")!==o.getAttribute("listStart"))break;e==="backward"?i.unshift(_):i.push(_)}}return i}const xM=["disc","circle","square"],SM=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function TM(){const a=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||a?0:S0.call(this)}class DM extends In{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(e){return function(i){return xM.includes(i)?"bulleted":SM.includes(i)?"numbered":null}(e)}getSelectedListItems(e){return function(i){let o=[...i.document.selection.getSelectedBlocks()].filter(s=>s.is("element","listItem")).map(s=>{const h=i.change(g=>g.createPositionAt(s,0));return[...Gw(h,"backward"),...Gw(h,"forward")]}).flat();return o=[...new Set(o)],o}(e)}getSiblingNodes(e,i){return Gw(e,i)}}function KC(a){return(e,i,o)=>{const s=o.consumable;if(!s.test(i.item,"insert")||!s.test(i.item,"attribute:listType")||!s.test(i.item,"attribute:listIndent"))return;s.consume(i.item,"insert"),s.consume(i.item,"attribute:listType"),s.consume(i.item,"attribute:listIndent");const h=i.item;WC(h,EM(h,o),o,a)}}const IM=(a,e,i)=>{if(!i.consumable.test(e.item,a.name))return;const o=i.mapper.toViewElement(e.item),s=i.writer;s.breakContainer(s.createPositionBefore(o)),s.breakContainer(s.createPositionAfter(o));const h=o.parent,g=e.attributeNewValue=="numbered"?"ol":"ul";s.rename(g,h)},MM=(a,e,i)=>{i.consumable.consume(e.item,a.name);const o=i.mapper.toViewElement(e.item).parent,s=i.writer;pr(s,o,o.nextSibling),pr(s,o.previousSibling,o)},YC=(a,e,i)=>{if(i.consumable.test(e.item,a.name)&&e.item.name!="listItem"){let o=i.mapper.toViewPosition(e.range.start);const s=i.writer,h=[];for(;(o.parent.name=="ul"||o.parent.name=="ol")&&(o=s.breakContainer(o),o.parent.name=="li");){const g=o,_=s.createPositionAt(o.parent,"end");if(!g.isEqual(_)){const $=s.remove(s.createRange(g,_));h.push($)}o=s.createPositionAfter(o.parent)}if(h.length>0){for(let g=0;g<h.length;g++){const _=o.nodeBefore;if(o=s.insert(o,h[g]).end,g>0){const $=pr(s,_,_.nextSibling);$&&$.parent==_&&o.offset--}}pr(s,o.nodeBefore,o.nodeAfter)}}},PM=(a,e,i)=>{const o=i.mapper.toViewPosition(e.position),s=o.nodeBefore,h=o.nodeAfter;pr(i.writer,s,h)},NM=(a,e,i)=>{if(i.consumable.consume(e.viewItem,{name:!0})){const o=i.writer,s=o.createElement("listItem"),h=function($){let et=0,tt=$.parent;for(;tt;){if(tt.is("element","li"))et++;else{const ot=tt.previousSibling;ot&&ot.is("element","li")&&et++}tt=tt.parent}return et}(e.viewItem);o.setAttribute("listIndent",h,s);const g=e.viewItem.parent&&e.viewItem.parent.name=="ol"?"numbered":"bulleted";if(o.setAttribute("listType",g,s),!i.safeInsert(s,e.modelCursor))return;const _=function($,et,tt){const{writer:ot,schema:dt}=tt;let At=ot.createPositionAfter($);for(const St of et)if(St.name=="ul"||St.name=="ol")At=tt.convertItem(St,At).modelCursor;else{const Dt=tt.convertItem(St,ot.createPositionAt($,"end")),Ft=Dt.modelRange.start.nodeAfter;Ft&&Ft.is("element")&&!dt.checkChild($,Ft.name)&&($=Dt.modelCursor.parent.is("element","listItem")?Dt.modelCursor.parent:LM(Dt.modelCursor),At=ot.createPositionAfter($))}return At}(s,e.viewItem.getChildren(),i);e.modelRange=o.createRange(e.modelCursor,_),i.updateConversionResult(s,e)}},QC=(a,e,i)=>{if(i.consumable.test(e.viewItem,{name:!0})){const o=Array.from(e.viewItem.getChildren());for(const s of o)!(s.is("element","li")||Rl(s))&&s._remove()}},RM=(a,e,i)=>{if(i.consumable.test(e.viewItem,{name:!0})){if(e.viewItem.childCount===0)return;const o=[...e.viewItem.getChildren()];let s=!1;for(const h of o)s&&!Rl(h)&&h._remove(),Rl(h)&&(s=!0)}};function ZC(a){return(e,i)=>{if(i.isPhantom)return;const o=i.modelPosition.nodeBefore;if(o&&o.is("element","listItem")){const s=i.mapper.toViewElement(o),h=s.getAncestors().find(Rl),g=a.createPositionAt(s,0).getWalker();for(const _ of g){if(_.type=="elementStart"&&_.item.is("element","li")){i.viewPosition=_.previousPosition;break}if(_.type=="elementEnd"&&_.item==h){i.viewPosition=_.nextPosition;break}}}}}const OM=function(a,[e,i,o]){const s=this;let h,g=e.is("documentFragment")?e.getChild(0):e;if(h=i?s.createSelection(i,o):s.document.selection,g&&g.is("element","listItem")){const _=h.getFirstPosition();let $=null;if(_.parent.is("element","listItem")?$=_.parent:_.nodeBefore&&_.nodeBefore.is("element","listItem")&&($=_.nodeBefore),$){const et=$.getAttribute("listIndent");if(et>0)for(;g&&g.is("element","listItem");)g._setAttribute("listIndent",g.getAttribute("listIndent")+et),g=g.nextSibling}}};function LM(a){const e=new Nr({startPosition:a});let i;do i=e.next();while(!i.value.item.is("element","listItem"));return i.value.item}function XC(a,e,i,o,s,h){const g=GC(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:a}),_=s.mapper,$=s.writer,et=g?g.getAttribute("listIndent"):null;let tt;if(g)if(et==a){const ot=_.toViewElement(g).parent;tt=$.createPositionAfter(ot)}else{const ot=h.createPositionAt(g,"end");tt=_.toViewPosition(ot)}else tt=i;tt=$C(tt);for(const ot of[...o.getChildren()])Rl(ot)&&(tt=$.move($.createRangeOn(ot),tt).end,pr($,ot,ot.nextSibling),pr($,ot.previousSibling,ot))}function Rl(a){return a.is("element","ol")||a.is("element","ul")}var JC=_e(4564),BM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(JC.Z,BM),JC.Z.locals;class FM extends In{static get pluginName(){return"ListEditing"}static get requires(){return[Hp,us,DM]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const i=e.data,o=e.editing;var s;e.model.document.registerPostFixer(g=>function(_,$){const et=_.document.differ.getChanges(),tt=new Map;let ot=!1;for(const Dt of et)if(Dt.type=="insert"&&Dt.name=="listItem")dt(Dt.position);else if(Dt.type=="insert"&&Dt.name!="listItem"){if(Dt.name!="$text"){const Ft=Dt.position.nodeAfter;Ft.hasAttribute("listIndent")&&($.removeAttribute("listIndent",Ft),ot=!0),Ft.hasAttribute("listType")&&($.removeAttribute("listType",Ft),ot=!0),Ft.hasAttribute("listStyle")&&($.removeAttribute("listStyle",Ft),ot=!0),Ft.hasAttribute("listReversed")&&($.removeAttribute("listReversed",Ft),ot=!0),Ft.hasAttribute("listStart")&&($.removeAttribute("listStart",Ft),ot=!0);for(const Yt of Array.from(_.createRangeIn(Ft)).filter(cn=>cn.item.is("element","listItem")))dt(Yt.previousPosition)}dt(Dt.position.getShiftedBy(Dt.length))}else Dt.type=="remove"&&Dt.name=="listItem"?dt(Dt.position):(Dt.type=="attribute"&&Dt.attributeKey=="listIndent"||Dt.type=="attribute"&&Dt.attributeKey=="listType")&&dt(Dt.range.start);for(const Dt of tt.values())At(Dt),St(Dt);return ot;function dt(Dt){const Ft=Dt.nodeBefore;if(Ft&&Ft.is("element","listItem")){let Yt=Ft;if(tt.has(Yt))return;for(let cn=Yt.previousSibling;cn&&cn.is("element","listItem");cn=Yt.previousSibling)if(Yt=cn,tt.has(Yt))return;tt.set(Ft,Yt)}else{const Yt=Dt.nodeAfter;Yt&&Yt.is("element","listItem")&&tt.set(Yt,Yt)}}function At(Dt){let Ft=0,Yt=null;for(;Dt&&Dt.is("element","listItem");){const cn=Dt.getAttribute("listIndent");if(cn>Ft){let wn;Yt===null?(Yt=cn-Ft,wn=Ft):(Yt>cn&&(Yt=cn),wn=cn-Yt),$.setAttribute("listIndent",wn,Dt),ot=!0}else Yt=null,Ft=Dt.getAttribute("listIndent")+1;Dt=Dt.nextSibling}}function St(Dt){let Ft=[],Yt=null;for(;Dt&&Dt.is("element","listItem");){const cn=Dt.getAttribute("listIndent");if(Yt&&Yt.getAttribute("listIndent")>cn&&(Ft=Ft.slice(0,cn+1)),cn!=0)if(Ft[cn]){const wn=Ft[cn];Dt.getAttribute("listType")!=wn&&($.setAttribute("listType",wn,Dt),ot=!0)}else Ft[cn]=Dt.getAttribute("listType");Yt=Dt,Dt=Dt.nextSibling}}}(e.model,g)),o.mapper.registerViewToModelLength("li",qw),i.mapper.registerViewToModelLength("li",qw),o.mapper.on("modelToViewPosition",ZC(o.view)),o.mapper.on("viewToModelPosition",(s=e.model,(g,_)=>{const $=_.viewPosition,et=$.parent,tt=_.mapper;if(et.name=="ul"||et.name=="ol"){if($.isAtEnd){const ot=tt.toModelElement($.nodeBefore),dt=tt.getModelLength($.nodeBefore);_.modelPosition=s.createPositionBefore(ot).getShiftedBy(dt)}else{const ot=tt.toModelElement($.nodeAfter);_.modelPosition=s.createPositionBefore(ot)}g.stop()}else if(et.name=="li"&&$.nodeBefore&&($.nodeBefore.name=="ul"||$.nodeBefore.name=="ol")){const ot=tt.toModelElement(et);let dt=1,At=$.nodeBefore;for(;At&&Rl(At);)dt+=tt.getModelLength(At),At=At.previousSibling;_.modelPosition=s.createPositionBefore(ot).getShiftedBy(dt),g.stop()}})),i.mapper.on("modelToViewPosition",ZC(o.view)),e.conversion.for("editingDowncast").add(g=>{g.on("insert",YC,{priority:"high"}),g.on("insert:listItem",KC(e.model)),g.on("attribute:listType:listItem",IM,{priority:"high"}),g.on("attribute:listType:listItem",MM,{priority:"low"}),g.on("attribute:listIndent:listItem",function(_){return($,et,tt)=>{if(!tt.consumable.consume(et.item,"attribute:listIndent"))return;const ot=tt.mapper.toViewElement(et.item),dt=tt.writer;dt.breakContainer(dt.createPositionBefore(ot)),dt.breakContainer(dt.createPositionAfter(ot));const At=ot.parent,St=At.previousSibling,Dt=dt.createRangeOn(At);dt.remove(Dt),St&&St.nextSibling&&pr(dt,St,St.nextSibling),XC(et.attributeOldValue+1,et.range.start,Dt.start,ot,tt,_),WC(et.item,ot,tt,_);for(const Ft of et.item.getChildren())tt.consumable.consume(Ft,"insert")}}(e.model)),g.on("remove:listItem",function(_){return($,et,tt)=>{const ot=tt.mapper.toViewPosition(et.position).getLastMatchingPosition(Yt=>!Yt.item.is("element","li")).nodeAfter,dt=tt.writer;dt.breakContainer(dt.createPositionBefore(ot)),dt.breakContainer(dt.createPositionAfter(ot));const At=ot.parent,St=At.previousSibling,Dt=dt.createRangeOn(At),Ft=dt.remove(Dt);St&&St.nextSibling&&pr(dt,St,St.nextSibling),XC(tt.mapper.toModelElement(ot).getAttribute("listIndent")+1,et.position,Dt.start,ot,tt,_);for(const Yt of dt.createRangeIn(Ft).getItems())tt.mapper.unbindViewElement(Yt);$.stop()}}(e.model)),g.on("remove",PM,{priority:"low"})}),e.conversion.for("dataDowncast").add(g=>{g.on("insert",YC,{priority:"high"}),g.on("insert:listItem",KC(e.model))}),e.conversion.for("upcast").add(g=>{g.on("element:ul",QC,{priority:"high"}),g.on("element:ol",QC,{priority:"high"}),g.on("element:li",RM,{priority:"high"}),g.on("element:li",NM)}),e.model.on("insertContent",OM,{priority:"high"}),e.commands.add("numberedList",new zC(e,"numbered")),e.commands.add("bulletedList",new zC(e,"bulleted")),e.commands.add("indentList",new HC(e,"forward")),e.commands.add("outdentList",new HC(e,"backward"));const h=o.view.document;this.listenTo(h,"enter",(g,_)=>{const $=this.editor.model.document,et=$.selection.getLastPosition().parent;$.selection.isCollapsed&&et.name=="listItem"&&et.isEmpty&&(this.editor.execute("outdentList"),_.preventDefault(),g.stop())},{context:"li"}),this.listenTo(h,"delete",(g,_)=>{if(_.direction!=="backward")return;const $=this.editor.model.document.selection;if(!$.isCollapsed)return;const et=$.getFirstPosition();if(!et.isAtStart)return;const tt=et.parent;tt.name==="listItem"&&(tt.previousSibling&&tt.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),_.preventDefault(),g.stop()))},{context:"li"}),this.listenTo(e.editing.view.document,"tab",(g,_)=>{const $=_.shiftKey?"outdentList":"indentList";this.editor.commands.get($).isEnabled&&(e.execute($),_.stopPropagation(),_.preventDefault(),g.stop())},{context:"li"})}afterInit(){const e=this.editor.commands,i=e.get("indent"),o=e.get("outdent");i&&i.registerChildCommand(e.get("indentList")),o&&o.registerChildCommand(e.get("outdentList"))}}function qw(a){let e=1;for(const i of a.getChildren())if(i.name=="ul"||i.name=="ol")for(const o of i.getChildren())e+=qw(o);return e}class jM extends In{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;qC(this.editor,"numberedList",e("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),qC(this.editor,"bulletedList",e("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}function e1(a,e){return o=>{o.on("attribute:url:media",i)};function i(o,s,h){if(!h.consumable.consume(s.item,o.name))return;const g=s.attributeNewValue,_=h.writer,$=h.mapper.toViewElement(s.item),et=[...$.getChildren()].find(ot=>ot.getCustomProperty("media-content"));_.remove(et);const tt=a.getMediaViewElement(_,g,e);_.insert(_.createPositionAt($,0),tt)}}function t1(a,e,i,o){return a.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(a,i,o),a.createSlot()])}function n1(a){const e=a.getSelectedElement();return e&&e.is("element","media")?e:null}function i1(a,e,i,o){a.change(s=>{const h=s.createElement("media",{url:e});a.insertObject(h,i,null,{setSelection:"on",findOptimalPosition:o})})}class zM extends Jn{refresh(){const e=this.editor.model,i=e.document.selection,o=n1(i);this.value=o?o.getAttribute("url"):null,this.isEnabled=function(s){const h=s.getSelectedElement();return!!h&&h.name==="media"}(i)||function(s,h){let _=XA(s,h).start.parent;return _.isEmpty&&!h.schema.isLimit(_)&&(_=_.parent),h.schema.checkChild(_,"media")}(i,e)}execute(e){const i=this.editor.model,o=i.document.selection,s=n1(o);s?i.change(h=>{h.setAttribute("url",e,s)}):i1(i,e,o,!0)}}class VM{constructor(e,i){const o=i.providers,s=i.extraProviders||[],h=new Set(i.removeProviders),g=o.concat(s).filter(_=>{const $=_.name;return $?!h.has($):(yt("media-embed-no-provider-name",{provider:_}),!1)});this.locale=e,this.providerDefinitions=g}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,i,o){return this._getMedia(i).getViewElement(e,o)}_getMedia(e){if(!e)return new o1(this.locale);e=e.trim();for(const i of this.providerDefinitions){const o=i.html,s=Uo(i.url);for(const h of s){const g=this._getUrlMatches(e,h);if(g)return new o1(this.locale,e,g,o)}}return null}_getUrlMatches(e,i){let o=e.match(i);if(o)return o;let s=e.replace(/^https?:\/\//,"");return o=s.match(i),o||(s=s.replace(/^www\./,""),o=s.match(i),o||null)}}class o1{constructor(e,i,o,s){this.url=this._getValidUrl(i),this._locale=e,this._match=o,this._previewRenderer=s}getViewElement(e,i){const o={};let s;if(i.renderForEditingView||i.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(o["data-oembed-url"]=this.url),i.renderForEditingView&&(o.class="ck-media__wrapper");const h=this._getPreviewHtml(i);s=e.createRawElement("div",o,(g,_)=>{_.setContentOf(g,h)})}else this.url&&(o.url=this.url),s=e.createEmptyElement(i.elementName,o);return e.setCustomProperty("media-content",!0,s),s}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new Cs,i=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new kr({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":i("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var r1=_e(7442),UM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(r1.Z,UM),r1.Z.locals;class Qp extends In{static get pluginName(){return"MediaEmbedEditing"}constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:i=>{const o=i[1],s=i[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${o}${s?`?start=${s}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new VM(e.locale,e.config.get("mediaEmbed"))}init(){const e=this.editor,i=e.model.schema,o=e.t,s=e.conversion,h=e.config.get("mediaEmbed.previewsInData"),g=e.config.get("mediaEmbed.elementName"),_=this.registry;e.commands.add("mediaEmbed",new zM(e)),i.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),s.for("dataDowncast").elementToStructure({model:"media",view:($,{writer:et})=>{const tt=$.getAttribute("url");return t1(et,_,tt,{elementName:g,renderMediaPreview:tt&&h})}}),s.for("dataDowncast").add(e1(_,{elementName:g,renderMediaPreview:h})),s.for("editingDowncast").elementToStructure({model:"media",view:($,{writer:et})=>{const tt=$.getAttribute("url");return function(ot,dt,At){return dt.setCustomProperty("media",!0,ot),Dw(ot,dt,{label:At})}(t1(et,_,tt,{elementName:g,renderForEditingView:!0}),et,o("media widget"))}}),s.for("editingDowncast").add(e1(_,{elementName:g,renderForEditingView:!0})),s.for("upcast").elementToElement({view:$=>["oembed",g].includes($.name)&&$.getAttribute("url")?{name:!0}:null,model:($,{writer:et})=>{const tt=$.getAttribute("url");if(_.hasMedia(tt))return et.createElement("media",{url:tt})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:($,{writer:et})=>{const tt=$.getAttribute("data-oembed-url");if(_.hasMedia(tt))return et.createElement("media",{url:tt})}}).add($=>{$.on("element:figure",function(et,tt,ot){if(!ot.consumable.consume(tt.viewItem,{name:!0,classes:"media"}))return;const{modelRange:dt,modelCursor:At}=ot.convertChildren(tt.viewItem,tt.modelCursor);tt.modelRange=dt,tt.modelCursor=At,jo(dt.getItems())||ot.consumable.revert(tt.viewItem,{name:!0,classes:"media"})})})}}const HM=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class WM extends In{static get requires(){return[py,us,by]}static get pluginName(){return"AutoMediaEmbed"}constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}init(){const e=this.editor,i=e.model.document;this.listenTo(e.plugins.get("ClipboardPipeline"),"inputTransformation",()=>{const o=i.selection.getFirstRange(),s=Ko.fromPosition(o.start);s.stickiness="toPrevious";const h=Ko.fromPosition(o.end);h.stickiness="toNext",i.once("change:data",()=>{this._embedMediaBetweenPositions(s,h),s.detach(),h.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(_i.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,i){const o=this.editor,s=o.plugins.get(Qp).registry,h=new wr(e,i),g=h.getWalker({ignoreElementEnd:!0});let _="";for(const $ of g)$.item.is("$textProxy")&&(_+=$.item.data);if(_=_.trim(),!_.match(HM)||!s.hasMedia(_))return void h.detach();o.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Ko.fromPosition(e),this._timeoutId=_i.window.setTimeout(()=>{o.model.change($=>{let et;this._timeoutId=null,$.remove(h),h.detach(),this._positionToInsert.root.rootName!=="$graveyard"&&(et=this._positionToInsert),i1(o.model,_,et,!1),this._positionToInsert.detach(),this._positionToInsert=null}),o.plugins.get("Delete").requestUndoOnBackspace()},100)):h.detach()}}var s1=_e(9292),$M={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(s1.Z,$M),s1.Z.locals;class GM extends eo{constructor(e,i){super(i);const o=i.t;this.focusTracker=new dr,this.keystrokes=new Sr,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(o("Save"),Bo.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",s=>!!s),this.cancelButtonView=this._createButton(o("Cancel"),Bo.cancel,"ck-button-cancel","cancel"),this._focusables=new ss,this._focusCycler=new xa({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]}),st(this)}render(){super.render(),it({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element);const e=i=>i.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e),this.listenTo(this.urlInputView.element,"selectstart",(i,o)=>{o.stopPropagation()},{priority:"high"})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const i=e(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,i=new vw(this.locale,Aw),o=i.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),i.label=e("Media URL"),i.infoText=this._urlInputViewInfoDefault,o.on("input",()=>{i.infoText=o.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=o.element.value.trim()}),i}_createButton(e,i,o,s){const h=new vo(this.locale);return h.set({label:e,icon:i,tooltip:!0}),h.extendTemplate({attributes:{class:o}}),s&&h.delegate("execute").to(this,s),h}}class qM extends In{static get requires(){return[Qp]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,i=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",o=>{const s=cs(o);return this._setUpDropdown(s,i),s})}_setUpDropdown(e,i){const o=this.editor,s=o.t,h=e.buttonView,g=o.plugins.get(Qp).registry;e.once("change:isOpen",()=>{const _=new GM(function($,et){return[tt=>{if(!tt.url.length)return $("The URL must not be empty.")},tt=>{if(!et.hasMedia(tt.url))return $("This media URL is not supported.")}]}(o.t,g),o.locale);e.panelView.children.add(_),h.on("open",()=>{_.disableCssTransitions(),_.url=i.value||"",_.urlInputView.fieldView.select(),_.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{_.isValid()&&(o.execute("mediaEmbed",_.url),o.editing.view.focus())}),e.on("change:isOpen",()=>_.resetFormStatus()),e.on("cancel",()=>{o.editing.view.focus()}),_.delegate("submit","cancel").to(e),_.urlInputView.bind("value").to(i,"value"),_.urlInputView.bind("isReadOnly").to(i,"isEnabled",$=>!$)}),e.bind("isEnabled").to(i),h.set({label:s("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var a1=_e(4652),KM={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(a1.Z,KM),a1.Z.locals;function l1(a,e,i,{blockElements:o,inlineObjectElements:s}){let h=i.createPositionAt(a,e=="forward"?"after":"before");return h=h.getLastMatchingPosition(({item:g})=>g.is("element")&&!o.includes(g.name)&&!s.includes(g.name),{direction:e}),e=="forward"?h.nodeAfter:h.nodeBefore}function c1(a,e){return!!a&&a.is("element")&&e.includes(a.name)}function YM(a,e){if(!a.childCount)return;const i=new Sl(a.document),o=function(g,_){const $=_.createRangeIn(g),et=new Ir({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),tt=[];for(const ot of $)if(ot.type==="elementStart"&&et.match(ot.item)){const dt=ZM(ot.item);tt.push({element:ot.item,id:dt.id,order:dt.order,indent:dt.indent})}return tt}(a,i);if(!o.length)return;let s=null,h=1;o.forEach((g,_)=>{const $=function(St,Dt){if(!St)return!0;if(St.id!==Dt.id)return Dt.indent-St.indent!=1;const Ft=Dt.element.previousSibling;if(!Ft)return!0;return Yt=Ft,!(Yt.is("element","ol")||Yt.is("element","ul"));var Yt}(o[_-1],g),et=$?null:o[_-1],tt=(dt=g,(ot=et)?dt.indent-ot.indent:dt.indent-1);var ot,dt;if($&&(s=null,h=1),!s||tt!==0){const St=function(Dt,Ft){const Yt=new RegExp(`@list l${Dt.id}:level${Dt.indent}\\s*({[^}]*)`,"gi"),cn=/mso-level-number-format:([^;]{0,100});/gi,wn=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,Pn=Yt.exec(Ft);let Un="decimal",oo="ol",ao=null;if(Pn&&Pn[1]){const Vo=cn.exec(Pn[1]);if(Vo&&Vo[1]&&(Un=Vo[1].trim(),oo=Un!=="bullet"&&Un!=="image"?"ol":"ul"),Un==="bullet"){const Go=function(Ll){const Br=function(Qr){if(Qr.getChild(0).is("$text"))return null;for(const Zr of Qr.getChildren()){if(!Zr.is("element","span"))continue;const Bl=Zr.getChild(0);return Bl.is("$text")?Bl:Bl.getChild(0)}return null}(Ll);if(!Br)return null;const fr=Br._data;return fr==="o"?"circle":fr===""?"disc":fr===""?"square":null}(Dt.element);Go&&(Un=Go)}else{const Go=wn.exec(Pn[1]);Go&&Go[1]&&(ao=parseInt(Go[1]))}}return{type:oo,startIndex:ao,style:QM(Un)}}(g,e);if(s){if(g.indent>h){const Dt=s.getChild(s.childCount-1),Ft=Dt.getChild(Dt.childCount-1);s=d1(St,Ft,i),h+=1}else if(g.indent<h){const Dt=h-g.indent;s=function(Ft,Yt){const cn=Ft.getAncestors({parentFirst:!0});let wn=null,Pn=0;for(const Un of cn)if((Un.is("element","ul")||Un.is("element","ol"))&&Pn++,Pn===Yt){wn=Un;break}return wn}(s,Dt),h=g.indent}}else s=d1(St,g.element,i);g.indent<=h&&(s.is("element",St.type)||(s=i.rename(St.type,s)))}const At=function(St,Dt){return function(Ft,Yt){const cn=new Ir({name:"span",styles:{"mso-list":"Ignore"}}),wn=Yt.createRangeIn(Ft);for(const Pn of wn)Pn.type==="elementStart"&&cn.match(Pn.item)&&Yt.remove(Pn.item)}(St,Dt),Dt.rename("li",St)}(g.element,i);i.appendChild(At,s)})}function QM(a){if(a.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(a){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return a;default:return null}}function d1(a,e,i){const o=e.parent,s=i.createElement(a.type),h=o.getChildIndex(e)+1;return i.insertChild(h,s,o),a.style&&i.setStyle("list-style-type",a.style,s),a.startIndex&&a.startIndex>1&&i.setAttribute("start",a.startIndex,s),s}function ZM(a){const e={},i=a.getStyle("mso-list");if(i){const o=i.match(/(^|\s{1,100})l(\d+)/i),s=i.match(/\s{0,100}lfo(\d+)/i),h=i.match(/\s{0,100}level(\d+)/i);o&&s&&h&&(e.id=o[2],e.order=s[1],e.indent=parseInt(h[1]))}return e}const XM=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class JM{constructor(e){this.document=e}isActive(e){return XM.test(e)}execute(e){const i=new Sl(this.document),{body:o}=e._parsedData;(function(s,h){for(const g of s.getChildren())if(g.is("element","b")&&g.getStyle("font-weight")==="normal"){const _=s.getChildIndex(g);h.remove(g),h.insertChild(_,g.getChildren(),s)}})(o,i),function(s,h){for(const g of h.createRangeIn(s)){const _=g.item;if(_.is("element","li")){const $=_.getChild(0);$&&$.is("element","p")&&h.unwrapElement($)}}}(o,i),function(s,h){const g=new xp(h.document.stylesProcessor),_=new Ip(g,{renderingMode:"data"}),$=_.blockElements,et=_.inlineObjectElements,tt=[];for(const ot of h.createRangeIn(s)){const dt=ot.item;if(dt.is("element","br")){const At=l1(dt,"forward",h,{blockElements:$,inlineObjectElements:et}),St=l1(dt,"backward",h,{blockElements:$,inlineObjectElements:et}),Dt=c1(At,$);(c1(St,$)||Dt)&&tt.push(dt)}}for(const ot of tt)ot.hasClass("Apple-interchange-newline")?h.remove(ot):h.replace(ot,h.createElement("p"))}(o,i),e.content=o}}function eP(a,e){if(!a.childCount)return;const i=new Sl(a.document),o=function(h,g){const _=g.createRangeIn(h),$=new Ir({name:/v:(.+)/}),et=[];for(const tt of _){if(tt.type!="elementStart")continue;const ot=tt.item,dt=ot.previousSibling,At=dt&&dt.is("element")?dt.name:null;$.match(ot)&&ot.getAttribute("o:gfxdata")&&At!=="v:shapetype"&&et.push(tt.item.getAttribute("id"))}return et}(a,i);(function(h,g,_){const $=_.createRangeIn(g),et=new Ir({name:"img"}),tt=[];for(const ot of $)if(ot.item.is("element")&&et.match(ot.item)){const dt=ot.item,At=dt.getAttribute("v:shapes")?dt.getAttribute("v:shapes").split(" "):[];At.length&&At.every(St=>h.indexOf(St)>-1)?tt.push(dt):dt.getAttribute("src")||tt.push(dt)}for(const ot of tt)_.remove(ot)})(o,a,i),function(h,g,_){const $=_.createRangeIn(g),et=[];for(const dt of $)if(dt.type=="elementStart"&&dt.item.is("element","v:shape")){const At=dt.item.getAttribute("id");if(h.includes(At))continue;tt(dt.item.parent.getChildren(),At)||et.push(dt.item)}for(const dt of et){const At={src:ot(dt)};dt.hasAttribute("alt")&&(At.alt=dt.getAttribute("alt"));const St=_.createElement("img",At);_.insertChild(dt.index+1,St,dt.parent)}function tt(dt,At){for(const St of dt)if(St.is("element")&&(St.name=="img"&&St.getAttribute("v:shapes")==At||tt(St.getChildren(),At)))return!0;return!1}function ot(dt){for(const At of dt.getChildren())if(At.is("element")&&At.getAttribute("src"))return At.getAttribute("src")}}(o,a,i),function(h,g){const _=g.createRangeIn(h),$=new Ir({name:/v:(.+)/}),et=[];for(const tt of _)tt.type=="elementStart"&&$.match(tt.item)&&et.push(tt.item);for(const tt of et)g.remove(tt)}(a,i);const s=function(h,g){const _=g.createRangeIn(h),$=new Ir({name:"img"}),et=[];for(const tt of _)tt.item.is("element")&&$.match(tt.item)&&tt.item.getAttribute("src").startsWith("file://")&&et.push(tt.item);return et}(a,i);s.length&&function(h,g,_){if(h.length===g.length)for(let $=0;$<h.length;$++){const et=`data:${g[$].type};base64,${tP(g[$].hex)}`;_.setAttribute("src",et,h[$])}}(s,function(h){if(!h)return[];const g=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,_=new RegExp("(?:("+g.source+"))([\\da-fA-F\\s]+)\\}","g"),$=h.match(_),et=[];if($)for(const tt of $){let ot=!1;tt.includes("\\pngblip")?ot="image/png":tt.includes("\\jpegblip")&&(ot="image/jpeg"),ot&&et.push({hex:tt.replace(g,"").replace(/[^\da-fA-F]/g,""),type:ot})}return et}(e),i)}function tP(a){return btoa(a.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const nP=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,iP=/xmlns:o="urn:schemas-microsoft-com/i;class oP{constructor(e){this.document=e}isActive(e){return nP.test(e)||iP.test(e)}execute(e){const{body:i,stylesString:o}=e._parsedData;YM(i,o),eP(i,e.dataTransfer.getData("text/rtf")),e.content=i}}function u1(a){return a.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,i)=>i.length===1?" ":Array(i.length+1).join(" ").substr(0,i.length))}function rP(a,e){const i=new DOMParser,o=function($){return u1(u1($)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function($){const et="</body>",tt="</html>",ot=$.indexOf(et);if(ot<0)return $;const dt=$.indexOf(tt,ot+et.length);return $.substring(0,ot+et.length)+(dt>=0?$.substring(dt):"")}(a=a.replace(/<!--\[if gte vml 1]>/g,""))),s=i.parseFromString(o,"text/html");(function($){$.querySelectorAll("span[style*=spacerun]").forEach(et=>{const tt=et,ot=tt.innerText.length||0;tt.innerText=Array(ot+1).join(" ").substr(0,ot)})})(s);const h=s.body.innerHTML,g=function($,et){const tt=new xp(et),ot=new Ip(tt,{renderingMode:"data"}),dt=$.createDocumentFragment(),At=$.body.childNodes;for(;At.length>0;)dt.appendChild(At[0]);return ot.domToView(dt,{skipComments:!0})}(s,e),_=function($){const et=[],tt=[],ot=Array.from($.getElementsByTagName("style"));for(const dt of ot)dt.sheet&&dt.sheet.cssRules&&dt.sheet.cssRules.length&&(et.push(dt.sheet),tt.push(dt.innerHTML));return{styles:et,stylesString:tt.join(" ")}}(s);return{body:g,bodyString:h,styles:_.styles,stylesString:_.stylesString}}function Oo(a,e,i,o,s=1){e>s?o.setAttribute(a,e,i):o.removeAttribute(a,i)}function Ls(a,e,i={}){const o=a.createElement("tableCell",i);return a.insertElement("paragraph",o),a.insert(o,e),o}function Kw(a,e){const i=e.parent.parent,o=parseInt(i.getAttribute("headingColumns")||0),{column:s}=a.getCellLocation(e);return!!o&&s<o}function sP(){return a=>{a.on("element:table",(e,i,o)=>{const s=i.viewItem;if(!o.consumable.test(s,{name:!0}))return;const{rows:h,headingRows:g,headingColumns:_}=function(tt){const ot={headingRows:0,headingColumns:0},dt=[],At=[];let St;for(const Dt of Array.from(tt.getChildren()))if(Dt.name==="tbody"||Dt.name==="thead"||Dt.name==="tfoot"){Dt.name!=="thead"||St||(St=Dt);const Ft=Array.from(Dt.getChildren()).filter(Yt=>Yt.is("element","tr"));for(const Yt of Ft)if(Yt.parent.name==="thead"&&Yt.parent===St)ot.headingRows++,dt.push(Yt);else{At.push(Yt);const cn=aP(Yt);cn>ot.headingColumns&&(ot.headingColumns=cn)}}return ot.rows=[...dt,...At],ot}(s),$={};_&&($.headingColumns=_),g&&($.headingRows=g);const et=o.writer.createElement("table",$);if(o.safeInsert(et,i.modelCursor)){if(o.consumable.consume(s,{name:!0}),h.forEach(tt=>o.convertItem(tt,o.writer.createPositionAt(et,"end"))),o.convertChildren(s,o.writer.createPositionAt(et,"end")),et.isEmpty){const tt=o.writer.createElement("tableRow");o.writer.insert(tt,o.writer.createPositionAt(et,"end")),Ls(o.writer,o.writer.createPositionAt(tt,"end"))}o.updateConversionResult(et,i)}})}}function h1(a){return e=>{e.on(`element:${a}`,(i,o,{writer:s})=>{if(!o.modelRange)return;const h=o.modelRange.start.nodeAfter,g=s.createPositionAt(h,0);if(o.viewItem.isEmpty)return void s.insertElement("paragraph",g);const _=Array.from(h.getChildren());if(_.every($=>$.is("element","$marker"))){const $=s.createElement("paragraph");s.insert($,s.createPositionAt(h,0));for(const et of _)s.move(s.createRangeOn(et),s.createPositionAt($,"end"))}},{priority:"low"})}}function aP(a){let e=0,i=0;const o=Array.from(a.getChildren()).filter(s=>s.name==="th"||s.name==="td");for(;i<o.length&&o[i].name==="th";){const s=o[i];e+=parseInt(s.getAttribute("colspan")||1),i++}return e}class uo{constructor(e,i={}){this._table=e,this._startRow=i.row!==void 0?i.row:i.startRow||0,this._endRow=i.row!==void 0?i.row:i.endRow,this._startColumn=i.column!==void 0?i.column:i.startColumn||0,this._endColumn=i.column!==void 0?i.column:i.endColumn,this._includeAllSlots=!!i.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let i=null;const o=this._getSpanned();if(o)this._includeAllSlots&&!this._shouldSkipSlot()&&(i=this._formatOutValue(o.cell,o.row,o.column));else{const s=e.getChild(this._cellIndex);if(!s)return this._advanceToNextRow();const h=parseInt(s.getAttribute("colspan")||1),g=parseInt(s.getAttribute("rowspan")||1);(h>1||g>1)&&this._recordSpans(s,g,h),this._shouldSkipSlot()||(i=this._formatOutValue(s)),this._nextCellAtColumn=this._column+h}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,i||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,i=this._row,o=this._column){return{done:!1,value:new lP(this,e,i,o)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),i=this._row<this._startRow,o=this._column<this._startColumn,s=this._endColumn!==void 0&&this._column>this._endColumn;return e||i||o||s}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,i,o){const s={cell:e,row:this._row,column:this._column};for(let h=this._row;h<this._row+i;h++)for(let g=this._column;g<this._column+o;g++)h==this._row&&g==this._column||this._markSpannedCell(h,g,s)}_markSpannedCell(e,i,o){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(i,o)}}class lP{constructor(e,i,o,s){this.cell=i,this.row=e._row,this.column=e._column,this.cellAnchorRow=o,this.cellAnchorColumn=s,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||1)}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||1)}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function p1(a,e={}){return(i,{writer:o})=>{const s=i.getAttribute("headingRows")||0,h=[];s>0&&h.push(o.createContainerElement("thead",null,o.createSlot(_=>_.is("element","tableRow")&&_.index<s))),s<a.getRows(i)&&h.push(o.createContainerElement("tbody",null,o.createSlot(_=>_.is("element","tableRow")&&_.index>=s)));const g=o.createContainerElement("figure",{class:"table"},[o.createContainerElement("table",null,h),o.createSlot(_=>!_.is("element","tableRow"))]);return e.asWidget?function(_,$){return $.setCustomProperty("table",!0,_),Dw(_,$,{hasSelectionHandle:!0})}(g,o):g}}function f1(a={}){return(e,{writer:i})=>{const o=e.parent,s=o.parent,h=s.getChildIndex(o),g=new uo(s,{row:h}),_=s.getAttribute("headingRows")||0,$=s.getAttribute("headingColumns")||0;for(const et of g)if(et.cell==e){const tt=et.row<_||et.column<$?"th":"td";return a.asWidget?ZA(i.createEditableElement(tt),i):i.createContainerElement(tt)}}}function g1(a={}){return(e,{writer:i})=>{if(e.parent.is("element","tableCell")&&m1(e)){if(a.asWidget)return i.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const o=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,o),o}}}}function m1(a){return a.parent.childCount==1&&![...a.getAttributeKeys()].length}class cP extends Jn{refresh(){const e=this.editor.model,i=e.document.selection,o=e.schema;this.isEnabled=function(s,h){const g=s.getFirstPosition().parent,_=g===g.root?g:g.parent;return h.checkChild(_,"table")}(i,o)}execute(e={}){const i=this.editor.model,o=this.editor.plugins.get("TableUtils"),s=this.editor.config.get("table"),h=s.defaultHeadings.rows,g=s.defaultHeadings.columns;e.headingRows===void 0&&h&&(e.headingRows=h),e.headingColumns===void 0&&g&&(e.headingColumns=g),i.change(_=>{const $=o.createTable(_,e);i.insertObject($,null,null,{findOptimalPosition:"auto"}),_.setSelection(_.createPositionAt($.getNodeByPath([0,0,0]),0))})}}class k1 extends Jn{constructor(e,i={}){super(e),this.order=i.order||"below"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,i=e.model.document.selection,o=e.plugins.get("TableUtils"),s=this.order==="above",h=o.getSelectionAffectedTableCells(i),g=o.getRowIndexes(h),_=s?g.first:g.last,$=h[0].findAncestor("table");o.insertRows($,{at:s?_:_+1,copyStructureFromAbove:!s})}}class b1 extends Jn{constructor(e,i={}){super(e),this.order=i.order||"right"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,i=e.model.document.selection,o=e.plugins.get("TableUtils"),s=this.order==="left",h=o.getSelectionAffectedTableCells(i),g=o.getColumnIndexes(h),_=s?g.first:g.last,$=h[0].findAncestor("table");o.insertColumns($,{columns:1,at:s?_:_+1})}}class w1 extends Jn{constructor(e,i={}){super(e),this.direction=i.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(i,2):e.splitCellVertically(i,2)}}function _1(a,e,i){const{startRow:o,startColumn:s,endRow:h,endColumn:g}=e,_=i.createElement("table"),$=h-o+1;for(let tt=0;tt<$;tt++)i.insertElement("tableRow",_,"end");const et=[...new uo(a,{startRow:o,endRow:h,startColumn:s,endColumn:g,includeAllSlots:!0})];for(const{row:tt,column:ot,cell:dt,isAnchor:At,cellAnchorRow:St,cellAnchorColumn:Dt}of et){const Ft=tt-o,Yt=_.getChild(Ft);if(At){const cn=i.cloneElement(dt);i.append(cn,Yt),E1(cn,tt,ot,h,g,i)}else(St<o||Dt<s)&&Ls(i,i.createPositionAt(Yt,"end"))}return function(tt,ot,dt,At,St){const Dt=parseInt(ot.getAttribute("headingRows")||0);Dt>0&&Oo("headingRows",Dt-dt,tt,St,0);const Ft=parseInt(ot.getAttribute("headingColumns")||0);Ft>0&&Oo("headingColumns",Ft-At,tt,St,0)}(_,a,o,s,i),_}function v1(a,e,i=0){const o=[],s=new uo(a,{startRow:i,endRow:e-1});for(const h of s){const{row:g,cellHeight:_}=h;g<e&&e<=g+_-1&&o.push(h)}return o}function A1(a,e,i){const o=a.parent,s=o.parent,h=o.index,g=e-h,_={},$=parseInt(a.getAttribute("rowspan"))-g;$>1&&(_.rowspan=$);const et=parseInt(a.getAttribute("colspan")||1);et>1&&(_.colspan=et);const tt=h+g,ot=[...new uo(s,{startRow:h,endRow:tt,includeAllSlots:!0})];let dt,At=null;for(const St of ot){const{row:Dt,column:Ft,cell:Yt}=St;Yt===a&&dt===void 0&&(dt=Ft),dt!==void 0&&dt===Ft&&Dt===tt&&(At=Ls(i,St.getPositionBefore(),_))}return Oo("rowspan",g,a,i),At}function y1(a,e){const i=[],o=new uo(a);for(const s of o){const{column:h,cellWidth:g}=s;h<e&&e<=h+g-1&&i.push(s)}return i}function C1(a,e,i,o){const s=i-e,h={},g=parseInt(a.getAttribute("colspan"))-s;g>1&&(h.colspan=g);const _=parseInt(a.getAttribute("rowspan")||1);_>1&&(h.rowspan=_);const $=Ls(o,o.createPositionAfter(a),h);return Oo("colspan",s,a,o),$}function E1(a,e,i,o,s,h){const g=parseInt(a.getAttribute("colspan")||1),_=parseInt(a.getAttribute("rowspan")||1);i+g-1>s&&Oo("colspan",s-i+1,a,h,1),e+_-1>o&&Oo("rowspan",o-e+1,a,h,1)}function Yw(a,e){const i=e.getColumns(a),o=new Array(i).fill(0);for(const{column:h}of new uo(a))o[h]++;const s=o.reduce((h,g,_)=>g?h:[...h,_],[]);if(s.length>0){const h=s[s.length-1];return e.removeColumns(a,{at:h}),!0}return!1}function Qw(a,e){const i=[],o=e.getRows(a);for(let s=0;s<o;s++)a.getChild(s).isEmpty&&i.push(s);if(i.length>0){const s=i[i.length-1];return e.removeRows(a,{at:s}),!0}return!1}function Zw(a,e){Yw(a,e)||Qw(a,e)}function x1(a,e){const i=Array.from(new uo(a,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(i.every(({cellHeight:s})=>s===1))return e.lastRow;const o=i[0].cellHeight-1;return e.lastRow+o}function S1(a,e){const i=Array.from(new uo(a,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(i.every(({cellWidth:s})=>s===1))return e.lastColumn;const o=i[0].cellWidth-1;return e.lastColumn+o}class Zp extends Jn{constructor(e,i){super(e),this.direction=i.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,i=e.document,o=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(i.selection)[0],s=this.value,h=this.direction;e.change(g=>{const _=h=="right"||h=="down",$=_?o:s,et=_?s:o,tt=et.parent;(function(Dt,Ft,Yt){T1(Dt)||(T1(Ft)&&Yt.remove(Yt.createRangeIn(Ft)),Yt.move(Yt.createRangeIn(Dt),Yt.createPositionAt(Ft,"end"))),Yt.remove(Dt)})(et,$,g);const ot=this.isHorizontal?"colspan":"rowspan",dt=parseInt(o.getAttribute(ot)||1),At=parseInt(s.getAttribute(ot)||1);g.setAttribute(ot,dt+At,$),g.setSelection(g.createRangeIn($));const St=this.editor.plugins.get("TableUtils");Zw(tt.findAncestor("table"),St)})}_getMergeableCell(){const e=this.editor.model.document,i=this.editor.plugins.get("TableUtils"),o=i.getTableCellsContainingSelection(e.selection)[0];if(!o)return;const s=this.isHorizontal?function(_,$,et){const tt=_.parent,ot=tt.parent,dt=$=="right"?_.nextSibling:_.previousSibling,At=(ot.getAttribute("headingColumns")||0)>0;if(!dt)return;const St=$=="right"?_:dt,Dt=$=="right"?dt:_,{column:Ft}=et.getCellLocation(St),{column:Yt}=et.getCellLocation(Dt),cn=parseInt(St.getAttribute("colspan")||1),wn=Kw(et,St),Pn=Kw(et,Dt);if(!(At&&wn!=Pn))return Ft+cn===Yt?dt:void 0}(o,this.direction,i):function(_,$,et){const tt=_.parent,ot=tt.parent,dt=ot.getChildIndex(tt);if($=="down"&&dt===et.getRows(ot)-1||$=="up"&&dt===0)return;const At=parseInt(_.getAttribute("rowspan")||1),St=ot.getAttribute("headingRows")||0,Dt=$=="down"&&dt+At===St,Ft=$=="up"&&dt===St;if(St&&(Dt||Ft))return;const Yt=parseInt(_.getAttribute("rowspan")||1),cn=$=="down"?dt+Yt:dt,wn=[...new uo(ot,{endRow:cn})],Pn=wn.find(ao=>ao.cell===_),Un=Pn.column,oo=wn.find(({row:ao,cellHeight:Vo,column:Go})=>Go===Un&&($=="down"?ao===cn:cn===ao+Vo));return oo&&oo.cell}(o,this.direction,i);if(!s)return;const h=this.isHorizontal?"rowspan":"colspan",g=parseInt(o.getAttribute(h)||1);return parseInt(s.getAttribute(h)||1)===g?s:void 0}}function T1(a){return a.childCount==1&&a.getChild(0).is("element","paragraph")&&a.getChild(0).isEmpty}class dP extends Jn{refresh(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection),o=i[0];if(o){const s=o.findAncestor("table"),h=this.editor.plugins.get("TableUtils").getRows(s)-1,g=e.getRowIndexes(i),_=g.first===0&&g.last===h;this.isEnabled=!_}else this.isEnabled=!1}execute(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),o=i.getSelectionAffectedTableCells(e.document.selection),s=i.getRowIndexes(o),h=o[0],g=h.findAncestor("table"),_=i.getCellLocation(h).column;e.change($=>{const et=s.last-s.first+1;i.removeRows(g,{at:s.first,rows:et});const tt=function(ot,dt,At,St){const Dt=ot.getChild(Math.min(dt,St-1));let Ft=Dt.getChild(0),Yt=0;for(const cn of Dt.getChildren()){if(Yt>At)return Ft;Ft=cn,Yt+=parseInt(cn.getAttribute("colspan")||1)}return Ft}(g,s.first,_,i.getRows(g));$.setSelection($.createPositionAt(tt,0))})}}class uP extends Jn{refresh(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection),o=i[0];if(o){const s=o.findAncestor("table"),h=e.getColumns(s),{first:g,last:_}=e.getColumnIndexes(i);this.isEnabled=_-g<h-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[i,o]=function($,et){const tt=et.getSelectionAffectedTableCells($),ot=tt[0],dt=tt.pop(),At=[ot,dt];return ot.isBefore(dt)?At:At.reverse()}(this.editor.model.document.selection,e),s=i.parent.parent,h=[...new uo(s)],g={first:h.find($=>$.cell===i).column,last:h.find($=>$.cell===o).column},_=function($,et,tt,ot){return parseInt(tt.getAttribute("colspan")||1)>1?tt:et.previousSibling||tt.nextSibling?tt.nextSibling||et.previousSibling:ot.first?$.reverse().find(({column:At})=>At<ot.first).cell:$.reverse().find(({column:At})=>At>ot.last).cell}(h,i,o,g);this.editor.model.change($=>{const et=g.last-g.first+1;this.editor.plugins.get("TableUtils").removeColumns(s,{at:g.first,columns:et}),$.setSelection($.createPositionAt(_,0))})}}class hP extends Jn{refresh(){const e=this.editor.plugins.get("TableUtils"),i=this.editor.model,o=e.getSelectionAffectedTableCells(i.document.selection),s=o.length>0;this.isEnabled=s,this.value=s&&o.every(h=>this._isInHeading(h,h.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),o=this.editor.model,s=i.getSelectionAffectedTableCells(o.document.selection),h=s[0].findAncestor("table"),{first:g,last:_}=i.getRowIndexes(s),$=this.value?g:_+1,et=h.getAttribute("headingRows")||0;o.change(tt=>{if($){const ot=v1(h,$,$>et?et:0);for(const{cell:dt}of ot)A1(dt,$,tt)}Oo("headingRows",$,h,tt,0)})}_isInHeading(e,i){const o=parseInt(i.getAttribute("headingRows")||0);return!!o&&e.parent.index<o}}class pP extends Jn{refresh(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),o=i.getSelectionAffectedTableCells(e.document.selection),s=o.length>0;this.isEnabled=s,this.value=s&&o.every(h=>Kw(i,h))}execute(e={}){if(e.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),o=this.editor.model,s=i.getSelectionAffectedTableCells(o.document.selection),h=s[0].findAncestor("table"),{first:g,last:_}=i.getColumnIndexes(s),$=this.value?g:_+1;o.change(et=>{if($){const tt=y1(h,$);for(const{cell:ot,column:dt}of tt)C1(ot,dt,$,et)}Oo("headingColumns",$,h,et,0)})}}class Yo extends In{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const i=e.parent,o=i.parent,s=o.getChildIndex(i),h=new uo(o,{row:s});for(const{cell:g,row:_,column:$}of h)if(g===e)return{row:_,column:$}}createTable(e,i){const o=e.createElement("table"),s=parseInt(i.rows)||2,h=parseInt(i.columns)||2;return Xw(e,o,0,s,h),i.headingRows&&Oo("headingRows",Math.min(i.headingRows,s),o,e,0),i.headingColumns&&Oo("headingColumns",Math.min(i.headingColumns,h),o,e,0),o}insertRows(e,i={}){const o=this.editor.model,s=i.at||0,h=i.rows||1,g=i.copyStructureFromAbove!==void 0,_=i.copyStructureFromAbove?s-1:s,$=this.getRows(e),et=this.getColumns(e);if(s>$)throw new at("tableutils-insertrows-insert-out-of-range",this,{options:i});o.change(tt=>{const ot=e.getAttribute("headingRows")||0;if(ot>s&&Oo("headingRows",ot+h,e,tt,0),!g&&(s===0||s===$))return void Xw(tt,e,s,h,et);const dt=g?Math.max(s,_):s,At=new uo(e,{endRow:dt}),St=new Array(et).fill(1);for(const{row:Dt,column:Ft,cellHeight:Yt,cellWidth:cn,cell:wn}of At){const Pn=Dt+Yt-1,Un=Dt<=_&&_<=Pn;Dt<s&&s<=Pn?(tt.setAttribute("rowspan",Yt+h,wn),St[Ft]=-cn):g&&Un&&(St[Ft]=cn)}for(let Dt=0;Dt<h;Dt++){const Ft=tt.createElement("tableRow");tt.insert(Ft,e,s);for(let Yt=0;Yt<St.length;Yt++){const cn=St[Yt],wn=tt.createPositionAt(Ft,"end");cn>0&&Ls(tt,wn,cn>1?{colspan:cn}:null),Yt+=Math.abs(cn)-1}}})}insertColumns(e,i={}){const o=this.editor.model,s=i.at||0,h=i.columns||1;o.change(g=>{const _=e.getAttribute("headingColumns");s<_&&g.setAttribute("headingColumns",_+h,e);const $=this.getColumns(e);if(s===0||$===s){for(const tt of e.getChildren())tt.is("element","tableRow")&&Ol(h,g,g.createPositionAt(tt,s?"end":0));return}const et=new uo(e,{column:s,includeAllSlots:!0});for(const tt of et){const{row:ot,cell:dt,cellAnchorColumn:At,cellAnchorRow:St,cellWidth:Dt,cellHeight:Ft}=tt;if(At<s){g.setAttribute("colspan",Dt+h,dt);const Yt=St+Ft-1;for(let cn=ot;cn<=Yt;cn++)et.skipRow(cn)}else Ol(h,g,tt.getPositionBefore())}})}removeRows(e,i){const o=this.editor.model,s=i.rows||1,h=this.getRows(e),g=i.at,_=g+s-1;if(_>h-1)throw new at("tableutils-removerows-row-index-out-of-range",this,{table:e,options:i});o.change($=>{const{cellsToMove:et,cellsToTrim:tt}=function(ot,dt,At){const St=new Map,Dt=[];for(const{row:Ft,column:Yt,cellHeight:cn,cell:wn}of new uo(ot,{endRow:At})){const Pn=Ft+cn-1;if(Ft>=dt&&Ft<=At&&Pn>At){const Un=cn-(At-Ft+1);St.set(Yt,{cell:wn,rowspan:Un})}if(Ft<dt&&Pn>=dt){let Un;Un=Pn>=At?At-dt+1:Pn-dt+1,Dt.push({cell:wn,rowspan:cn-Un})}}return{cellsToMove:St,cellsToTrim:Dt}}(e,g,_);et.size&&function(ot,dt,At,St){const Dt=new uo(ot,{includeAllSlots:!0,row:dt}),Ft=[...Dt],Yt=ot.getChild(dt);let cn;for(const{column:wn,cell:Pn,isAnchor:Un}of Ft)if(At.has(wn)){const{cell:oo,rowspan:ao}=At.get(wn),Vo=cn?St.createPositionAfter(cn):St.createPositionAt(Yt,0);St.move(St.createRangeOn(oo),Vo),Oo("rowspan",ao,oo,St),cn=oo}else Un&&(cn=Pn)}(e,_+1,et,$);for(let ot=_;ot>=g;ot--)$.remove(e.getChild(ot));for(const{rowspan:ot,cell:dt}of tt)Oo("rowspan",ot,dt,$);(function(ot,dt,At,St){const Dt=ot.getAttribute("headingRows")||0;dt<Dt&&Oo("headingRows",At<Dt?Dt-(At-dt+1):dt,ot,St,0)})(e,g,_,$),Yw(e,this)||Qw(e,this)})}removeColumns(e,i){const o=this.editor.model,s=i.at,h=i.columns||1,g=i.at+h-1;o.change(_=>{(function($,et,tt){const ot=$.getAttribute("headingColumns")||0;if(ot&&et.first<ot){const dt=Math.min(ot-1,et.last)-et.first+1;tt.setAttribute("headingColumns",ot-dt,$)}})(e,{first:s,last:g},_);for(let $=g;$>=s;$--)for(const{cell:et,column:tt,cellWidth:ot}of[...new uo(e)])tt<=$&&ot>1&&tt+ot>$?Oo("colspan",ot-1,et,_):tt===$&&_.remove(et);Qw(e,this)||Yw(e,this)})}splitCellVertically(e,i=2){const o=this.editor.model,s=e.parent.parent,h=parseInt(e.getAttribute("rowspan")||1),g=parseInt(e.getAttribute("colspan")||1);o.change(_=>{if(g>1){const{newCellsSpan:$,updatedSpan:et}=D1(g,i);Oo("colspan",et,e,_);const tt={};$>1&&(tt.colspan=$),h>1&&(tt.rowspan=h),Ol(g>i?i-1:g-1,_,_.createPositionAfter(e),tt)}if(g<i){const $=i-g,et=[...new uo(s)],{column:tt}=et.find(({cell:St})=>St===e),ot=et.filter(({cell:St,cellWidth:Dt,column:Ft})=>St!==e&&Ft===tt||Ft<tt&&Ft+Dt>tt);for(const{cell:St,cellWidth:Dt}of ot)_.setAttribute("colspan",Dt+$,St);const dt={};h>1&&(dt.rowspan=h),Ol($,_,_.createPositionAfter(e),dt);const At=s.getAttribute("headingColumns")||0;At>tt&&Oo("headingColumns",At+$,s,_)}})}splitCellHorizontally(e,i=2){const o=this.editor.model,s=e.parent,h=s.parent,g=h.getChildIndex(s),_=parseInt(e.getAttribute("rowspan")||1),$=parseInt(e.getAttribute("colspan")||1);o.change(et=>{if(_>1){const tt=[...new uo(h,{startRow:g,endRow:g+_-1,includeAllSlots:!0})],{newCellsSpan:ot,updatedSpan:dt}=D1(_,i);Oo("rowspan",dt,e,et);const{column:At}=tt.find(({cell:Dt})=>Dt===e),St={};ot>1&&(St.rowspan=ot),$>1&&(St.colspan=$);for(const Dt of tt){const{column:Ft,row:Yt}=Dt;Yt>=g+dt&&Ft===At&&(Yt+g+dt)%ot==0&&Ol(1,et,Dt.getPositionBefore(),St)}}if(_<i){const tt=i-_,ot=[...new uo(h,{startRow:0,endRow:g})];for(const{cell:St,cellHeight:Dt,row:Ft}of ot)if(St!==e&&Ft+Dt>g){const Yt=Dt+tt;et.setAttribute("rowspan",Yt,St)}const dt={};$>1&&(dt.colspan=$),Xw(et,h,g+1,tt,1,dt);const At=h.getAttribute("headingRows")||0;At>g&&Oo("headingRows",At+tt,h,et)}})}getColumns(e){return[...e.getChild(0).getChildren()].reduce((i,o)=>i+parseInt(o.getAttribute("colspan")||1),0)}getRows(e){return Array.from(e.getChildren()).reduce((i,o)=>o.is("element","tableRow")?i+1:i,0)}createTableWalker(e,i={}){return new uo(e,i)}getSelectedTableCells(e){const i=[];for(const o of this.sortRanges(e.getRanges())){const s=o.getContainedElement();s&&s.is("element","tableCell")&&i.push(s)}return i}getTableCellsContainingSelection(e){const i=[];for(const o of e.getRanges()){const s=o.start.findAncestor("tableCell");s&&i.push(s)}return i}getSelectionAffectedTableCells(e){const i=this.getSelectedTableCells(e);return i.length?i:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const i=e.map(o=>o.parent.index);return this._getFirstLastIndexesObject(i)}getColumnIndexes(e){const i=e[0].findAncestor("table"),o=[...new uo(i)].filter(s=>e.includes(s.cell)).map(s=>s.column);return this._getFirstLastIndexesObject(o)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const i=new Set,o=new Set;let s=0;for(const g of e){const{row:_,column:$}=this.getCellLocation(g),et=parseInt(g.getAttribute("rowspan")||1),tt=parseInt(g.getAttribute("colspan")||1);i.add(_),o.add($),et>1&&i.add(_+et-1),tt>1&&o.add($+tt-1),s+=et*tt}return function(g,_){const $=Array.from(g.values()),et=Array.from(_.values()),tt=Math.max(...$),ot=Math.min(...$),dt=Math.max(...et),At=Math.min(...et);return(tt-ot+1)*(dt-At+1)}(i,o)==s}sortRanges(e){return Array.from(e).sort(fP)}_getFirstLastIndexesObject(e){const i=e.sort((o,s)=>o-s);return{first:i[0],last:i[i.length-1]}}_areCellInTheSameTableSection(e){const i=e[0].findAncestor("table"),o=this.getRowIndexes(e),s=parseInt(i.getAttribute("headingRows")||0);if(!this._areIndexesInSameSection(o,s))return!1;const h=parseInt(i.getAttribute("headingColumns")||0),g=this.getColumnIndexes(e);return this._areIndexesInSameSection(g,h)}_areIndexesInSameSection({first:e,last:i},o){return e<o==i<o}}function Xw(a,e,i,o,s,h={}){for(let g=0;g<o;g++){const _=a.createElement("tableRow");a.insert(_,e,i),Ol(s,a,a.createPositionAt(_,"end"),h)}}function Ol(a,e,i,o={}){for(let s=0;s<a;s++)Ls(e,i,o)}function D1(a,e){if(a<e)return{newCellsSpan:1,updatedSpan:1};const i=Math.floor(a/e);return{newCellsSpan:i,updatedSpan:a-i*e+i}}function fP(a,e){const i=a.start,o=e.start;return i.isBefore(o)?-1:1}class gP extends Jn{refresh(){const e=this.editor.plugins.get(Yo),i=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(i,this.editor.plugins.get(Yo))}execute(){const e=this.editor.model,i=this.editor.plugins.get(Yo);e.change(o=>{const s=i.getSelectedTableCells(e.document.selection),h=s.shift(),{mergeWidth:g,mergeHeight:_}=function($,et,tt){let ot=0,dt=0;for(const Yt of et){const{row:cn,column:wn}=tt.getCellLocation(Yt);ot=M1(Yt,wn,ot,"colspan"),dt=M1(Yt,cn,dt,"rowspan")}const{row:At,column:St}=tt.getCellLocation($),Dt=ot-St,Ft=dt-At;return{mergeWidth:Dt,mergeHeight:Ft}}(h,s,i);Oo("colspan",g,h,o),Oo("rowspan",_,h,o);for(const $ of s)mP($,h,o);Zw(h.findAncestor("table"),i),o.setSelection(h,"in")})}}function mP(a,e,i){I1(a)||(I1(e)&&i.remove(i.createRangeIn(e)),i.move(i.createRangeIn(a),i.createPositionAt(e,"end"))),i.remove(a)}function I1(a){return a.childCount==1&&a.getChild(0).is("element","paragraph")&&a.getChild(0).isEmpty}function M1(a,e,i,o){const s=parseInt(a.getAttribute(o)||1);return Math.max(i,e+s)}class kP extends Jn{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),o=i.getSelectionAffectedTableCells(e.document.selection),s=i.getRowIndexes(o),h=o[0].findAncestor("table"),g=[];for(let _=s.first;_<=s.last;_++)for(const $ of h.getChild(_).getChildren())g.push(e.createRangeOn($));e.change(_=>{_.setSelection(g)})}}class bP extends Jn{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),i=this.editor.model,o=e.getSelectionAffectedTableCells(i.document.selection),s=o[0],h=o.pop(),g=s.findAncestor("table"),_=e.getCellLocation(s),$=e.getCellLocation(h),et=Math.min(_.column,$.column),tt=Math.max(_.column,$.column),ot=[];for(const dt of new uo(g,{startColumn:et,endColumn:tt}))ot.push(i.createRangeOn(dt.cell));i.change(dt=>{dt.setSelection(ot)})}}function wP(a){a.document.registerPostFixer(e=>function(i,o){const s=o.document.differ.getChanges();let h=!1;const g=new Set;for(const _ of s){let $;_.name=="table"&&_.type=="insert"&&($=_.position.nodeAfter),_.name!="tableRow"&&_.name!="tableCell"||($=_.position.findAncestor("table")),AP(_)&&($=_.range.start.findAncestor("table")),$&&!g.has($)&&(h=_P($,i)||h,h=vP($,i)||h,g.add($))}return h}(e,a))}function _P(a,e){let i=!1;const o=function(s){const h=parseInt(s.getAttribute("headingRows")||0),g=Array.from(s.getChildren()).reduce(($,et)=>et.is("element","tableRow")?$+1:$,0),_=[];for(const{row:$,cell:et,cellHeight:tt}of new uo(s)){if(tt<2)continue;const ot=$<h?h:g;if($+tt>ot){const dt=ot-$;_.push({cell:et,rowspan:dt})}}return _}(a);if(o.length){i=!0;for(const s of o)Oo("rowspan",s.rowspan,s.cell,e,1)}return i}function vP(a,e){let i=!1;const o=function(_){const $=new Array(_.childCount).fill(0);for(const{rowIndex:et}of new uo(_,{includeAllSlots:!0}))$[et]++;return $}(a),s=[];for(const[_,$]of o.entries())!$&&a.getChild(_).is("element","tableRow")&&s.push(_);if(s.length){i=!0;for(const _ of s.reverse())e.remove(a.getChild(_)),o.splice(_,1)}const h=o.filter((_,$)=>a.getChild($).is("element","tableRow")),g=h[0];if(!h.every(_=>_===g)){const _=h.reduce(($,et)=>et>$?et:$,0);for(const[$,et]of h.entries()){const tt=_-et;if(tt){for(let ot=0;ot<tt;ot++)Ls(e,e.createPositionAt(a.getChild($),"end"));i=!0}}}return i}function AP(a){const e=a.type==="attribute",i=a.attributeKey;return e&&(i==="headingRows"||i==="colspan"||i==="rowspan")}function yP(a){a.document.registerPostFixer(e=>function(i,o){const s=o.document.differ.getChanges();let h=!1;for(const g of s)g.type=="insert"&&g.name=="table"&&(h=CP(g.position.nodeAfter,i)||h),g.type=="insert"&&g.name=="tableRow"&&(h=P1(g.position.nodeAfter,i)||h),g.type=="insert"&&g.name=="tableCell"&&(h=Jw(g.position.nodeAfter,i)||h),EP(g)&&(h=Jw(g.position.parent,i)||h);return h}(e,a))}function CP(a,e){let i=!1;for(const o of a.getChildren())o.is("element","tableRow")&&(i=P1(o,e)||i);return i}function P1(a,e){let i=!1;for(const o of a.getChildren())i=Jw(o,e)||i;return i}function Jw(a,e){if(a.childCount==0)return e.insertElement("paragraph",a),!0;const i=Array.from(a.getChildren()).filter(o=>o.is("$text"));for(const o of i)e.wrap(e.createRangeOn(o),"paragraph");return!!i.length}function EP(a){return!(!a.position||!a.position.parent.is("element","tableCell"))&&(a.type=="insert"&&a.name=="$text"||a.type=="remove")}function xP(a,e){if(!a.is("element","paragraph"))return!1;const i=e.toViewElement(a);return!!i&&m1(a)!==i.is("element","span")}var N1=_e(3881),SP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(N1.Z,SP),N1.Z.locals;class TP extends In{static get pluginName(){return"TableEditing"}static get requires(){return[Yo]}init(){const e=this.editor,i=e.model,o=i.schema,s=e.conversion,h=e.plugins.get(Yo);o.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),o.register("tableRow",{allowIn:"table",isLimit:!0}),o.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),s.for("upcast").add(g=>{g.on("element:figure",(_,$,et)=>{if(!et.consumable.test($.viewItem,{name:!0,classes:"table"}))return;const tt=function(dt){for(const At of dt.getChildren())if(At.is("element","table"))return At}($.viewItem);if(!tt||!et.consumable.test(tt,{name:!0}))return;et.consumable.consume($.viewItem,{name:!0,classes:"table"});const ot=jo(et.convertItem(tt,$.modelCursor).modelRange.getItems());ot?(et.convertChildren($.viewItem,et.writer.createPositionAt(ot,"end")),et.updateConversionResult(ot,$)):et.consumable.revert($.viewItem,{name:!0,classes:"table"})})}),s.for("upcast").add(sP()),s.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:p1(h,{asWidget:!0})}),s.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:p1(h)}),s.for("upcast").elementToElement({model:"tableRow",view:"tr"}),s.for("upcast").add(g=>{g.on("element:tr",(_,$)=>{$.viewItem.isEmpty&&$.modelCursor.index==0&&_.stop()},{priority:"high"})}),s.for("downcast").elementToElement({model:"tableRow",view:(g,{writer:_})=>g.isEmpty?_.createEmptyElement("tr"):_.createContainerElement("tr")}),s.for("upcast").elementToElement({model:"tableCell",view:"td"}),s.for("upcast").elementToElement({model:"tableCell",view:"th"}),s.for("upcast").add(h1("td")),s.for("upcast").add(h1("th")),s.for("editingDowncast").elementToElement({model:"tableCell",view:f1({asWidget:!0})}),s.for("dataDowncast").elementToElement({model:"tableCell",view:f1()}),s.for("editingDowncast").elementToElement({model:"paragraph",view:g1({asWidget:!0}),converterPriority:"high"}),s.for("dataDowncast").elementToElement({model:"paragraph",view:g1(),converterPriority:"high"}),s.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),s.for("upcast").attributeToAttribute({model:{key:"colspan",value:R1("colspan")},view:"colspan"}),s.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),s.for("upcast").attributeToAttribute({model:{key:"rowspan",value:R1("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new cP(e)),e.commands.add("insertTableRowAbove",new k1(e,{order:"above"})),e.commands.add("insertTableRowBelow",new k1(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new b1(e,{order:"left"})),e.commands.add("insertTableColumnRight",new b1(e,{order:"right"})),e.commands.add("removeTableRow",new dP(e)),e.commands.add("removeTableColumn",new uP(e)),e.commands.add("splitTableCellVertically",new w1(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new w1(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new gP(e)),e.commands.add("mergeTableCellRight",new Zp(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new Zp(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new Zp(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new Zp(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new pP(e)),e.commands.add("setTableRowHeader",new hP(e)),e.commands.add("selectTableRow",new kP(e)),e.commands.add("selectTableColumn",new bP(e)),wP(i),yP(i),this.listenTo(i.document,"change:data",()=>{(function(g,_){const $=g.document.differ;for(const et of $.getChanges()){let tt,ot=!1;if(et.type=="attribute"){const Dt=et.range.start.nodeAfter;if(!Dt||!Dt.is("element","table")||et.attributeKey!="headingRows"&&et.attributeKey!="headingColumns")continue;tt=Dt,ot=et.attributeKey=="headingRows"}else et.name!="tableRow"&&et.name!="tableCell"||(tt=et.position.findAncestor("table"),ot=et.name=="tableRow");if(!tt)continue;const dt=tt.getAttribute("headingRows")||0,At=tt.getAttribute("headingColumns")||0,St=new uo(tt);for(const Dt of St){const Ft=Dt.row<dt||Dt.column<At?"th":"td",Yt=_.mapper.toViewElement(Dt.cell);Yt&&Yt.is("element")&&Yt.name!=Ft&&_.reconvertItem(ot?Dt.cell.parent:Dt.cell)}}})(i,e.editing),function(g,_){const $=g.document.differ,et=new Set;for(const tt of $.getChanges()){const ot=tt.type=="attribute"?tt.range.start.parent:tt.position.parent;ot.is("element","tableCell")&&et.add(ot)}for(const tt of et.values()){const ot=Array.from(tt.getChildren()).filter(dt=>xP(dt,_.mapper));for(const dt of ot)_.reconvertItem(dt)}}(i,e.editing)})}}function R1(a){return e=>{const i=parseInt(e.getAttribute(a));return Number.isNaN(i)||i<=0?null:i}}var O1=_e(1613),DP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(O1.Z,DP),O1.Z.locals;class IP extends eo{constructor(e){super(e);const i=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new Sr,this.focusTracker=new dr,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(o,s)=>`${s}  ${o}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":i.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:i.to("label")}]}],on:{mousedown:i.to(o=>{o.preventDefault()}),click:i.to(()=>{this.fire("execute")})}}),this.on("boxover",(o,s)=>{const{row:h,column:g}=s.target.dataset;this.items.get(10*(parseInt(h,10)-1)+(parseInt(g,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(o,s,h)=>{if(!h)return;const{row:g,column:_}=h.dataset;this.set({rows:parseInt(g),columns:parseInt(_)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),function({keystrokeHandler:e,focusTracker:i,gridItems:o,numberOfColumns:s,uiLanguageDirection:h}){const g=typeof s=="number"?()=>s:s;function _(tt){return ot=>{const dt=o.find(Dt=>Dt.element===i.focusedElement),At=o.getIndex(dt),St=tt(At,o);o.get(St).focus(),ot.stopPropagation(),ot.preventDefault()}}function $(tt,ot){return tt===ot-1?0:tt+1}function et(tt,ot){return tt===0?ot-1:tt-1}e.set("arrowright",_((tt,ot)=>h==="rtl"?et(tt,ot.length):$(tt,ot.length))),e.set("arrowleft",_((tt,ot)=>h==="rtl"?$(tt,ot.length):et(tt,ot.length))),e.set("arrowup",_((tt,ot)=>{let dt=tt-g();return dt<0&&(dt=tt+g()*Math.floor(ot.length/g()),dt>ot.length-1&&(dt-=g())),dt})),e.set("arrowdown",_((tt,ot)=>{let dt=tt+g();return dt>ot.length-1&&(dt=tt%g()),dt}))}({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,i=this.columns;this.items.map((o,s)=>{const h=Math.floor(s/10)<e&&s%10<i;o.set("isOn",h)})}_createGridButton(e,i,o,s){const h=new vo(e);return h.set({label:s,class:"ck-insert-table-dropdown-grid-box"}),h.extendTemplate({attributes:{"data-row":i,"data-column":o}}),h}_createGridCollection(){const e=[];for(let i=0;i<100;i++){const o=Math.floor(i/10),s=i%10,h=`${o+1}  ${s+1}`;e.push(this._createGridButton(this.locale,o+1,s+1,h))}return this.createCollection(e)}}class MP extends In{static get pluginName(){return"TableUI"}init(){const e=this.editor,i=this.editor.t,o=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",s=>{const h=e.commands.get("insertTable"),g=cs(s);let _;return g.bind("isEnabled").to(h),g.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:i("Insert table"),tooltip:!0}),g.on("change:isOpen",()=>{_||(_=new IP(s),g.panelView.children.add(_),_.delegate("execute").to(g),g.on("execute",()=>{e.execute("insertTable",{rows:_.rows,columns:_.columns}),e.editing.view.focus()}))}),g}),e.ui.componentFactory.add("tableColumn",s=>{const h=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:i("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:o?"insertTableColumnLeft":"insertTableColumnRight",label:i("Insert column left")}},{type:"button",model:{commandName:o?"insertTableColumnRight":"insertTableColumnLeft",label:i("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:i("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:i("Select column")}}];return this._prepareDropdown(i("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',h,s)}),e.ui.componentFactory.add("tableRow",s=>{const h=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:i("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:i("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:i("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:i("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:i("Select row")}}];return this._prepareDropdown(i("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',h,s)}),e.ui.componentFactory.add("mergeTableCells",s=>{const h=[{type:"button",model:{commandName:"mergeTableCellUp",label:i("Merge cell up")}},{type:"button",model:{commandName:o?"mergeTableCellRight":"mergeTableCellLeft",label:i("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:i("Merge cell down")}},{type:"button",model:{commandName:o?"mergeTableCellLeft":"mergeTableCellRight",label:i("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:i("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:i("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(i("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',h,s)})}_prepareDropdown(e,i,o,s){const h=this.editor,g=cs(s),_=this._fillDropdownWithListOptions(g,o);return g.buttonView.set({label:e,icon:i,tooltip:!0}),g.bind("isEnabled").toMany(_,"isEnabled",(...$)=>$.some(et=>et)),this.listenTo(g,"execute",$=>{h.execute($.source.commandName),$.source instanceof wp||h.editing.view.focus()}),g}_prepareMergeSplitButtonDropdown(e,i,o,s){const h=this.editor,g=cs(s,Lm),_="mergeTableCells",$=h.commands.get(_),et=this._fillDropdownWithListOptions(g,o);return g.buttonView.set({label:e,icon:i,tooltip:!0,isEnabled:!0}),g.bind("isEnabled").toMany([$,...et],"isEnabled",(...tt)=>tt.some(ot=>ot)),this.listenTo(g.buttonView,"execute",()=>{h.execute(_),h.editing.view.focus()}),this.listenTo(g,"execute",tt=>{h.execute(tt.source.commandName),h.editing.view.focus()}),g}_fillDropdownWithListOptions(e,i){const o=this.editor,s=[],h=new mr;for(const g of i)PP(g,o,s,h);return aA(e,h),s}}function PP(a,e,i,o){const s=a.model=new yA(a.model),{commandName:h,bindIsOn:g}=a.model;if(a.type==="button"||a.type==="switchbutton"){const _=e.commands.get(h);i.push(_),s.set({commandName:h}),s.bind("isEnabled").to(_),g&&s.bind("isOn").to(_,"value")}s.set({withText:!0}),o.add(a)}var L1=_e(6945),NP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(L1.Z,NP),L1.Z.locals;class Bs extends In{static get pluginName(){return"TableSelection"}static get requires(){return[Yo,Yo]}init(){const e=this.editor,i=e.model,o=e.editing.view;this.listenTo(i,"deleteContent",(s,h)=>this._handleDeleteContent(s,h),{priority:"high"}),this.listenTo(o.document,"insertText",(s,h)=>this._handleInsertTextEvent(s,h),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(Yo),i=this.editor.model.document.selection,o=e.getSelectedTableCells(i);return o.length==0?null:o}getSelectionAsFragment(){const e=this.editor.plugins.get(Yo),i=this.getSelectedTableCells();return i?this.editor.model.change(o=>{const s=o.createDocumentFragment(),{first:h,last:g}=e.getColumnIndexes(i),{first:_,last:$}=e.getRowIndexes(i),et=i[0].findAncestor("table");let tt=$,ot=g;if(e.isSelectionRectangular(i)){const At={firstColumn:h,lastColumn:g,firstRow:_,lastRow:$};tt=x1(et,At),ot=S1(et,At)}const dt=_1(et,{startRow:_,startColumn:h,endRow:tt,endColumn:ot},o);return o.insert(dt,s,0),s}):null}setCellSelection(e,i){const o=this._getCellsToSelect(e,i);this.editor.model.change(s=>{s.setSelection(o.cells.map(h=>s.createRangeOn(h)),{backward:o.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=jo(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,i=new Set;e.conversion.for("editingDowncast").add(o=>o.on("selection",(s,h,g)=>{const _=g.writer;(function(tt){for(const ot of i)tt.removeClass("ck-editor__editable_selected",ot);i.clear()})(_);const $=this.getSelectedTableCells();if(!$)return;for(const tt of $){const ot=g.mapper.toViewElement(tt);_.addClass("ck-editor__editable_selected",ot),i.add(ot)}const et=g.mapper.toViewElement($[$.length-1]);_.setSelection(et,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const i=this.getSelectedTableCells();if(!i)return;e.model.change(o=>{const s=o.createPositionAt(i[0],0),h=e.model.schema.getNearestSelectionRange(s);o.setSelection(h)})}})}_handleDeleteContent(e,i){const o=this.editor.plugins.get(Yo),[s,h]=i,g=this.editor.model,_=!h||h.direction=="backward",$=o.getSelectedTableCells(s);$.length&&(e.stop(),g.change(et=>{const tt=$[_?$.length-1:0];g.change(dt=>{for(const At of $)g.deleteContent(dt.createSelection(At,"in"))});const ot=g.schema.getNearestSelectionRange(et.createPositionAt(tt,0));s.is("documentSelection")?et.setSelection(ot):s.setTo(ot)}))}_handleInsertTextEvent(e,i){const o=this.editor,s=o.model.document.selection,h=this.getSelectedTableCells(s);if(!h)return;const g=o.editing.view,_=o.editing.mapper,$=h.map(et=>g.createRangeOn(_.toViewElement(et)));i.selection=g.createSelection($)}_getCellsToSelect(e,i){const o=this.editor.plugins.get("TableUtils"),s=o.getCellLocation(e),h=o.getCellLocation(i),g=Math.min(s.row,h.row),_=Math.max(s.row,h.row),$=Math.min(s.column,h.column),et=Math.max(s.column,h.column),tt=new Array(_-g+1).fill(null).map(()=>[]),ot={startRow:g,endRow:_,startColumn:$,endColumn:et};for(const{row:St,cell:Dt}of new uo(e.findAncestor("table"),ot))tt[St-g].push(Dt);const dt=h.row<s.row,At=h.column<s.column;return dt&&tt.reverse(),At&&tt.forEach(St=>St.reverse()),{cells:tt.flat(),backward:dt||At}}}class RP extends In{static get pluginName(){return"TableClipboard"}static get requires(){return[Bs,Yo]}init(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"copy",(o,s)=>this._onCopyCut(o,s)),this.listenTo(i,"cut",(o,s)=>this._onCopyCut(o,s)),this.listenTo(e.model,"insertContent",(o,s)=>this._onInsertContent(o,...s),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,i){const o=this.editor.plugins.get(Bs);if(!o.getSelectedTableCells()||e.name=="cut"&&this.editor.isReadOnly)return;i.preventDefault(),e.stop();const s=this.editor.data,h=this.editor.editing.view.document,g=s.toView(o.getSelectionAsFragment());h.fire("clipboardOutput",{dataTransfer:i.dataTransfer,content:g,method:e.name})}_onInsertContent(e,i,o){if(o&&!o.is("documentSelection"))return;const s=this.editor.model,h=this.editor.plugins.get(Yo);let g=B1(i,s);if(!g)return;const _=h.getSelectionAffectedTableCells(s.document.selection);_.length?(e.stop(),s.change($=>{const et={width:h.getColumns(g),height:h.getRows(g)},tt=function(Ft,Yt,cn,wn){const Pn=Ft[0].findAncestor("table"),Un=wn.getColumnIndexes(Ft),oo=wn.getRowIndexes(Ft),ao={firstColumn:Un.first,lastColumn:Un.last,firstRow:oo.first,lastRow:oo.last},Vo=Ft.length===1;return Vo&&(ao.lastRow+=Yt.height-1,ao.lastColumn+=Yt.width-1,function(Go,Ll,Br,fr){const Qr=fr.getColumns(Go),Zr=fr.getRows(Go);Br>Qr&&fr.insertColumns(Go,{at:Qr,columns:Br-Qr}),Ll>Zr&&fr.insertRows(Go,{at:Zr,rows:Ll-Zr})}(Pn,ao.lastRow+1,ao.lastColumn+1,wn)),Vo||!wn.isSelectionRectangular(Ft)?function(Go,Ll,Br){const{firstRow:fr,lastRow:Qr,firstColumn:Zr,lastColumn:Bl}=Ll,W1={first:fr,last:Qr},$1={first:Zr,last:Bl};t_(Go,Zr,W1,Br),t_(Go,Bl+1,W1,Br),e_(Go,fr,$1,Br),e_(Go,Qr+1,$1,Br,fr)}(Pn,ao,cn):(ao.lastRow=x1(Pn,ao),ao.lastColumn=S1(Pn,ao)),ao}(_,et,$,h),ot=tt.lastRow-tt.firstRow+1,dt=tt.lastColumn-tt.firstColumn+1,At={startRow:0,startColumn:0,endRow:Math.min(ot,et.height)-1,endColumn:Math.min(dt,et.width)-1};g=_1(g,At,$);const St=_[0].findAncestor("table"),Dt=this._replaceSelectedCellsWithPasted(g,et,St,tt,$);if(this.editor.plugins.get("TableSelection").isEnabled){const Ft=h.sortRanges(Dt.map(Yt=>$.createRangeOn(Yt)));$.setSelection(Ft)}else $.setSelection(Dt[0],0)})):Zw(g,h)}_replaceSelectedCellsWithPasted(e,i,o,s,h){const{width:g,height:_}=i,$=function(Ft,Yt,cn){const wn=new Array(cn).fill(null).map(()=>new Array(Yt).fill(null));for(const{column:Pn,row:Un,cell:oo}of new uo(Ft))wn[Un][Pn]=oo;return wn}(e,g,_),et=[...new uo(o,{startRow:s.firstRow,endRow:s.lastRow,startColumn:s.firstColumn,endColumn:s.lastColumn,includeAllSlots:!0})],tt=[];let ot;for(const Ft of et){const{row:Yt,column:cn}=Ft;cn===s.firstColumn&&(ot=Ft.getPositionBefore());const wn=Yt-s.firstRow,Pn=cn-s.firstColumn,Un=$[wn%_][Pn%g],oo=Un?h.cloneElement(Un):null,ao=this._replaceTableSlotCell(Ft,oo,ot,h);ao&&(E1(ao,Yt,cn,s.lastRow,s.lastColumn,h),tt.push(ao),ot=h.createPositionAfter(ao))}const dt=parseInt(o.getAttribute("headingRows")||0),At=parseInt(o.getAttribute("headingColumns")||0),St=s.firstRow<dt&&dt<=s.lastRow,Dt=s.firstColumn<At&&At<=s.lastColumn;if(St){const Ft=e_(o,dt,{first:s.firstColumn,last:s.lastColumn},h,s.firstRow);tt.push(...Ft)}if(Dt){const Ft=t_(o,At,{first:s.firstRow,last:s.lastRow},h);tt.push(...Ft)}return tt}_replaceTableSlotCell(e,i,o,s){const{cell:h,isAnchor:g}=e;return g&&s.remove(h),i?(s.insert(i,o),i):null}getTableIfOnlyTableInContent(e,i){return B1(e,i)}}function B1(a,e){if(!a.is("documentFragment")&&!a.is("element"))return null;if(a.is("element","table"))return a;if(a.childCount==1&&a.getChild(0).is("element","table"))return a.getChild(0);const i=e.createRangeIn(a);for(const o of i.getItems())if(o.is("element","table")){const s=e.createRange(i.start,e.createPositionBefore(o));if(e.hasContent(s,{ignoreWhitespaces:!0}))return null;const h=e.createRange(e.createPositionAfter(o),i.end);return e.hasContent(h,{ignoreWhitespaces:!0})?null:o}return null}function e_(a,e,i,o,s=0){if(!(e<1))return v1(a,e,s).filter(({column:h,cellWidth:g})=>F1(h,g,i)).map(({cell:h})=>A1(h,e,o))}function t_(a,e,i,o){if(!(e<1))return y1(a,e).filter(({row:s,cellHeight:h})=>F1(s,h,i)).map(({cell:s,column:h})=>C1(s,h,e,o))}function F1(a,e,i){const o=a+e-1,{first:s,last:h}=i;return a>=s&&a<=h||a<s&&o>=s}class OP extends In{static get pluginName(){return"TableKeyboard"}static get requires(){return[Bs,Yo]}init(){const e=this.editor.editing.view.document;this.listenTo(e,"arrowKey",(...i)=>this._onArrowKey(...i),{context:"table"}),this.listenTo(e,"tab",(...i)=>this._handleTabOnSelectedTable(...i),{context:"figure"}),this.listenTo(e,"tab",(...i)=>this._handleTab(...i),{context:["th","td"]})}_handleTabOnSelectedTable(e,i){const o=this.editor,s=o.model.document.selection.getSelectedElement();s&&s.is("element","table")&&(i.preventDefault(),i.stopPropagation(),e.stop(),o.model.change(h=>{h.setSelection(h.createRangeIn(s.getChild(0).getChild(0)))}))}_handleTab(e,i){const o=this.editor,s=this.editor.plugins.get(Yo),h=o.model.document.selection,g=!i.shiftKey;let _=s.getTableCellsContainingSelection(h)[0];if(_||(_=this.editor.plugins.get("TableSelection").getFocusCell()),!_)return;i.preventDefault(),i.stopPropagation(),e.stop();const $=_.parent,et=$.parent,tt=et.getChildIndex($),ot=$.getChildIndex(_),dt=ot===0;if(!g&&dt&&tt===0)return void o.model.change(Ft=>{Ft.setSelection(Ft.createRangeOn(et))});const At=ot===$.childCount-1,St=tt===s.getRows(et)-1;if(g&&St&&At&&(o.execute("insertTableRowBelow"),tt===s.getRows(et)-1))return void o.model.change(Ft=>{Ft.setSelection(Ft.createRangeOn(et))});let Dt;if(g&&At)Dt=et.getChild(tt+1).getChild(0);else if(!g&&dt){const Ft=et.getChild(tt-1);Dt=Ft.getChild(Ft.childCount-1)}else Dt=$.getChild(ot+(g?1:-1));o.model.change(Ft=>{Ft.setSelection(Ft.createRangeIn(Dt))})}_onArrowKey(e,i){const o=this.editor,s=Pm(i.keyCode,o.locale.contentLanguageDirection);this._handleArrowKeys(s,i.shiftKey)&&(i.preventDefault(),i.stopPropagation(),e.stop())}_handleArrowKeys(e,i){const o=this.editor.plugins.get(Yo),s=this.editor.model,h=s.document.selection,g=["right","down"].includes(e),_=o.getSelectedTableCells(h);if(_.length){let et;return et=i?this.editor.plugins.get("TableSelection").getFocusCell():g?_[_.length-1]:_[0],this._navigateFromCellInDirection(et,e,i),!0}const $=h.focus.findAncestor("tableCell");if(!$)return!1;if(!h.isCollapsed)if(i){if(h.isBackward==g&&!h.containsEntireContent($))return!1}else{const et=h.getSelectedElement();if(!et||!s.schema.isObject(et))return!1}return!!this._isSelectionAtCellEdge(h,$,g)&&(this._navigateFromCellInDirection($,e,i),!0)}_isSelectionAtCellEdge(e,i,o){const s=this.editor.model,h=this.editor.model.schema,g=o?e.getLastPosition():e.getFirstPosition();if(!h.getLimitElement(g).is("element","tableCell"))return s.createPositionAt(i,o?"end":0).isTouching(g);const _=s.createSelection(g);return s.modifySelection(_,{direction:o?"forward":"backward"}),g.isEqual(_.focus)}_navigateFromCellInDirection(e,i,o=!1){const s=this.editor.model,h=e.findAncestor("table"),g=[...new uo(h,{includeAllSlots:!0})],{row:_,column:$}=g[g.length-1],et=g.find(({cell:Dt})=>Dt==e);let{row:tt,column:ot}=et;switch(i){case"left":ot--;break;case"up":tt--;break;case"right":ot+=et.cellWidth;break;case"down":tt+=et.cellHeight}if(tt<0||tt>_||ot<0&&tt<=0||ot>$&&tt>=_)return void s.change(Dt=>{Dt.setSelection(Dt.createRangeOn(h))});ot<0?(ot=o?0:$,tt--):ot>$&&(ot=o?$:0,tt++);const dt=g.find(Dt=>Dt.row==tt&&Dt.column==ot).cell,At=["right","down"].includes(i),St=this.editor.plugins.get("TableSelection");if(o&&St.isEnabled){const Dt=St.getAnchorCell()||e;St.setCellSelection(Dt,dt)}else{const Dt=s.createPositionAt(dt,At?0:"end");s.change(Ft=>{Ft.setSelection(Dt)})}}}class LP extends as{constructor(e){super(e),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class BP extends In{static get pluginName(){return"TableMouse"}static get requires(){return[Bs,Yo]}init(){this.editor.editing.view.addObserver(LP),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,i=e.plugins.get(Yo);let o=!1;const s=e.plugins.get(Bs);this.listenTo(e.editing.view.document,"mousedown",(h,g)=>{const _=e.model.document.selection;if(!this.isEnabled||!s.isEnabled||!g.domEvent.shiftKey)return;const $=s.getAnchorCell()||i.getTableCellsContainingSelection(_)[0];if(!$)return;const et=this._getModelTableCellFromDomEvent(g);et&&j1($,et)&&(o=!0,s.setCellSelection($,et),g.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{o=!1}),this.listenTo(e.editing.view.document,"selectionChange",h=>{o&&h.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let i,o,s=!1,h=!1;const g=e.plugins.get(Bs);this.listenTo(e.editing.view.document,"mousedown",(_,$)=>{this.isEnabled&&g.isEnabled&&($.domEvent.shiftKey||$.domEvent.ctrlKey||$.domEvent.altKey||(i=this._getModelTableCellFromDomEvent($)))}),this.listenTo(e.editing.view.document,"mousemove",(_,$)=>{if(!$.domEvent.buttons||!i)return;const et=this._getModelTableCellFromDomEvent($);et&&j1(i,et)&&(o=et,s||o==i||(s=!0)),s&&(h=!0,g.setCellSelection(i,o),$.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{s=!1,h=!1,i=null,o=null}),this.listenTo(e.editing.view.document,"selectionChange",_=>{h&&_.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const i=e.target,o=this.editor.editing.view.createPositionAt(i,0);return this.editor.editing.mapper.toModelPosition(o).parent.findAncestor("tableCell",{includeSelf:!0})}}function j1(a,e){return a.parent.parent==e.parent.parent}var z1=_e(6306),FP={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};Hn()(z1.Z,FP),z1.Z.locals;function jP(a){const e=a.getSelectedElement();return e&&V1(e)?e:null}function zP(a){const e=a.getFirstPosition();if(!e)return null;let i=e.parent;for(;i;){if(i.is("element")&&V1(i))return i;i=i.parent}return null}function V1(a){return!!a.getCustomProperty("table")&&Do(a)}const n_={autoRefresh:!0},U1=36e5;class Xp{constructor(e,i=n_){if(!e)throw new at("token-missing-token-url",this);i.initValue&&this._validateTokenValue(i.initValue),this.set("value",i.initValue),this._refresh=typeof e=="function"?e:()=>{return o=e,new Promise((s,h)=>{const g=new XMLHttpRequest;g.open("GET",o),g.addEventListener("load",()=>{const _=g.status,$=g.response;return _<200||_>299?h(new at("token-cannot-download-new-token",null)):s($)}),g.addEventListener("error",()=>h(new Error("Network Error"))),g.addEventListener("abort",()=>h(new Error("Abort"))),g.send()});var o},this._options=Object.assign({},n_,i)}init(){return new Promise((e,i)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(i)})}refreshToken(){return this._refresh().then(e=>{this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout()}).then(()=>this)}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const i=typeof e=="string",o=!/^".*"$/.test(e),s=i&&e.split(".").length===3;if(!o||!s)throw new at("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:i}=JSON.parse(atob(e));return i?Math.floor((1e3*i-Date.now())/2):U1}catch{return U1}}static create(e,i=n_){return new Xp(e,i).init()}}ut(Xp,Lt);const VP=Xp,i_=/^data:(\S*?);base64,/;class H1{constructor(e,i,o){if(!e)throw new at("fileuploader-missing-file",null);if(!i)throw new at("fileuploader-missing-token",null);if(!o)throw new at("fileuploader-missing-api-address",null);this.file=function(s){if(typeof s!="string")return!1;const h=s.match(i_);return!(!h||!h.length)}(e)?function(s,h=512){try{const g=s.match(i_)[1],_=atob(s.replace(i_,"")),$=[];for(let et=0;et<_.length;et+=h){const tt=_.slice(et,et+h),ot=new Array(tt.length);for(let dt=0;dt<tt.length;dt++)ot[dt]=tt.charCodeAt(dt);$.push(new Uint8Array(ot))}return new Blob($,{type:g})}catch{throw new at("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=i,this._apiAddress=o}onProgress(e){return this.on("progress",(i,o)=>e(o)),this}onError(e){return this.once("error",(i,o)=>e(o)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this,i=this.xhr;function o(s){return()=>e.fire("error",s)}i.addEventListener("error",o("Network Error")),i.addEventListener("abort",o("Abort")),i.upload&&i.upload.addEventListener("progress",s=>{s.lengthComputable&&this.fire("progress",{total:s.total,uploaded:s.loaded})}),i.addEventListener("load",()=>{const s=i.status,h=i.response;if(s<200||s>299)return this.fire("error",h.message||h.error)})}_sendRequest(){const e=new FormData,i=this.xhr;return e.append("file",this.file),new Promise((o,s)=>{i.addEventListener("load",()=>{const h=i.status,g=i.response;return h<200||h>299?g.message?s(new at("fileuploader-uploading-data-failed",this,{message:g.message})):s(g.error):o(g)}),i.addEventListener("error",()=>s(new Error("Network Error"))),i.addEventListener("abort",()=>s(new Error("Abort"))),i.send(e)})}}ut(H1,tn);class UP{constructor(e,i){if(!e)throw new at("uploadgateway-missing-token",null);if(!i)throw new at("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=i}upload(e){return new H1(e,this._token,this._apiAddress)}}class HP extends _p{static get pluginName(){return"CloudServicesCore"}createToken(e,i){return new VP(e,i)}createUploadGateway(e,i){return new UP(e,i)}}class o_ extends JT{}o_.builtinPlugins=[class extends In{static get requires(){return[py,Hp,OD,pD,iD,by]}static get pluginName(){return"Essentials"}},class extends In{static get requires(){return[vr]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const a=this.editor.config.get("ckfinder.uploadUrl");a&&(this.editor.plugins.get(vr).createUploadAdapter=e=>new GD(e,a,this.editor.t))}},class extends In{static get requires(){return[us]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const a=this.editor.commands;a.get("bulletedList")&&ps(this.editor,this,/^[*-]\s$/,"bulletedList"),a.get("numberedList")&&ps(this.editor,this,/^1[.|)]\s$/,"numberedList"),a.get("todoList")&&ps(this.editor,this,/^\[\s?\]\s$/,"todoList"),a.get("checkTodoList")&&ps(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const a=this.editor.commands;if(a.get("bold")){const e=Gp(this.editor,"bold");Ml(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),Ml(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(a.get("italic")){const e=Gp(this.editor,"italic");Ml(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),Ml(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(a.get("code")){const e=Gp(this.editor,"code");Ml(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(a.get("strikethrough")){const e=Gp(this.editor,"strikethrough");Ml(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const a=this.editor.commands.get("heading");a&&a.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const i=e[7],o=new RegExp(`^(#{${i}})\\s$`);ps(this.editor,this,o,()=>{if(!a.isEnabled||a.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&ps(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const a=this.editor,e=a.model.document.selection;a.commands.get("codeBlock")&&ps(a,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&ps(this.editor,this,/^---$/,"horizontalLine")}},class extends In{static get requires(){return[qD,KD]}static get pluginName(){return"Bold"}},class extends In{static get requires(){return[YD,QD]}static get pluginName(){return"Italic"}},class extends In{static get requires(){return[XD,eI]}static get pluginName(){return"BlockQuote"}},class extends In{static get pluginName(){return"CKBox"}static get requires(){return[Pw,tI]}},class extends In{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",uI,cI]}},class extends _p{static get pluginName(){return"CloudServices"}static get requires(){return[HP]}init(){const a=this.context.config.get("cloudServices")||{};for(const e in a)this[e]=a[e];if(this._tokens=new Map,this.tokenUrl)return this.token=this.context.plugins.get("CloudServicesCore").createToken(this.tokenUrl),this._tokens.set(this.tokenUrl,this.token),this.token.init();this.token=null}registerTokenUrl(a){if(this._tokens.has(a))return Promise.resolve(this.getTokenFor(a));const e=this.context.plugins.get("CloudServicesCore").createToken(a);return this._tokens.set(a,e),e.init()}getTokenFor(a){const e=this._tokens.get(a);if(!e)throw new at("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const a of this._tokens.values())a.destroy()}},class extends In{static get requires(){return[hI,"ImageUpload"]}init(){const a=this.editor;a.plugins.has("ImageBlockEditing")||a.plugins.has("ImageInlineEditing")||yt("easy-image-image-feature-missing",a)}static get pluginName(){return"EasyImage"}},class extends In{static get requires(){return[kI,wI]}static get pluginName(){return"Heading"}},class extends In{static get requires(){return[II,PI]}static get pluginName(){return"Image"}},class extends In{static get requires(){return[RI,OI]}static get pluginName(){return"ImageCaption"}},class extends In{static get requires(){return[rC,zI]}static get pluginName(){return"ImageStyle"}},class extends In{static get requires(){return[$p,Ar]}static get pluginName(){return"ImageToolbar"}afterInit(){const a=this.editor,e=a.t,i=a.plugins.get($p),o=a.plugins.get("ImageUtils");var s;i.register("image",{ariaLabel:e("Image toolbar"),items:(s=a.config.get("image.toolbar")||[],s.map(h=>Ht(h)?h.name:h)),getRelatedElement:h=>o.getClosestSelectedImageWidget(h)})}},class extends In{static get pluginName(){return"ImageUpload"}static get requires(){return[KI,UI,GI]}},class extends In{static get pluginName(){return"Indent"}static get requires(){return[QI,ZI]}},class extends In{static get requires(){return[kM,AM,CM]}static get pluginName(){return"Link"}},class extends In{static get requires(){return[FM,jM]}static get pluginName(){return"List"}},class extends In{static get requires(){return[Qp,qM,WM,Pu]}static get pluginName(){return"MediaEmbed"}},Nu,class extends In{static get pluginName(){return"PasteFromOffice"}static get requires(){return[Or]}init(){const a=this.editor,e=a.editing.view.document,i=[];i.push(new oP(e)),i.push(new JM(e)),a.plugins.get("ClipboardPipeline").on("inputTransformation",(o,s)=>{if(s._isTransformedWithPasteFromOffice||a.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const h=s.dataTransfer.getData("text/html"),g=i.find(_=>_.isActive(h));g&&(s._parsedData=rP(h,e.stylesProcessor),g.execute(s),s._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends In{static get requires(){return[Rw,Ar]}static get pluginName(){return"PictureEditing"}afterInit(){const a=this.editor;a.plugins.has("ImageBlockEditing")&&a.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),a.plugins.has("ImageInlineEditing")&&a.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const a=this.editor,e=a.conversion,i=a.plugins.get("ImageUtils");e.for("upcast").add(function(o){const s=["srcset","media","type","sizes"];return g=>{g.on("element:picture",h)};function h(g,_,$){const et=_.viewItem;if(!$.consumable.test(et,{name:!0}))return;const tt=new Map;for(const At of et.getChildren())if(At.is("element","source")){const St={};for(const Dt of s)At.hasAttribute(Dt)&&$.consumable.test(At,{attributes:Dt})&&(St[Dt]=At.getAttribute(Dt));Object.keys(St).length&&tt.set(At,St)}const ot=o.findViewImgElement(et);if(!ot)return;let dt=_.modelCursor.parent;if(!dt.is("element","imageBlock")){const At=$.convertItem(ot,_.modelCursor);_.modelRange=At.modelRange,_.modelCursor=At.modelCursor,dt=jo(At.modelRange.getItems())}$.consumable.consume(et,{name:!0});for(const[At,St]of tt)$.consumable.consume(At,{attributes:Object.keys(St)});tt.size&&$.writer.setAttribute("sources",Array.from(tt.values()),dt),$.convertChildren(et,dt)}}(i)),e.for("downcast").add(function(o){return h=>{h.on("attribute:sources:imageBlock",s),h.on("attribute:sources:imageInline",s)};function s(h,g,_){if(!_.consumable.consume(g.item,h.name))return;const $=_.writer,et=_.mapper.toViewElement(g.item),tt=o.findViewImgElement(et);if(g.attributeNewValue&&g.attributeNewValue.length){const ot=$.createContainerElement("picture",null,g.attributeNewValue.map(St=>$.createEmptyElement("source",St))),dt=[];let At=tt.parent;for(;At&&At.is("attributeElement");){const St=At.parent;$.unwrap($.createRangeOn(tt),At),dt.unshift(At),At=St}$.insert($.createPositionBefore(tt),ot),$.move($.createRangeOn(tt),$.createPositionAt(ot,"end"));for(const St of dt)$.wrap($.createRangeOn(ot),St)}else if(tt.parent.is("element","picture")){const ot=tt.parent;$.move($.createRangeOn(tt),$.createPositionBefore(ot)),$.remove(ot)}}}(i))}_setupImageUploadEditingIntegration(){const a=this.editor;a.plugins.has("ImageUploadEditing")&&this.listenTo(a.plugins.get("ImageUploadEditing"),"uploadComplete",(e,{imageElement:i,data:o})=>{const s=o.sources;s&&a.model.change(h=>{h.setAttributes({sources:s},i)})})}},class extends In{static get requires(){return[TP,MP,Bs,BP,OP,RP,Pu]}static get pluginName(){return"Table"}},class extends In{static get requires(){return[$p]}static get pluginName(){return"TableToolbar"}afterInit(){const a=this.editor,e=a.t,i=a.plugins.get($p),o=a.config.get("table.contentToolbar"),s=a.config.get("table.tableToolbar");o&&i.register("tableContent",{ariaLabel:e("Table toolbar"),items:o,getRelatedElement:zP}),s&&i.register("table",{ariaLabel:e("Table toolbar"),items:s,getRelatedElement:jP})}},class extends In{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(a){super(a),a.config.define("typing",{transformations:{include:sD}})}init(){const a=this.editor.model.document.selection;a.on("change:range",()=>{this.isEnabled=!a.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const a=this.editor,e=a.model,i=a.plugins.get("Delete"),o=function(h){const g=h.extra||[],_=h.remove||[],$=et=>!_.includes(et);return function(et){const tt=new Set;for(const ot of et)if(typeof ot=="string"&&HA[ot])for(const dt of HA[ot])tt.add(dt);else tt.add(ot);return Array.from(tt)}(h.include.concat(g).filter($)).filter($).map(et=>typeof et=="string"&&UA[et]?UA[et]:et).filter(et=>typeof et=="object").map(et=>({from:aD(et.from),to:lD(et.to)}))}(a.config.get("typing.transformations")),s=new jA(a.model,h=>{for(const g of o)if(g.from.test(h))return{normalizedTransformation:g}});s.on("matched:data",(h,g)=>{if(!g.batch.isTyping)return;const{from:_,to:$}=g.normalizedTransformation,et=_.exec(g.text),tt=$(et.slice(1)),ot=g.range;let dt=et.index;e.enqueueChange(At=>{for(let St=1;St<et.length;St++){const Dt=et[St],Ft=tt[St-1];if(Ft==null){dt+=Dt.length;continue}const Yt=ot.start.getShiftedBy(dt),cn=e.createRange(Yt,Yt.getShiftedBy(Dt.length)),wn=cD(Yt);e.insertContent(At.createText(Ft,wn),cn),dt+=Ft.length}e.enqueueChange(()=>{i.requestUndoOnBackspace()})})}),s.bind("isEnabled").to(this)}}],o_.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","outdent","indent","|","uploadImage","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),nt=nt.default})())})(ckeditor,ckeditorExports);const ClassicEditor=getDefaultExportFromCjs(ckeditorExports),Notebook=()=>{const[c,d]=reactExports.useState("Start making notes..."),[b,j]=reactExports.useState(!1),_e=reactExports.useRef(null);return jsxs("div",{className:"h-full w-full",children:[jsxs("div",{className:"h-10 w-full flex flex-row justify-between text-white m-0 p-1",children:[jsx("h1",{className:"block",onClick:()=>{const st=document.createElement("a");st.style.display="hidden",st.download="notebook.html",st.href="data:text/plain;charset=utf-8,"+encodeURIComponent(c),document.body.appendChild(st),st.click(),document.body.removeChild(st)},children:"Export Notebook"}),b?jsx("input",{type:"file",accept:".html",onInput:async()=>{const it=_e.current.files;if(!it)alert("No valid files selected");else if(it.length>1)alert("Only select one file");else{const ct=new FileReader;ct.addEventListener("load",()=>{d(String(ct.result))}),ct.readAsText(it[0]),j(!1)}},ref:_e}):jsx("h1",{className:"block",onClick:()=>j(!0),children:"Import existing Notebook"})]}),jsx(ckeditorExports$1.CKEditor,{id:"main-editor",editor:ClassicEditor,data:c,onChange:(st,it)=>{d(it.getData())},className:"h-full"})]})},Pdf_Render=c=>{const{file:d,setValid:b}=c,[j,_e]=reactExports.useState(0),nt=rt=>{_e(rt.numPages)};return jsxs("div",{className:"flex flex-row gap-10 h-full",children:[jsxs("div",{className:"w-fit",children:[jsxs("div",{className:"h-10 w-full flex flex-row justify-between text-white m-0 p-1",children:[jsx("h1",{className:"block",children:d.name}),jsx("button",{className:"w-fit m-0 basis-1 block",onClick:()=>b(!1),children:"Close"})]}),jsx("div",{className:"overflow-y-scroll h-full",children:jsx(Document,{file:d,onLoadSuccess:nt,renderMode:"svg",className:"w-1/2",children:Array.from(new Array(j),(rt,st)=>jsxs("div",{children:[jsx(Page$1,{pageNumber:st+1,width:window.innerWidth*.4},`page_${st+1}`),jsx("div",{className:"h-2 bg-black m-0"})]},st))})})]}),jsx(Notebook,{})]})};function App(){const[c,d]=reactExports.useState(new File([],"none")),[b,j]=reactExports.useState(!1);return jsx("div",{className:"bg-slate-900 h-screen w-screen p-2 overflow-y-hidden relative",children:b?jsx(Pdf_Render,{file:c,setValid:j}):jsx(Pdf_Upload,{setPDF:d,setValid:j})})}const global$1="";client.createRoot(document.getElementById("root")).render(jsx(React.StrictMode,{children:jsx(App,{})}));
